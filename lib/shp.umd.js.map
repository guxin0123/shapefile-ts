{"version":3,"file":"shp.umd.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/fflate/esm/browser.js","../src/unzip.ts","../node_modules/proj4/lib/constants/values.js","../node_modules/proj4/lib/constants/PrimeMeridian.js","../node_modules/proj4/lib/constants/units.js","../node_modules/proj4/lib/match.js","../node_modules/proj4/lib/projString.js","../node_modules/wkt-parser/parser.js","../node_modules/wkt-parser/process.js","../node_modules/wkt-parser/index.js","../node_modules/proj4/lib/defs.js","../node_modules/proj4/lib/global.js","../node_modules/proj4/lib/parseCode.js","../node_modules/proj4/lib/extend.js","../node_modules/proj4/lib/common/msfnz.js","../node_modules/proj4/lib/common/sign.js","../node_modules/proj4/lib/common/adjust_lon.js","../node_modules/proj4/lib/common/tsfnz.js","../node_modules/proj4/lib/common/phi2z.js","../node_modules/proj4/lib/projections/merc.js","../node_modules/proj4/lib/projections/longlat.js","../node_modules/proj4/lib/projections.js","../node_modules/proj4/lib/constants/Ellipsoid.js","../node_modules/proj4/lib/constants/Datum.js","../node_modules/proj4/lib/nadgrid.js","../node_modules/proj4/lib/Proj.js","../node_modules/proj4/lib/deriveConstants.js","../node_modules/proj4/lib/datum.js","../node_modules/proj4/lib/datumUtils.js","../node_modules/proj4/lib/datum_transform.js","../node_modules/proj4/lib/adjust_axis.js","../node_modules/proj4/lib/common/toPoint.js","../node_modules/proj4/lib/checkSanity.js","../node_modules/proj4/lib/transform.js","../node_modules/proj4/lib/core.js","../node_modules/mgrs/mgrs.js","../node_modules/proj4/lib/Point.js","../node_modules/proj4/lib/common/pj_enfn.js","../node_modules/proj4/lib/common/pj_mlfn.js","../node_modules/proj4/lib/common/pj_inv_mlfn.js","../node_modules/proj4/lib/projections/tmerc.js","../node_modules/proj4/lib/common/sinh.js","../node_modules/proj4/lib/common/hypot.js","../node_modules/proj4/lib/common/asinhy.js","../node_modules/proj4/lib/common/log1py.js","../node_modules/proj4/lib/common/gatg.js","../node_modules/proj4/lib/common/clens_cmplx.js","../node_modules/proj4/lib/common/cosh.js","../node_modules/proj4/lib/projections/etmerc.js","../node_modules/proj4/lib/common/clens.js","../node_modules/proj4/lib/projections/utm.js","../node_modules/proj4/lib/common/adjust_zone.js","../node_modules/proj4/lib/common/srat.js","../node_modules/proj4/lib/projections/gauss.js","../node_modules/proj4/lib/projections/sterea.js","../node_modules/proj4/lib/projections/stere.js","../node_modules/proj4/lib/projections/somerc.js","../node_modules/proj4/lib/projections/omerc.js","../node_modules/proj4/lib/projections/lcc.js","../node_modules/proj4/lib/projections/krovak.js","../node_modules/proj4/lib/common/mlfn.js","../node_modules/proj4/lib/common/e0fn.js","../node_modules/proj4/lib/common/e1fn.js","../node_modules/proj4/lib/common/e2fn.js","../node_modules/proj4/lib/common/e3fn.js","../node_modules/proj4/lib/common/gN.js","../node_modules/proj4/lib/common/adjust_lat.js","../node_modules/proj4/lib/common/imlfn.js","../node_modules/proj4/lib/projections/cass.js","../node_modules/proj4/lib/common/qsfnz.js","../node_modules/proj4/lib/projections/laea.js","../node_modules/proj4/lib/common/asinz.js","../node_modules/proj4/lib/projections/aea.js","../node_modules/proj4/lib/projections/gnom.js","../node_modules/proj4/lib/projections/cea.js","../node_modules/proj4/lib/common/iqsfnz.js","../node_modules/proj4/lib/projections/eqc.js","../node_modules/proj4/lib/projections/poly.js","../node_modules/proj4/lib/projections/nzmg.js","../node_modules/proj4/lib/projections/mill.js","../node_modules/proj4/lib/projections/sinu.js","../node_modules/proj4/lib/projections/moll.js","../node_modules/proj4/lib/projections/eqdc.js","../node_modules/proj4/lib/projections/vandg.js","../node_modules/proj4/lib/projections/aeqd.js","../node_modules/proj4/lib/projections/ortho.js","../node_modules/proj4/lib/projections/qsc.js","../node_modules/proj4/lib/projections/robin.js","../node_modules/proj4/lib/projections/geocent.js","../node_modules/proj4/lib/projections/tpers.js","../node_modules/proj4/lib/projections/geos.js","../node_modules/proj4/lib/index.js","../node_modules/proj4/projs.js","../src/entity/shp-row.ts","../src/entity/shp-header.ts","../src/entity/convert/shp-base.ts","../src/entity/convert/shp-point.ts","../src/entity/convert/shp-polyline.ts","../src/entity/convert/shp-polygon.ts","../src/entity/convert/shp-multi-point.ts","../src/entity/convert/shp-z-point.ts","../src/entity/convert/shp-z-polyline.ts","../src/entity/convert/shp-z-polygon.ts","../src/entity/convert/shp-z-multi_point.ts","../src/parse-shp.ts","../src/binaryajax-fetch.ts","../src/entity/shp-entity.ts","../src/decoder-browser.ts","../src/entity/dbf-header.ts","../src/parse-dbf.ts","../src/shp-helper.ts","../src/index.ts"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n","// DEFLATE is a complex format; to read this code, you should probably check the RFC first:\n// https://tools.ietf.org/html/rfc1951\n// You may also wish to take a look at the guide I made about this program:\n// https://gist.github.com/101arrowz/253f31eb5abc3d9275ab943003ffecad\n// Some of the following code is similar to that of UZIP.js:\n// https://github.com/photopea/UZIP.js\n// However, the vast majority of the codebase has diverged from UZIP.js to increase performance and reduce bundle size.\n// Sometimes 0 will appear where -1 would be more appropriate. This is because using a uint\n// is better for memory in most engines (I *think*).\nvar ch2 = {};\nvar wk = (function (c, id, msg, transfer, cb) {\n    var w = new Worker(ch2[id] || (ch2[id] = URL.createObjectURL(new Blob([\n        c + ';addEventListener(\"error\",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'\n    ], { type: 'text/javascript' }))));\n    w.onmessage = function (e) {\n        var d = e.data, ed = d.$e$;\n        if (ed) {\n            var err = new Error(ed[0]);\n            err['code'] = ed[1];\n            err.stack = ed[2];\n            cb(err, null);\n        }\n        else\n            cb(null, d);\n    };\n    w.postMessage(msg, transfer);\n    return w;\n});\n\n// aliases for shorter compressed code (most minifers don't do this)\nvar u8 = Uint8Array, u16 = Uint16Array, i32 = Int32Array;\n// fixed length extra bits\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, /* unused */ 0, 0, /* impossible */ 0]);\n// fixed distance extra bits\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, /* unused */ 0, 0]);\n// code length index map\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\n// get base, reverse index map from extra bits\nvar freb = function (eb, start) {\n    var b = new u16(31);\n    for (var i = 0; i < 31; ++i) {\n        b[i] = start += 1 << eb[i - 1];\n    }\n    // numbers here are at max 18 bits\n    var r = new i32(b[30]);\n    for (var i = 1; i < 30; ++i) {\n        for (var j = b[i]; j < b[i + 1]; ++j) {\n            r[j] = ((j - b[i]) << 5) | i;\n        }\n    }\n    return { b: b, r: r };\n};\nvar _a = freb(fleb, 2), fl = _a.b, revfl = _a.r;\n// we can ignore the fact that the other numbers are wrong; they never happen anyway\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b.b, revfd = _b.r;\n// map of value to reverse (assuming 16 bits)\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n    // reverse table algorithm from SO\n    var x = ((i & 0xAAAA) >> 1) | ((i & 0x5555) << 1);\n    x = ((x & 0xCCCC) >> 2) | ((x & 0x3333) << 2);\n    x = ((x & 0xF0F0) >> 4) | ((x & 0x0F0F) << 4);\n    rev[i] = (((x & 0xFF00) >> 8) | ((x & 0x00FF) << 8)) >> 1;\n}\n// create huffman tree from u8 \"map\": index -> code length for code index\n// mb (max bits) must be at most 15\n// TODO: optimize/split up?\nvar hMap = (function (cd, mb, r) {\n    var s = cd.length;\n    // index\n    var i = 0;\n    // u16 \"map\": index -> # of codes with bit length = index\n    var l = new u16(mb);\n    // length of cd must be 288 (total # of codes)\n    for (; i < s; ++i) {\n        if (cd[i])\n            ++l[cd[i] - 1];\n    }\n    // u16 \"map\": index -> minimum code for bit length = index\n    var le = new u16(mb);\n    for (i = 1; i < mb; ++i) {\n        le[i] = (le[i - 1] + l[i - 1]) << 1;\n    }\n    var co;\n    if (r) {\n        // u16 \"map\": index -> number of actual bits, symbol for code\n        co = new u16(1 << mb);\n        // bits to remove for reverser\n        var rvb = 15 - mb;\n        for (i = 0; i < s; ++i) {\n            // ignore 0 lengths\n            if (cd[i]) {\n                // num encoding both symbol and bits read\n                var sv = (i << 4) | cd[i];\n                // free bits\n                var r_1 = mb - cd[i];\n                // start value\n                var v = le[cd[i] - 1]++ << r_1;\n                // m is end value\n                for (var m = v | ((1 << r_1) - 1); v <= m; ++v) {\n                    // every 16 bit value starting with the code yields the same result\n                    co[rev[v] >> rvb] = sv;\n                }\n            }\n        }\n    }\n    else {\n        co = new u16(s);\n        for (i = 0; i < s; ++i) {\n            if (cd[i]) {\n                co[i] = rev[le[cd[i] - 1]++] >> (15 - cd[i]);\n            }\n        }\n    }\n    return co;\n});\n// fixed length tree\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n    flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n    flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n    flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n    flt[i] = 8;\n// fixed distance tree\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n    fdt[i] = 5;\n// fixed length map\nvar flm = /*#__PURE__*/ hMap(flt, 9, 0), flrm = /*#__PURE__*/ hMap(flt, 9, 1);\n// fixed distance map\nvar fdm = /*#__PURE__*/ hMap(fdt, 5, 0), fdrm = /*#__PURE__*/ hMap(fdt, 5, 1);\n// find max of array\nvar max = function (a) {\n    var m = a[0];\n    for (var i = 1; i < a.length; ++i) {\n        if (a[i] > m)\n            m = a[i];\n    }\n    return m;\n};\n// read d, starting at bit p and mask with m\nvar bits = function (d, p, m) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8)) >> (p & 7)) & m;\n};\n// read d, starting at bit p continuing for at least 16 bits\nvar bits16 = function (d, p) {\n    var o = (p / 8) | 0;\n    return ((d[o] | (d[o + 1] << 8) | (d[o + 2] << 16)) >> (p & 7));\n};\n// get end of byte\nvar shft = function (p) { return ((p + 7) / 8) | 0; };\n// typed array slice - allows garbage collector to free original reference,\n// while being more compatible than .slice\nvar slc = function (v, s, e) {\n    if (s == null || s < 0)\n        s = 0;\n    if (e == null || e > v.length)\n        e = v.length;\n    // can't use .constructor in case user-supplied\n    return new u8(v.subarray(s, e));\n};\n/**\n * Codes for errors generated within this library\n */\nexport var FlateErrorCode = {\n    UnexpectedEOF: 0,\n    InvalidBlockType: 1,\n    InvalidLengthLiteral: 2,\n    InvalidDistance: 3,\n    StreamFinished: 4,\n    NoStreamHandler: 5,\n    InvalidHeader: 6,\n    NoCallback: 7,\n    InvalidUTF8: 8,\n    ExtraFieldTooLong: 9,\n    InvalidDate: 10,\n    FilenameTooLong: 11,\n    StreamFinishing: 12,\n    InvalidZipData: 13,\n    UnknownCompressionMethod: 14\n};\n// error codes\nvar ec = [\n    'unexpected EOF',\n    'invalid block type',\n    'invalid length/literal',\n    'invalid distance',\n    'stream finished',\n    'no stream handler',\n    ,\n    'no callback',\n    'invalid UTF-8 data',\n    'extra field too long',\n    'date not in range 1980-2099',\n    'filename too long',\n    'stream finishing',\n    'invalid zip data'\n    // determined by unknown compression method\n];\n;\nvar err = function (ind, msg, nt) {\n    var e = new Error(msg || ec[ind]);\n    e.code = ind;\n    if (Error.captureStackTrace)\n        Error.captureStackTrace(e, err);\n    if (!nt)\n        throw e;\n    return e;\n};\n// expands raw DEFLATE data\nvar inflt = function (dat, st, buf, dict) {\n    // source length       dict length\n    var sl = dat.length, dl = dict ? dict.length : 0;\n    if (!sl || st.f && !st.l)\n        return buf || new u8(0);\n    var noBuf = !buf;\n    // have to estimate size\n    var resize = noBuf || st.i != 2;\n    // no state\n    var noSt = st.i;\n    // Assumes roughly 33% compression ratio average\n    if (noBuf)\n        buf = new u8(sl * 3);\n    // ensure buffer can fit at least l elements\n    var cbuf = function (l) {\n        var bl = buf.length;\n        // need to increase size to fit\n        if (l > bl) {\n            // Double or set to necessary, whichever is greater\n            var nbuf = new u8(Math.max(bl * 2, l));\n            nbuf.set(buf);\n            buf = nbuf;\n        }\n    };\n    //  last chunk         bitpos           bytes\n    var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n    // total bits\n    var tbts = sl * 8;\n    do {\n        if (!lm) {\n            // BFINAL - this is only 1 when last chunk is next\n            final = bits(dat, pos, 1);\n            // type: 0 = no compression, 1 = fixed huffman, 2 = dynamic huffman\n            var type = bits(dat, pos + 1, 3);\n            pos += 3;\n            if (!type) {\n                // go to end of byte boundary\n                var s = shft(pos) + 4, l = dat[s - 4] | (dat[s - 3] << 8), t = s + l;\n                if (t > sl) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                // ensure size\n                if (resize)\n                    cbuf(bt + l);\n                // Copy over uncompressed data\n                buf.set(dat.subarray(s, t), bt);\n                // Get new bitpos, update byte count\n                st.b = bt += l, st.p = pos = t * 8, st.f = final;\n                continue;\n            }\n            else if (type == 1)\n                lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n            else if (type == 2) {\n                //  literal                            lengths\n                var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n                var tl = hLit + bits(dat, pos + 5, 31) + 1;\n                pos += 14;\n                // length+distance tree\n                var ldt = new u8(tl);\n                // code length tree\n                var clt = new u8(19);\n                for (var i = 0; i < hcLen; ++i) {\n                    // use index map to get real code\n                    clt[clim[i]] = bits(dat, pos + i * 3, 7);\n                }\n                pos += hcLen * 3;\n                // code lengths bits\n                var clb = max(clt), clbmsk = (1 << clb) - 1;\n                // code lengths map\n                var clm = hMap(clt, clb, 1);\n                for (var i = 0; i < tl;) {\n                    var r = clm[bits(dat, pos, clbmsk)];\n                    // bits read\n                    pos += r & 15;\n                    // symbol\n                    var s = r >> 4;\n                    // code length to copy\n                    if (s < 16) {\n                        ldt[i++] = s;\n                    }\n                    else {\n                        //  copy   count\n                        var c = 0, n = 0;\n                        if (s == 16)\n                            n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n                        else if (s == 17)\n                            n = 3 + bits(dat, pos, 7), pos += 3;\n                        else if (s == 18)\n                            n = 11 + bits(dat, pos, 127), pos += 7;\n                        while (n--)\n                            ldt[i++] = c;\n                    }\n                }\n                //    length tree                 distance tree\n                var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n                // max length bits\n                lbt = max(lt);\n                // max dist bits\n                dbt = max(dt);\n                lm = hMap(lt, lbt, 1);\n                dm = hMap(dt, dbt, 1);\n            }\n            else\n                err(1);\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n        }\n        // Make sure the buffer can hold this + the largest possible addition\n        // Maximum chunk size (practically, theoretically infinite) is 2^17\n        if (resize)\n            cbuf(bt + 131072);\n        var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n        var lpos = pos;\n        for (;; lpos = pos) {\n            // bits read, code\n            var c = lm[bits16(dat, pos) & lms], sym = c >> 4;\n            pos += c & 15;\n            if (pos > tbts) {\n                if (noSt)\n                    err(0);\n                break;\n            }\n            if (!c)\n                err(2);\n            if (sym < 256)\n                buf[bt++] = sym;\n            else if (sym == 256) {\n                lpos = pos, lm = null;\n                break;\n            }\n            else {\n                var add = sym - 254;\n                // no extra bits needed if less\n                if (sym > 264) {\n                    // index\n                    var i = sym - 257, b = fleb[i];\n                    add = bits(dat, pos, (1 << b) - 1) + fl[i];\n                    pos += b;\n                }\n                // dist\n                var d = dm[bits16(dat, pos) & dms], dsym = d >> 4;\n                if (!d)\n                    err(3);\n                pos += d & 15;\n                var dt = fd[dsym];\n                if (dsym > 3) {\n                    var b = fdeb[dsym];\n                    dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n                }\n                if (pos > tbts) {\n                    if (noSt)\n                        err(0);\n                    break;\n                }\n                if (resize)\n                    cbuf(bt + 131072);\n                var end = bt + add;\n                if (bt < dt) {\n                    var shift = dl - dt, dend = Math.min(dt, end);\n                    if (shift + bt < 0)\n                        err(3);\n                    for (; bt < dend; ++bt)\n                        buf[bt] = dict[shift + bt];\n                }\n                for (; bt < end; ++bt)\n                    buf[bt] = buf[bt - dt];\n            }\n        }\n        st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n        if (lm)\n            final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n    } while (!final);\n    // don't reallocate for streams or user buffers\n    return bt != buf.length && noBuf ? slc(buf, 0, bt) : buf.subarray(0, bt);\n};\n// starting at p, write the minimum number of bits that can hold v to d\nvar wbits = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n};\n// starting at p, write the minimum number of bits (>8) that can hold v to d\nvar wbits16 = function (d, p, v) {\n    v <<= p & 7;\n    var o = (p / 8) | 0;\n    d[o] |= v;\n    d[o + 1] |= v >> 8;\n    d[o + 2] |= v >> 16;\n};\n// creates code lengths from a frequency table\nvar hTree = function (d, mb) {\n    // Need extra info to make a tree\n    var t = [];\n    for (var i = 0; i < d.length; ++i) {\n        if (d[i])\n            t.push({ s: i, f: d[i] });\n    }\n    var s = t.length;\n    var t2 = t.slice();\n    if (!s)\n        return { t: et, l: 0 };\n    if (s == 1) {\n        var v = new u8(t[0].s + 1);\n        v[t[0].s] = 1;\n        return { t: v, l: 1 };\n    }\n    t.sort(function (a, b) { return a.f - b.f; });\n    // after i2 reaches last ind, will be stopped\n    // freq must be greater than largest possible number of symbols\n    t.push({ s: -1, f: 25001 });\n    var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n    t[0] = { s: -1, f: l.f + r.f, l: l, r: r };\n    // efficient algorithm from UZIP.js\n    // i0 is lookbehind, i2 is lookahead - after processing two low-freq\n    // symbols that combined have high freq, will start processing i2 (high-freq,\n    // non-composite) symbols instead\n    // see https://reddit.com/r/photopea/comments/ikekht/uzipjs_questions/\n    while (i1 != s - 1) {\n        l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n        r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n        t[i1++] = { s: -1, f: l.f + r.f, l: l, r: r };\n    }\n    var maxSym = t2[0].s;\n    for (var i = 1; i < s; ++i) {\n        if (t2[i].s > maxSym)\n            maxSym = t2[i].s;\n    }\n    // code lengths\n    var tr = new u16(maxSym + 1);\n    // max bits in tree\n    var mbt = ln(t[i1 - 1], tr, 0);\n    if (mbt > mb) {\n        // more algorithms from UZIP.js\n        // TODO: find out how this code works (debt)\n        //  ind    debt\n        var i = 0, dt = 0;\n        //    left            cost\n        var lft = mbt - mb, cst = 1 << lft;\n        t2.sort(function (a, b) { return tr[b.s] - tr[a.s] || a.f - b.f; });\n        for (; i < s; ++i) {\n            var i2_1 = t2[i].s;\n            if (tr[i2_1] > mb) {\n                dt += cst - (1 << (mbt - tr[i2_1]));\n                tr[i2_1] = mb;\n            }\n            else\n                break;\n        }\n        dt >>= lft;\n        while (dt > 0) {\n            var i2_2 = t2[i].s;\n            if (tr[i2_2] < mb)\n                dt -= 1 << (mb - tr[i2_2]++ - 1);\n            else\n                ++i;\n        }\n        for (; i >= 0 && dt; --i) {\n            var i2_3 = t2[i].s;\n            if (tr[i2_3] == mb) {\n                --tr[i2_3];\n                ++dt;\n            }\n        }\n        mbt = mb;\n    }\n    return { t: new u8(tr), l: mbt };\n};\n// get the max length and assign length codes\nvar ln = function (n, l, d) {\n    return n.s == -1\n        ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1))\n        : (l[n.s] = d);\n};\n// length codes generation\nvar lc = function (c) {\n    var s = c.length;\n    // Note that the semicolon was intentional\n    while (s && !c[--s])\n        ;\n    var cl = new u16(++s);\n    //  ind      num         streak\n    var cli = 0, cln = c[0], cls = 1;\n    var w = function (v) { cl[cli++] = v; };\n    for (var i = 1; i <= s; ++i) {\n        if (c[i] == cln && i != s)\n            ++cls;\n        else {\n            if (!cln && cls > 2) {\n                for (; cls > 138; cls -= 138)\n                    w(32754);\n                if (cls > 2) {\n                    w(cls > 10 ? ((cls - 11) << 5) | 28690 : ((cls - 3) << 5) | 12305);\n                    cls = 0;\n                }\n            }\n            else if (cls > 3) {\n                w(cln), --cls;\n                for (; cls > 6; cls -= 6)\n                    w(8304);\n                if (cls > 2)\n                    w(((cls - 3) << 5) | 8208), cls = 0;\n            }\n            while (cls--)\n                w(cln);\n            cls = 1;\n            cln = c[i];\n        }\n    }\n    return { c: cl.subarray(0, cli), n: s };\n};\n// calculate the length of output from tree, code lengths\nvar clen = function (cf, cl) {\n    var l = 0;\n    for (var i = 0; i < cl.length; ++i)\n        l += cf[i] * cl[i];\n    return l;\n};\n// writes a fixed block\n// returns the new bit pos\nvar wfblk = function (out, pos, dat) {\n    // no need to write 00 as type: TypedArray defaults to 0\n    var s = dat.length;\n    var o = shft(pos + 2);\n    out[o] = s & 255;\n    out[o + 1] = s >> 8;\n    out[o + 2] = out[o] ^ 255;\n    out[o + 3] = out[o + 1] ^ 255;\n    for (var i = 0; i < s; ++i)\n        out[o + i + 4] = dat[i];\n    return (o + 4 + s) * 8;\n};\n// writes a block\nvar wblk = function (dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n    wbits(out, p++, final);\n    ++lf[256];\n    var _a = hTree(lf, 15), dlt = _a.t, mlb = _a.l;\n    var _b = hTree(df, 15), ddt = _b.t, mdb = _b.l;\n    var _c = lc(dlt), lclt = _c.c, nlc = _c.n;\n    var _d = lc(ddt), lcdt = _d.c, ndc = _d.n;\n    var lcfreq = new u16(19);\n    for (var i = 0; i < lclt.length; ++i)\n        ++lcfreq[lclt[i] & 31];\n    for (var i = 0; i < lcdt.length; ++i)\n        ++lcfreq[lcdt[i] & 31];\n    var _e = hTree(lcfreq, 7), lct = _e.t, mlcb = _e.l;\n    var nlcc = 19;\n    for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n        ;\n    var flen = (bl + 5) << 3;\n    var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n    var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + 2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18];\n    if (bs >= 0 && flen <= ftlen && flen <= dtlen)\n        return wfblk(out, p, dat.subarray(bs, bs + bl));\n    var lm, ll, dm, dl;\n    wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n    if (dtlen < ftlen) {\n        lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n        var llm = hMap(lct, mlcb, 0);\n        wbits(out, p, nlc - 257);\n        wbits(out, p + 5, ndc - 1);\n        wbits(out, p + 10, nlcc - 4);\n        p += 14;\n        for (var i = 0; i < nlcc; ++i)\n            wbits(out, p + 3 * i, lct[clim[i]]);\n        p += 3 * nlcc;\n        var lcts = [lclt, lcdt];\n        for (var it = 0; it < 2; ++it) {\n            var clct = lcts[it];\n            for (var i = 0; i < clct.length; ++i) {\n                var len = clct[i] & 31;\n                wbits(out, p, llm[len]), p += lct[len];\n                if (len > 15)\n                    wbits(out, p, (clct[i] >> 5) & 127), p += clct[i] >> 12;\n            }\n        }\n    }\n    else {\n        lm = flm, ll = flt, dm = fdm, dl = fdt;\n    }\n    for (var i = 0; i < li; ++i) {\n        var sym = syms[i];\n        if (sym > 255) {\n            var len = (sym >> 18) & 31;\n            wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n            if (len > 7)\n                wbits(out, p, (sym >> 23) & 31), p += fleb[len];\n            var dst = sym & 31;\n            wbits16(out, p, dm[dst]), p += dl[dst];\n            if (dst > 3)\n                wbits16(out, p, (sym >> 5) & 8191), p += fdeb[dst];\n        }\n        else {\n            wbits16(out, p, lm[sym]), p += ll[sym];\n        }\n    }\n    wbits16(out, p, lm[256]);\n    return p + ll[256];\n};\n// deflate options (nice << 13) | chain\nvar deo = /*#__PURE__*/ new i32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\n// empty\nvar et = /*#__PURE__*/ new u8(0);\n// compresses data into a raw DEFLATE buffer\nvar dflt = function (dat, lvl, plvl, pre, post, st) {\n    var s = st.z || dat.length;\n    var o = new u8(pre + s + 5 * (1 + Math.ceil(s / 7000)) + post);\n    // writing to this writes to the output buffer\n    var w = o.subarray(pre, o.length - post);\n    var lst = st.l;\n    var pos = (st.r || 0) & 7;\n    if (lvl) {\n        if (pos)\n            w[0] = st.r >> 3;\n        var opt = deo[lvl - 1];\n        var n = opt >> 13, c = opt & 8191;\n        var msk_1 = (1 << plvl) - 1;\n        //    prev 2-byte val map    curr 2-byte val map\n        var prev = st.p || new u16(32768), head = st.h || new u16(msk_1 + 1);\n        var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n        var hsh = function (i) { return (dat[i] ^ (dat[i + 1] << bs1_1) ^ (dat[i + 2] << bs2_1)) & msk_1; };\n        // 24576 is an arbitrary number of maximum symbols per block\n        // 424 buffer for last block\n        var syms = new i32(25000);\n        // length/literal freq   distance freq\n        var lf = new u16(288), df = new u16(32);\n        //  l/lcnt  exbits  index          l/lind  waitdx          blkpos\n        var lc_1 = 0, eb = 0, i = st.i || 0, li = 0, wi = st.w || 0, bs = 0;\n        for (; i + 2 < s; ++i) {\n            // hash value\n            var hv = hsh(i);\n            // index mod 32768    previous index mod\n            var imod = i & 32767, pimod = head[hv];\n            prev[imod] = pimod;\n            head[hv] = imod;\n            // We always should modify head and prev, but only add symbols if\n            // this data is not yet processed (\"wait\" for wait index)\n            if (wi <= i) {\n                // bytes remaining\n                var rem = s - i;\n                if ((lc_1 > 7000 || li > 24576) && (rem > 423 || !lst)) {\n                    pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n                    li = lc_1 = eb = 0, bs = i;\n                    for (var j = 0; j < 286; ++j)\n                        lf[j] = 0;\n                    for (var j = 0; j < 30; ++j)\n                        df[j] = 0;\n                }\n                //  len    dist   chain\n                var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n                if (rem > 2 && hv == hsh(i - dif)) {\n                    var maxn = Math.min(n, rem) - 1;\n                    var maxd = Math.min(32767, i);\n                    // max possible length\n                    // not capped at dif because decompressors implement \"rolling\" index population\n                    var ml = Math.min(258, rem);\n                    while (dif <= maxd && --ch_1 && imod != pimod) {\n                        if (dat[i + l] == dat[i + l - dif]) {\n                            var nl = 0;\n                            for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                                ;\n                            if (nl > l) {\n                                l = nl, d = dif;\n                                // break out early when we reach \"nice\" (we are satisfied enough)\n                                if (nl > maxn)\n                                    break;\n                                // now, find the rarest 2-byte sequence within this\n                                // length of literals and search for that instead.\n                                // Much faster than just using the start\n                                var mmd = Math.min(dif, nl - 2);\n                                var md = 0;\n                                for (var j = 0; j < mmd; ++j) {\n                                    var ti = i - dif + j & 32767;\n                                    var pti = prev[ti];\n                                    var cd = ti - pti & 32767;\n                                    if (cd > md)\n                                        md = cd, pimod = ti;\n                                }\n                            }\n                        }\n                        // check the previous match\n                        imod = pimod, pimod = prev[imod];\n                        dif += imod - pimod & 32767;\n                    }\n                }\n                // d will be nonzero only when a match was found\n                if (d) {\n                    // store both dist and len data in one int32\n                    // Make sure this is recognized as a len/dist with 28th bit (2^28)\n                    syms[li++] = 268435456 | (revfl[l] << 18) | revfd[d];\n                    var lin = revfl[l] & 31, din = revfd[d] & 31;\n                    eb += fleb[lin] + fdeb[din];\n                    ++lf[257 + lin];\n                    ++df[din];\n                    wi = i + l;\n                    ++lc_1;\n                }\n                else {\n                    syms[li++] = dat[i];\n                    ++lf[dat[i]];\n                }\n            }\n        }\n        for (i = Math.max(i, wi); i < s; ++i) {\n            syms[li++] = dat[i];\n            ++lf[dat[i]];\n        }\n        pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n        if (!lst) {\n            st.r = (pos & 7) | w[(pos / 8) | 0] << 3;\n            // shft(pos) now 1 less if pos & 7 != 0\n            pos -= 7;\n            st.h = head, st.p = prev, st.i = i, st.w = wi;\n        }\n    }\n    else {\n        for (var i = st.w || 0; i < s + lst; i += 65535) {\n            // end\n            var e = i + 65535;\n            if (e >= s) {\n                // write final block\n                w[(pos / 8) | 0] = lst;\n                e = s;\n            }\n            pos = wfblk(w, pos + 1, dat.subarray(i, e));\n        }\n        st.i = s;\n    }\n    return slc(o, 0, pre + shft(pos) + post);\n};\n// CRC32 table\nvar crct = /*#__PURE__*/ (function () {\n    var t = new Int32Array(256);\n    for (var i = 0; i < 256; ++i) {\n        var c = i, k = 9;\n        while (--k)\n            c = ((c & 1) && -306674912) ^ (c >>> 1);\n        t[i] = c;\n    }\n    return t;\n})();\n// CRC32\nvar crc = function () {\n    var c = -1;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var cr = c;\n            for (var i = 0; i < d.length; ++i)\n                cr = crct[(cr & 255) ^ d[i]] ^ (cr >>> 8);\n            c = cr;\n        },\n        d: function () { return ~c; }\n    };\n};\n// Adler32\nvar adler = function () {\n    var a = 1, b = 0;\n    return {\n        p: function (d) {\n            // closures have awful performance\n            var n = a, m = b;\n            var l = d.length | 0;\n            for (var i = 0; i != l;) {\n                var e = Math.min(i + 2655, l);\n                for (; i < e; ++i)\n                    m += n += d[i];\n                n = (n & 65535) + 15 * (n >> 16), m = (m & 65535) + 15 * (m >> 16);\n            }\n            a = n, b = m;\n        },\n        d: function () {\n            a %= 65521, b %= 65521;\n            return (a & 255) << 24 | (a & 0xFF00) << 8 | (b & 255) << 8 | (b >> 8);\n        }\n    };\n};\n;\n// deflate with opts\nvar dopt = function (dat, opt, pre, post, st) {\n    if (!st) {\n        st = { l: 1 };\n        if (opt.dictionary) {\n            var dict = opt.dictionary.subarray(-32768);\n            var newDat = new u8(dict.length + dat.length);\n            newDat.set(dict);\n            newDat.set(dat, dict.length);\n            dat = newDat;\n            st.w = dict.length;\n        }\n    }\n    return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? (st.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 20) : (12 + opt.mem), pre, post, st);\n};\n// Walmart object spread\nvar mrg = function (a, b) {\n    var o = {};\n    for (var k in a)\n        o[k] = a[k];\n    for (var k in b)\n        o[k] = b[k];\n    return o;\n};\n// worker clone\n// This is possibly the craziest part of the entire codebase, despite how simple it may seem.\n// The only parameter to this function is a closure that returns an array of variables outside of the function scope.\n// We're going to try to figure out the variable names used in the closure as strings because that is crucial for workerization.\n// We will return an object mapping of true variable name to value (basically, the current scope as a JS object).\n// The reason we can't just use the original variable names is minifiers mangling the toplevel scope.\n// This took me three weeks to figure out how to do.\nvar wcln = function (fn, fnStr, td) {\n    var dt = fn();\n    var st = fn.toString();\n    var ks = st.slice(st.indexOf('[') + 1, st.lastIndexOf(']')).replace(/\\s+/g, '').split(',');\n    for (var i = 0; i < dt.length; ++i) {\n        var v = dt[i], k = ks[i];\n        if (typeof v == 'function') {\n            fnStr += ';' + k + '=';\n            var st_1 = v.toString();\n            if (v.prototype) {\n                // for global objects\n                if (st_1.indexOf('[native code]') != -1) {\n                    var spInd = st_1.indexOf(' ', 8) + 1;\n                    fnStr += st_1.slice(spInd, st_1.indexOf('(', spInd));\n                }\n                else {\n                    fnStr += st_1;\n                    for (var t in v.prototype)\n                        fnStr += ';' + k + '.prototype.' + t + '=' + v.prototype[t].toString();\n                }\n            }\n            else\n                fnStr += st_1;\n        }\n        else\n            td[k] = v;\n    }\n    return fnStr;\n};\nvar ch = [];\n// clone bufs\nvar cbfs = function (v) {\n    var tl = [];\n    for (var k in v) {\n        if (v[k].buffer) {\n            tl.push((v[k] = new v[k].constructor(v[k])).buffer);\n        }\n    }\n    return tl;\n};\n// use a worker to execute code\nvar wrkr = function (fns, init, id, cb) {\n    if (!ch[id]) {\n        var fnStr = '', td_1 = {}, m = fns.length - 1;\n        for (var i = 0; i < m; ++i)\n            fnStr = wcln(fns[i], fnStr, td_1);\n        ch[id] = { c: wcln(fns[m], fnStr, td_1), e: td_1 };\n    }\n    var td = mrg({}, ch[id].e);\n    return wk(ch[id].c + ';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage=' + init.toString() + '}', id, td, cbfs(td), cb);\n};\n// base async inflate fn\nvar bInflt = function () { return [u8, u16, i32, fleb, fdeb, clim, fl, fd, flrm, fdrm, rev, ec, hMap, max, bits, bits16, shft, slc, err, inflt, inflateSync, pbf, gopt]; };\nvar bDflt = function () { return [u8, u16, i32, fleb, fdeb, clim, revfl, revfd, flm, flt, fdm, fdt, rev, deo, et, hMap, wbits, wbits16, hTree, ln, lc, clen, wfblk, wblk, shft, slc, dflt, dopt, deflateSync, pbf]; };\n// gzip extra\nvar gze = function () { return [gzh, gzhl, wbytes, crc, crct]; };\n// gunzip extra\nvar guze = function () { return [gzs, gzl]; };\n// zlib extra\nvar zle = function () { return [zlh, wbytes, adler]; };\n// unzlib extra\nvar zule = function () { return [zls]; };\n// post buf\nvar pbf = function (msg) { return postMessage(msg, [msg.buffer]); };\n// get opts\nvar gopt = function (o) { return o && {\n    out: o.size && new u8(o.size),\n    dictionary: o.dictionary\n}; };\n// async helper\nvar cbify = function (dat, opts, fns, init, id, cb) {\n    var w = wrkr(fns, init, id, function (err, dat) {\n        w.terminate();\n        cb(err, dat);\n    });\n    w.postMessage([dat, opts], opts.consume ? [dat.buffer] : []);\n    return function () { w.terminate(); };\n};\n// auto stream\nvar astrm = function (strm) {\n    strm.ondata = function (dat, final) { return postMessage([dat, final], [dat.buffer]); };\n    return function (ev) {\n        if (ev.data.length) {\n            strm.push(ev.data[0], ev.data[1]);\n            postMessage([ev.data[0].length]);\n        }\n        else\n            strm.flush();\n    };\n};\n// async stream attach\nvar astrmify = function (fns, strm, opts, init, id, flush, ext) {\n    var t;\n    var w = wrkr(fns, init, id, function (err, dat) {\n        if (err)\n            w.terminate(), strm.ondata.call(strm, err);\n        else if (!Array.isArray(dat))\n            ext(dat);\n        else if (dat.length == 1) {\n            strm.queuedSize -= dat[0];\n            if (strm.ondrain)\n                strm.ondrain(dat[0]);\n        }\n        else {\n            if (dat[1])\n                w.terminate();\n            strm.ondata.call(strm, err, dat[0], dat[1]);\n        }\n    });\n    w.postMessage(opts);\n    strm.queuedSize = 0;\n    strm.push = function (d, f) {\n        if (!strm.ondata)\n            err(5);\n        if (t)\n            strm.ondata(err(4, 0, 1), null, !!f);\n        strm.queuedSize += d.length;\n        w.postMessage([d, t = f], [d.buffer]);\n    };\n    strm.terminate = function () { w.terminate(); };\n    if (flush) {\n        strm.flush = function () { w.postMessage([]); };\n    }\n};\n// read 2 bytes\nvar b2 = function (d, b) { return d[b] | (d[b + 1] << 8); };\n// read 4 bytes\nvar b4 = function (d, b) { return (d[b] | (d[b + 1] << 8) | (d[b + 2] << 16) | (d[b + 3] << 24)) >>> 0; };\nvar b8 = function (d, b) { return b4(d, b) + (b4(d, b + 4) * 4294967296); };\n// write bytes\nvar wbytes = function (d, b, v) {\n    for (; v; ++b)\n        d[b] = v, v >>>= 8;\n};\n// gzip header\nvar gzh = function (c, o) {\n    var fn = o.filename;\n    c[0] = 31, c[1] = 139, c[2] = 8, c[8] = o.level < 2 ? 4 : o.level == 9 ? 2 : 0, c[9] = 3; // assume Unix\n    if (o.mtime != 0)\n        wbytes(c, 4, Math.floor(new Date(o.mtime || Date.now()) / 1000));\n    if (fn) {\n        c[3] = 8;\n        for (var i = 0; i <= fn.length; ++i)\n            c[i + 10] = fn.charCodeAt(i);\n    }\n};\n// gzip footer: -8 to -4 = CRC, -4 to -0 is length\n// gzip start\nvar gzs = function (d) {\n    if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n        err(6, 'invalid gzip data');\n    var flg = d[3];\n    var st = 10;\n    if (flg & 4)\n        st += (d[10] | d[11] << 8) + 2;\n    for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n        ;\n    return st + (flg & 2);\n};\n// gzip length\nvar gzl = function (d) {\n    var l = d.length;\n    return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\n// gzip header length\nvar gzhl = function (o) { return 10 + (o.filename ? o.filename.length + 1 : 0); };\n// zlib header\nvar zlh = function (c, o) {\n    var lv = o.level, fl = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n    c[0] = 120, c[1] = (fl << 6) | (o.dictionary && 32);\n    c[1] |= 31 - ((c[0] << 8) | c[1]) % 31;\n    if (o.dictionary) {\n        var h = adler();\n        h.p(o.dictionary);\n        wbytes(c, 2, h.d());\n    }\n};\n// zlib start\nvar zls = function (d, dict) {\n    if ((d[0] & 15) != 8 || (d[0] >> 4) > 7 || ((d[0] << 8 | d[1]) % 31))\n        err(6, 'invalid zlib data');\n    if ((d[1] >> 5 & 1) == +!dict)\n        err(6, 'invalid zlib data: ' + (d[1] & 32 ? 'need' : 'unexpected') + ' dictionary');\n    return (d[1] >> 3 & 4) + 2;\n};\nfunction StrmOpt(opts, cb) {\n    if (typeof opts == 'function')\n        cb = opts, opts = {};\n    this.ondata = cb;\n    return opts;\n}\n/**\n * Streaming DEFLATE compression\n */\nvar Deflate = /*#__PURE__*/ (function () {\n    function Deflate(opts, cb) {\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        this.o = opts || {};\n        this.s = { l: 0, i: 32768, w: 32768, z: 32768 };\n        // Buffer length must always be 0 mod 32768 for index calculations to be correct when modifying head and prev\n        // 98304 = 32768 (lookback) + 65536 (common chunk size)\n        this.b = new u8(98304);\n        if (this.o.dictionary) {\n            var dict = this.o.dictionary.subarray(-32768);\n            this.b.set(dict, 32768 - dict.length);\n            this.s.i = 32768 - dict.length;\n        }\n    }\n    Deflate.prototype.p = function (c, f) {\n        this.ondata(dopt(c, this.o, 0, 0, this.s), f);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Deflate.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        var endLen = chunk.length + this.s.z;\n        if (endLen > this.b.length) {\n            if (endLen > 2 * this.b.length - 32768) {\n                var newBuf = new u8(endLen & -32768);\n                newBuf.set(this.b.subarray(0, this.s.z));\n                this.b = newBuf;\n            }\n            var split = this.b.length - this.s.z;\n            this.b.set(chunk.subarray(0, split), this.s.z);\n            this.s.z = this.b.length;\n            this.p(this.b, false);\n            this.b.set(this.b.subarray(-32768));\n            this.b.set(chunk.subarray(split), 32768);\n            this.s.z = chunk.length - split + 32768;\n            this.s.i = 32766, this.s.w = 32768;\n        }\n        else {\n            this.b.set(chunk, this.s.z);\n            this.s.z += chunk.length;\n        }\n        this.s.l = final & 1;\n        if (this.s.z > this.s.w + 8191 || final) {\n            this.p(this.b, final || false);\n            this.s.w = this.s.i, this.s.i -= 2;\n        }\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * deflated output for small inputs.\n     */\n    Deflate.prototype.flush = function () {\n        if (!this.ondata)\n            err(5);\n        if (this.s.l)\n            err(4);\n        this.p(this.b, false);\n        this.s.w = this.s.i, this.s.i -= 2;\n    };\n    return Deflate;\n}());\nexport { Deflate };\n/**\n * Asynchronous streaming DEFLATE compression\n */\nvar AsyncDeflate = /*#__PURE__*/ (function () {\n    function AsyncDeflate(opts, cb) {\n        astrmify([\n            bDflt,\n            function () { return [astrm, Deflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Deflate(ev.data);\n            onmessage = astrm(strm);\n        }, 6, 1);\n    }\n    return AsyncDeflate;\n}());\nexport { AsyncDeflate };\nexport function deflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n    ], function (ev) { return pbf(deflateSync(ev.data[0], ev.data[1])); }, 0, cb);\n}\n/**\n * Compresses data with DEFLATE without any wrapper\n * @param data The data to compress\n * @param opts The compression options\n * @returns The deflated version of the data\n */\nexport function deflateSync(data, opts) {\n    return dopt(data, opts || {}, 0, 0);\n}\n/**\n * Streaming DEFLATE decompression\n */\nvar Inflate = /*#__PURE__*/ (function () {\n    function Inflate(opts, cb) {\n        // no StrmOpt here to avoid adding to workerizer\n        if (typeof opts == 'function')\n            cb = opts, opts = {};\n        this.ondata = cb;\n        var dict = opts && opts.dictionary && opts.dictionary.subarray(-32768);\n        this.s = { i: 0, b: dict ? dict.length : 0 };\n        this.o = new u8(32768);\n        this.p = new u8(0);\n        if (dict)\n            this.o.set(dict);\n    }\n    Inflate.prototype.e = function (c) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        if (!this.p.length)\n            this.p = c;\n        else if (c.length) {\n            var n = new u8(this.p.length + c.length);\n            n.set(this.p), n.set(c, this.p.length), this.p = n;\n        }\n    };\n    Inflate.prototype.c = function (final) {\n        this.s.i = +(this.d = final || false);\n        var bts = this.s.b;\n        var dt = inflt(this.p, this.s, this.o);\n        this.ondata(slc(dt, bts, this.s.b), this.d);\n        this.o = slc(dt, this.s.b - 32768), this.s.b = this.o.length;\n        this.p = slc(this.p, (this.s.p / 8) | 0), this.s.p &= 7;\n    };\n    /**\n     * Pushes a chunk to be inflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the final chunk\n     */\n    Inflate.prototype.push = function (chunk, final) {\n        this.e(chunk), this.c(final);\n    };\n    return Inflate;\n}());\nexport { Inflate };\n/**\n * Asynchronous streaming DEFLATE decompression\n */\nvar AsyncInflate = /*#__PURE__*/ (function () {\n    function AsyncInflate(opts, cb) {\n        astrmify([\n            bInflt,\n            function () { return [astrm, Inflate]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Inflate(ev.data);\n            onmessage = astrm(strm);\n        }, 7, 0);\n    }\n    return AsyncInflate;\n}());\nexport { AsyncInflate };\nexport function inflate(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt\n    ], function (ev) { return pbf(inflateSync(ev.data[0], gopt(ev.data[1]))); }, 1, cb);\n}\n/**\n * Expands DEFLATE data with no wrapper\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function inflateSync(data, opts) {\n    return inflt(data, { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// before you yell at me for not just using extends, my reason is that TS inheritance is hard to workerize.\n/**\n * Streaming GZIP compression\n */\nvar Gzip = /*#__PURE__*/ (function () {\n    function Gzip(opts, cb) {\n        this.c = crc();\n        this.l = 0;\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gzip.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        this.l += chunk.length;\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Gzip.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && gzhl(this.o), f && 8, this.s);\n        if (this.v)\n            gzh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 8, this.c.d()), wbytes(raw, raw.length - 4, this.l);\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * GZIPped output for small inputs.\n     */\n    Gzip.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Gzip;\n}());\nexport { Gzip };\n/**\n * Asynchronous streaming GZIP compression\n */\nvar AsyncGzip = /*#__PURE__*/ (function () {\n    function AsyncGzip(opts, cb) {\n        astrmify([\n            bDflt,\n            gze,\n            function () { return [astrm, Deflate, Gzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gzip(ev.data);\n            onmessage = astrm(strm);\n        }, 8, 1);\n    }\n    return AsyncGzip;\n}());\nexport { AsyncGzip };\nexport function gzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        gze,\n        function () { return [gzipSync]; }\n    ], function (ev) { return pbf(gzipSync(ev.data[0], ev.data[1])); }, 2, cb);\n}\n/**\n * Compresses data with GZIP\n * @param data The data to compress\n * @param opts The compression options\n * @returns The gzipped version of the data\n */\nexport function gzipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var c = crc(), l = data.length;\n    c.p(data);\n    var d = dopt(data, opts, gzhl(opts), 8), s = d.length;\n    return gzh(d, opts), wbytes(d, s - 8, c.d()), wbytes(d, s - 4, l), d;\n}\n/**\n * Streaming single or multi-member GZIP decompression\n */\nvar Gunzip = /*#__PURE__*/ (function () {\n    function Gunzip(opts, cb) {\n        this.v = 1;\n        this.r = 0;\n        Inflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be GUNZIPped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Gunzip.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        this.r += chunk.length;\n        if (this.v) {\n            var p = this.p.subarray(this.v - 1);\n            var s = p.length > 3 ? gzs(p) : 4;\n            if (s > p.length) {\n                if (!final)\n                    return;\n            }\n            else if (this.v > 1 && this.onmember) {\n                this.onmember(this.r - p.length);\n            }\n            this.p = p.subarray(s), this.v = 0;\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n        // process concatenated GZIP\n        if (this.s.f && !this.s.l && !final) {\n            this.v = shft(this.s.p) + 9;\n            this.s = { i: 0 };\n            this.o = new u8(0);\n            this.push(new u8(0), final);\n        }\n    };\n    return Gunzip;\n}());\nexport { Gunzip };\n/**\n * Asynchronous streaming single or multi-member GZIP decompression\n */\nvar AsyncGunzip = /*#__PURE__*/ (function () {\n    function AsyncGunzip(opts, cb) {\n        var _this = this;\n        astrmify([\n            bInflt,\n            guze,\n            function () { return [astrm, Inflate, Gunzip]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Gunzip(ev.data);\n            strm.onmember = function (offset) { return postMessage(offset); };\n            onmessage = astrm(strm);\n        }, 9, 0, function (offset) { return _this.onmember && _this.onmember(offset); });\n    }\n    return AsyncGunzip;\n}());\nexport { AsyncGunzip };\nexport function gunzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        guze,\n        function () { return [gunzipSync]; }\n    ], function (ev) { return pbf(gunzipSync(ev.data[0], ev.data[1])); }, 3, cb);\n}\n/**\n * Expands GZIP data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function gunzipSync(data, opts) {\n    var st = gzs(data);\n    if (st + 8 > data.length)\n        err(6, 'invalid gzip data');\n    return inflt(data.subarray(st, -8), { i: 2 }, opts && opts.out || new u8(gzl(data)), opts && opts.dictionary);\n}\n/**\n * Streaming Zlib compression\n */\nvar Zlib = /*#__PURE__*/ (function () {\n    function Zlib(opts, cb) {\n        this.c = adler();\n        this.v = 1;\n        Deflate.call(this, opts, cb);\n    }\n    /**\n     * Pushes a chunk to be zlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Zlib.prototype.push = function (chunk, final) {\n        this.c.p(chunk);\n        Deflate.prototype.push.call(this, chunk, final);\n    };\n    Zlib.prototype.p = function (c, f) {\n        var raw = dopt(c, this.o, this.v && (this.o.dictionary ? 6 : 2), f && 4, this.s);\n        if (this.v)\n            zlh(raw, this.o), this.v = 0;\n        if (f)\n            wbytes(raw, raw.length - 4, this.c.d());\n        this.ondata(raw, f);\n    };\n    /**\n     * Flushes buffered uncompressed data. Useful to immediately retrieve the\n     * zlibbed output for small inputs.\n     */\n    Zlib.prototype.flush = function () {\n        Deflate.prototype.flush.call(this);\n    };\n    return Zlib;\n}());\nexport { Zlib };\n/**\n * Asynchronous streaming Zlib compression\n */\nvar AsyncZlib = /*#__PURE__*/ (function () {\n    function AsyncZlib(opts, cb) {\n        astrmify([\n            bDflt,\n            zle,\n            function () { return [astrm, Deflate, Zlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Zlib(ev.data);\n            onmessage = astrm(strm);\n        }, 10, 1);\n    }\n    return AsyncZlib;\n}());\nexport { AsyncZlib };\nexport function zlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bDflt,\n        zle,\n        function () { return [zlibSync]; }\n    ], function (ev) { return pbf(zlibSync(ev.data[0], ev.data[1])); }, 4, cb);\n}\n/**\n * Compress data with Zlib\n * @param data The data to compress\n * @param opts The compression options\n * @returns The zlib-compressed version of the data\n */\nexport function zlibSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var a = adler();\n    a.p(data);\n    var d = dopt(data, opts, opts.dictionary ? 6 : 2, 4);\n    return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\n/**\n * Streaming Zlib decompression\n */\nvar Unzlib = /*#__PURE__*/ (function () {\n    function Unzlib(opts, cb) {\n        Inflate.call(this, opts, cb);\n        this.v = opts && opts.dictionary ? 2 : 1;\n    }\n    /**\n     * Pushes a chunk to be unzlibbed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzlib.prototype.push = function (chunk, final) {\n        Inflate.prototype.e.call(this, chunk);\n        if (this.v) {\n            if (this.p.length < 6 && !final)\n                return;\n            this.p = this.p.subarray(zls(this.p, this.v - 1)), this.v = 0;\n        }\n        if (final) {\n            if (this.p.length < 4)\n                err(6, 'invalid zlib data');\n            this.p = this.p.subarray(0, -4);\n        }\n        // necessary to prevent TS from using the closure value\n        // This allows for workerization to function correctly\n        Inflate.prototype.c.call(this, final);\n    };\n    return Unzlib;\n}());\nexport { Unzlib };\n/**\n * Asynchronous streaming Zlib decompression\n */\nvar AsyncUnzlib = /*#__PURE__*/ (function () {\n    function AsyncUnzlib(opts, cb) {\n        astrmify([\n            bInflt,\n            zule,\n            function () { return [astrm, Inflate, Unzlib]; }\n        ], this, StrmOpt.call(this, opts, cb), function (ev) {\n            var strm = new Unzlib(ev.data);\n            onmessage = astrm(strm);\n        }, 11, 0);\n    }\n    return AsyncUnzlib;\n}());\nexport { AsyncUnzlib };\nexport function unzlib(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return cbify(data, opts, [\n        bInflt,\n        zule,\n        function () { return [unzlibSync]; }\n    ], function (ev) { return pbf(unzlibSync(ev.data[0], gopt(ev.data[1]))); }, 5, cb);\n}\n/**\n * Expands Zlib data\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function unzlibSync(data, opts) {\n    return inflt(data.subarray(zls(data, opts && opts.dictionary), -4), { i: 2 }, opts && opts.out, opts && opts.dictionary);\n}\n// Default algorithm for compression (used because having a known output size allows faster decompression)\nexport { gzip as compress, AsyncGzip as AsyncCompress };\nexport { gzipSync as compressSync, Gzip as Compress };\n/**\n * Streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar Decompress = /*#__PURE__*/ (function () {\n    function Decompress(opts, cb) {\n        this.o = StrmOpt.call(this, opts, cb) || {};\n        this.G = Gunzip;\n        this.I = Inflate;\n        this.Z = Unzlib;\n    }\n    // init substream\n    // overriden by AsyncDecompress\n    Decompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (dat, final) {\n            _this.ondata(dat, final);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Decompress.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (!this.s) {\n            if (this.p && this.p.length) {\n                var n = new u8(this.p.length + chunk.length);\n                n.set(this.p), n.set(chunk, this.p.length);\n            }\n            else\n                this.p = chunk;\n            if (this.p.length > 2) {\n                this.s = (this.p[0] == 31 && this.p[1] == 139 && this.p[2] == 8)\n                    ? new this.G(this.o)\n                    : ((this.p[0] & 15) != 8 || (this.p[0] >> 4) > 7 || ((this.p[0] << 8 | this.p[1]) % 31))\n                        ? new this.I(this.o)\n                        : new this.Z(this.o);\n                this.i();\n                this.s.push(this.p, final);\n                this.p = null;\n            }\n        }\n        else\n            this.s.push(chunk, final);\n    };\n    return Decompress;\n}());\nexport { Decompress };\n/**\n * Asynchronous streaming GZIP, Zlib, or raw DEFLATE decompression\n */\nvar AsyncDecompress = /*#__PURE__*/ (function () {\n    function AsyncDecompress(opts, cb) {\n        Decompress.call(this, opts, cb);\n        this.queuedSize = 0;\n        this.G = AsyncGunzip;\n        this.I = AsyncInflate;\n        this.Z = AsyncUnzlib;\n    }\n    AsyncDecompress.prototype.i = function () {\n        var _this = this;\n        this.s.ondata = function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        };\n        this.s.ondrain = function (size) {\n            _this.queuedSize -= size;\n            if (_this.ondrain)\n                _this.ondrain(size);\n        };\n    };\n    /**\n     * Pushes a chunk to be decompressed\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncDecompress.prototype.push = function (chunk, final) {\n        this.queuedSize += chunk.length;\n        Decompress.prototype.push.call(this, chunk, final);\n    };\n    return AsyncDecompress;\n}());\nexport { AsyncDecompress };\nexport function decompress(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzip(data, opts, cb)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflate(data, opts, cb)\n            : unzlib(data, opts, cb);\n}\n/**\n * Expands compressed GZIP, Zlib, or raw DEFLATE data, automatically detecting the format\n * @param data The data to decompress\n * @param opts The decompression options\n * @returns The decompressed version of the data\n */\nexport function decompressSync(data, opts) {\n    return (data[0] == 31 && data[1] == 139 && data[2] == 8)\n        ? gunzipSync(data, opts)\n        : ((data[0] & 15) != 8 || (data[0] >> 4) > 7 || ((data[0] << 8 | data[1]) % 31))\n            ? inflateSync(data, opts)\n            : unzlibSync(data, opts);\n}\n// flatten a directory structure\nvar fltn = function (d, p, t, o) {\n    for (var k in d) {\n        var val = d[k], n = p + k, op = o;\n        if (Array.isArray(val))\n            op = mrg(o, val[1]), val = val[0];\n        if (val instanceof u8)\n            t[n] = [val, op];\n        else {\n            t[n += '/'] = [new u8(0), op];\n            fltn(val, n, t, o);\n        }\n    }\n};\n// text encoder\nvar te = typeof TextEncoder != 'undefined' && /*#__PURE__*/ new TextEncoder();\n// text decoder\nvar td = typeof TextDecoder != 'undefined' && /*#__PURE__*/ new TextDecoder();\n// text decoder stream\nvar tds = 0;\ntry {\n    td.decode(et, { stream: true });\n    tds = 1;\n}\ncatch (e) { }\n// decode UTF8\nvar dutf8 = function (d) {\n    for (var r = '', i = 0;;) {\n        var c = d[i++];\n        var eb = (c > 127) + (c > 223) + (c > 239);\n        if (i + eb > d.length)\n            return { s: r, r: slc(d, i - 1) };\n        if (!eb)\n            r += String.fromCharCode(c);\n        else if (eb == 3) {\n            c = ((c & 15) << 18 | (d[i++] & 63) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63)) - 65536,\n                r += String.fromCharCode(55296 | (c >> 10), 56320 | (c & 1023));\n        }\n        else if (eb & 1)\n            r += String.fromCharCode((c & 31) << 6 | (d[i++] & 63));\n        else\n            r += String.fromCharCode((c & 15) << 12 | (d[i++] & 63) << 6 | (d[i++] & 63));\n    }\n};\n/**\n * Streaming UTF-8 decoding\n */\nvar DecodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is decoded\n     */\n    function DecodeUTF8(cb) {\n        this.ondata = cb;\n        if (tds)\n            this.t = new TextDecoder();\n        else\n            this.p = et;\n    }\n    /**\n     * Pushes a chunk to be decoded from UTF-8 binary\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    DecodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        final = !!final;\n        if (this.t) {\n            this.ondata(this.t.decode(chunk, { stream: true }), final);\n            if (final) {\n                if (this.t.decode().length)\n                    err(8);\n                this.t = null;\n            }\n            return;\n        }\n        if (!this.p)\n            err(4);\n        var dat = new u8(this.p.length + chunk.length);\n        dat.set(this.p);\n        dat.set(chunk, this.p.length);\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (final) {\n            if (r.length)\n                err(8);\n            this.p = null;\n        }\n        else\n            this.p = r;\n        this.ondata(s, final);\n    };\n    return DecodeUTF8;\n}());\nexport { DecodeUTF8 };\n/**\n * Streaming UTF-8 encoding\n */\nvar EncodeUTF8 = /*#__PURE__*/ (function () {\n    /**\n     * Creates a UTF-8 decoding stream\n     * @param cb The callback to call whenever data is encoded\n     */\n    function EncodeUTF8(cb) {\n        this.ondata = cb;\n    }\n    /**\n     * Pushes a chunk to be encoded to UTF-8\n     * @param chunk The string data to push\n     * @param final Whether this is the last chunk\n     */\n    EncodeUTF8.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        if (this.d)\n            err(4);\n        this.ondata(strToU8(chunk), this.d = final || false);\n    };\n    return EncodeUTF8;\n}());\nexport { EncodeUTF8 };\n/**\n * Converts a string into a Uint8Array for use with compression/decompression methods\n * @param str The string to encode\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless decoding a binary string.\n * @returns The string encoded in UTF-8/Latin-1 binary\n */\nexport function strToU8(str, latin1) {\n    if (latin1) {\n        var ar_1 = new u8(str.length);\n        for (var i = 0; i < str.length; ++i)\n            ar_1[i] = str.charCodeAt(i);\n        return ar_1;\n    }\n    if (te)\n        return te.encode(str);\n    var l = str.length;\n    var ar = new u8(str.length + (str.length >> 1));\n    var ai = 0;\n    var w = function (v) { ar[ai++] = v; };\n    for (var i = 0; i < l; ++i) {\n        if (ai + 5 > ar.length) {\n            var n = new u8(ai + 8 + ((l - i) << 1));\n            n.set(ar);\n            ar = n;\n        }\n        var c = str.charCodeAt(i);\n        if (c < 128 || latin1)\n            w(c);\n        else if (c < 2048)\n            w(192 | (c >> 6)), w(128 | (c & 63));\n        else if (c > 55295 && c < 57344)\n            c = 65536 + (c & 1023 << 10) | (str.charCodeAt(++i) & 1023),\n                w(240 | (c >> 18)), w(128 | ((c >> 12) & 63)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n        else\n            w(224 | (c >> 12)), w(128 | ((c >> 6) & 63)), w(128 | (c & 63));\n    }\n    return slc(ar, 0, ai);\n}\n/**\n * Converts a Uint8Array to a string\n * @param dat The data to decode to string\n * @param latin1 Whether or not to interpret the data as Latin-1. This should\n *               not need to be true unless encoding to binary string.\n * @returns The original UTF-8/Latin-1 string\n */\nexport function strFromU8(dat, latin1) {\n    if (latin1) {\n        var r = '';\n        for (var i = 0; i < dat.length; i += 16384)\n            r += String.fromCharCode.apply(null, dat.subarray(i, i + 16384));\n        return r;\n    }\n    else if (td) {\n        return td.decode(dat);\n    }\n    else {\n        var _a = dutf8(dat), s = _a.s, r = _a.r;\n        if (r.length)\n            err(8);\n        return s;\n    }\n}\n;\n// deflate bit flag\nvar dbf = function (l) { return l == 1 ? 3 : l < 6 ? 2 : l == 9 ? 1 : 0; };\n// skip local zip header\nvar slzh = function (d, b) { return b + 30 + b2(d, b + 26) + b2(d, b + 28); };\n// read zip header\nvar zh = function (d, b, z) {\n    var fnl = b2(d, b + 28), fn = strFromU8(d.subarray(b + 46, b + 46 + fnl), !(b2(d, b + 8) & 2048)), es = b + 46 + fnl, bs = b4(d, b + 20);\n    var _a = z && bs == 4294967295 ? z64e(d, es) : [bs, b4(d, b + 24), b4(d, b + 42)], sc = _a[0], su = _a[1], off = _a[2];\n    return [b2(d, b + 10), sc, su, fn, es + b2(d, b + 30) + b2(d, b + 32), off];\n};\n// read zip64 extra field\nvar z64e = function (d, b) {\n    for (; b2(d, b) != 1; b += 4 + b2(d, b + 2))\n        ;\n    return [b8(d, b + 12), b8(d, b + 4), b8(d, b + 20)];\n};\n// extra field length\nvar exfl = function (ex) {\n    var le = 0;\n    if (ex) {\n        for (var k in ex) {\n            var l = ex[k].length;\n            if (l > 65535)\n                err(9);\n            le += l + 4;\n        }\n    }\n    return le;\n};\n// write zip header\nvar wzh = function (d, b, f, fn, u, c, ce, co) {\n    var fl = fn.length, ex = f.extra, col = co && co.length;\n    var exl = exfl(ex);\n    wbytes(d, b, ce != null ? 0x2014B50 : 0x4034B50), b += 4;\n    if (ce != null)\n        d[b++] = 20, d[b++] = f.os;\n    d[b] = 20, b += 2; // spec compliance? what's that?\n    d[b++] = (f.flag << 1) | (c < 0 && 8), d[b++] = u && 8;\n    d[b++] = f.compression & 255, d[b++] = f.compression >> 8;\n    var dt = new Date(f.mtime == null ? Date.now() : f.mtime), y = dt.getFullYear() - 1980;\n    if (y < 0 || y > 119)\n        err(10);\n    wbytes(d, b, (y << 25) | ((dt.getMonth() + 1) << 21) | (dt.getDate() << 16) | (dt.getHours() << 11) | (dt.getMinutes() << 5) | (dt.getSeconds() >> 1)), b += 4;\n    if (c != -1) {\n        wbytes(d, b, f.crc);\n        wbytes(d, b + 4, c < 0 ? -c - 2 : c);\n        wbytes(d, b + 8, f.size);\n    }\n    wbytes(d, b + 12, fl);\n    wbytes(d, b + 14, exl), b += 16;\n    if (ce != null) {\n        wbytes(d, b, col);\n        wbytes(d, b + 6, f.attrs);\n        wbytes(d, b + 10, ce), b += 14;\n    }\n    d.set(fn, b);\n    b += fl;\n    if (exl) {\n        for (var k in ex) {\n            var exf = ex[k], l = exf.length;\n            wbytes(d, b, +k);\n            wbytes(d, b + 2, l);\n            d.set(exf, b + 4), b += 4 + l;\n        }\n    }\n    if (col)\n        d.set(co, b), b += col;\n    return b;\n};\n// write zip footer (end of central directory)\nvar wzf = function (o, b, c, d, e) {\n    wbytes(o, b, 0x6054B50); // skip disk\n    wbytes(o, b + 8, c);\n    wbytes(o, b + 10, c);\n    wbytes(o, b + 12, d);\n    wbytes(o, b + 16, e);\n};\n/**\n * A pass-through stream to keep data uncompressed in a ZIP archive.\n */\nvar ZipPassThrough = /*#__PURE__*/ (function () {\n    /**\n     * Creates a pass-through stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     */\n    function ZipPassThrough(filename) {\n        this.filename = filename;\n        this.c = crc();\n        this.size = 0;\n        this.compression = 0;\n    }\n    /**\n     * Processes a chunk and pushes to the output stream. You can override this\n     * method in a subclass for custom behavior, but by default this passes\n     * the data through. You must call this.ondata(err, chunk, final) at some\n     * point in this method.\n     * @param chunk The chunk to process\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.process = function (chunk, final) {\n        this.ondata(null, chunk, final);\n    };\n    /**\n     * Pushes a chunk to be added. If you are subclassing this with a custom\n     * compression algorithm, note that you must push data from the source\n     * file only, pre-compression.\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipPassThrough.prototype.push = function (chunk, final) {\n        if (!this.ondata)\n            err(5);\n        this.c.p(chunk);\n        this.size += chunk.length;\n        if (final)\n            this.crc = this.c.d();\n        this.process(chunk, final || false);\n    };\n    return ZipPassThrough;\n}());\nexport { ZipPassThrough };\n// I don't extend because TypeScript extension adds 1kB of runtime bloat\n/**\n * Streaming DEFLATE compression for ZIP archives. Prefer using AsyncZipDeflate\n * for better performance\n */\nvar ZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function ZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new Deflate(opts, function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n    }\n    ZipDeflate.prototype.process = function (chunk, final) {\n        try {\n            this.d.push(chunk, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    ZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return ZipDeflate;\n}());\nexport { ZipDeflate };\n/**\n * Asynchronous streaming DEFLATE compression for ZIP archives\n */\nvar AsyncZipDeflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates an asynchronous DEFLATE stream that can be added to ZIP archives\n     * @param filename The filename to associate with this data stream\n     * @param opts The compression options\n     */\n    function AsyncZipDeflate(filename, opts) {\n        var _this = this;\n        if (!opts)\n            opts = {};\n        ZipPassThrough.call(this, filename);\n        this.d = new AsyncDeflate(opts, function (err, dat, final) {\n            _this.ondata(err, dat, final);\n        });\n        this.compression = 8;\n        this.flag = dbf(opts.level);\n        this.terminate = this.d.terminate;\n    }\n    AsyncZipDeflate.prototype.process = function (chunk, final) {\n        this.d.push(chunk, final);\n    };\n    /**\n     * Pushes a chunk to be deflated\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    AsyncZipDeflate.prototype.push = function (chunk, final) {\n        ZipPassThrough.prototype.push.call(this, chunk, final);\n    };\n    return AsyncZipDeflate;\n}());\nexport { AsyncZipDeflate };\n// TODO: Better tree shaking\n/**\n * A zippable archive to which files can incrementally be added\n */\nvar Zip = /*#__PURE__*/ (function () {\n    /**\n     * Creates an empty ZIP archive to which files can be added\n     * @param cb The callback to call whenever data for the generated ZIP archive\n     *           is available\n     */\n    function Zip(cb) {\n        this.ondata = cb;\n        this.u = [];\n        this.d = 1;\n    }\n    /**\n     * Adds a file to the ZIP archive\n     * @param file The file stream to add\n     */\n    Zip.prototype.add = function (file) {\n        var _this = this;\n        if (!this.ondata)\n            err(5);\n        // finishing or finished\n        if (this.d & 2)\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, false);\n        else {\n            var f = strToU8(file.filename), fl_1 = f.length;\n            var com = file.comment, o = com && strToU8(com);\n            var u = fl_1 != file.filename.length || (o && (com.length != o.length));\n            var hl_1 = fl_1 + exfl(file.extra) + 30;\n            if (fl_1 > 65535)\n                this.ondata(err(11, 0, 1), null, false);\n            var header = new u8(hl_1);\n            wzh(header, 0, file, f, u, -1);\n            var chks_1 = [header];\n            var pAll_1 = function () {\n                for (var _i = 0, chks_2 = chks_1; _i < chks_2.length; _i++) {\n                    var chk = chks_2[_i];\n                    _this.ondata(null, chk, false);\n                }\n                chks_1 = [];\n            };\n            var tr_1 = this.d;\n            this.d = 0;\n            var ind_1 = this.u.length;\n            var uf_1 = mrg(file, {\n                f: f,\n                u: u,\n                o: o,\n                t: function () {\n                    if (file.terminate)\n                        file.terminate();\n                },\n                r: function () {\n                    pAll_1();\n                    if (tr_1) {\n                        var nxt = _this.u[ind_1 + 1];\n                        if (nxt)\n                            nxt.r();\n                        else\n                            _this.d = 1;\n                    }\n                    tr_1 = 1;\n                }\n            });\n            var cl_1 = 0;\n            file.ondata = function (err, dat, final) {\n                if (err) {\n                    _this.ondata(err, dat, final);\n                    _this.terminate();\n                }\n                else {\n                    cl_1 += dat.length;\n                    chks_1.push(dat);\n                    if (final) {\n                        var dd = new u8(16);\n                        wbytes(dd, 0, 0x8074B50);\n                        wbytes(dd, 4, file.crc);\n                        wbytes(dd, 8, cl_1);\n                        wbytes(dd, 12, file.size);\n                        chks_1.push(dd);\n                        uf_1.c = cl_1, uf_1.b = hl_1 + cl_1 + 16, uf_1.crc = file.crc, uf_1.size = file.size;\n                        if (tr_1)\n                            uf_1.r();\n                        tr_1 = 1;\n                    }\n                    else if (tr_1)\n                        pAll_1();\n                }\n            };\n            this.u.push(uf_1);\n        }\n    };\n    /**\n     * Ends the process of adding files and prepares to emit the final chunks.\n     * This *must* be called after adding all desired files for the resulting\n     * ZIP file to work properly.\n     */\n    Zip.prototype.end = function () {\n        var _this = this;\n        if (this.d & 2) {\n            this.ondata(err(4 + (this.d & 1) * 8, 0, 1), null, true);\n            return;\n        }\n        if (this.d)\n            this.e();\n        else\n            this.u.push({\n                r: function () {\n                    if (!(_this.d & 1))\n                        return;\n                    _this.u.splice(-1, 1);\n                    _this.e();\n                },\n                t: function () { }\n            });\n        this.d = 3;\n    };\n    Zip.prototype.e = function () {\n        var bt = 0, l = 0, tl = 0;\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            tl += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0);\n        }\n        var out = new u8(tl + 22);\n        for (var _b = 0, _c = this.u; _b < _c.length; _b++) {\n            var f = _c[_b];\n            wzh(out, bt, f, f.f, f.u, -f.c - 2, l, f.o);\n            bt += 46 + f.f.length + exfl(f.extra) + (f.o ? f.o.length : 0), l += f.b;\n        }\n        wzf(out, bt, this.u.length, tl, l);\n        this.ondata(null, out, true);\n        this.d = 2;\n    };\n    /**\n     * A method to terminate any internal workers used by the stream. Subsequent\n     * calls to add() will fail.\n     */\n    Zip.prototype.terminate = function () {\n        for (var _i = 0, _a = this.u; _i < _a.length; _i++) {\n            var f = _a[_i];\n            f.t();\n        }\n        this.d = 2;\n    };\n    return Zip;\n}());\nexport { Zip };\nexport function zip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var r = {};\n    fltn(data, '', r, opts);\n    var k = Object.keys(r);\n    var lft = k.length, o = 0, tot = 0;\n    var slft = lft, files = new Array(lft);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var cbf = function () {\n        var out = new u8(tot + 22), oe = o, cdl = tot - o;\n        tot = 0;\n        for (var i = 0; i < slft; ++i) {\n            var f = files[i];\n            try {\n                var l = f.c.length;\n                wzh(out, tot, f, f.f, f.u, l);\n                var badd = 30 + f.f.length + exfl(f.extra);\n                var loc = tot + badd;\n                out.set(f.c, loc);\n                wzh(out, o, f, f.f, f.u, l, tot, f.m), o += 16 + badd + (f.m ? f.m.length : 0), tot = loc + l;\n            }\n            catch (e) {\n                return cbd(e, null);\n            }\n        }\n        wzf(out, o, files.length, cdl, oe);\n        cbd(null, out);\n    };\n    if (!lft)\n        cbf();\n    var _loop_1 = function (i) {\n        var fn = k[i];\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var c = crc(), size = file.length;\n        c.p(file);\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        var compression = p.level == 0 ? 0 : 8;\n        var cbl = function (e, d) {\n            if (e) {\n                tAll();\n                cbd(e, null);\n            }\n            else {\n                var l = d.length;\n                files[i] = mrg(p, {\n                    size: size,\n                    crc: c.d(),\n                    c: d,\n                    f: f,\n                    m: m,\n                    u: s != fn.length || (m && (com.length != ms)),\n                    compression: compression\n                });\n                o += 30 + s + exl + l;\n                tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n                if (!--lft)\n                    cbf();\n            }\n        };\n        if (s > 65535)\n            cbl(err(11, 0, 1), null);\n        if (!compression)\n            cbl(null, file);\n        else if (size < 160000) {\n            try {\n                cbl(null, deflateSync(file, p));\n            }\n            catch (e) {\n                cbl(e, null);\n            }\n        }\n        else\n            term.push(deflate(file, p, cbl));\n    };\n    // Cannot use lft because it can decrease\n    for (var i = 0; i < slft; ++i) {\n        _loop_1(i);\n    }\n    return tAll;\n}\n/**\n * Synchronously creates a ZIP file. Prefer using `zip` for better performance\n * with more than one file.\n * @param data The directory structure for the ZIP archive\n * @param opts The main options, merged with per-file options\n * @returns The generated ZIP archive\n */\nexport function zipSync(data, opts) {\n    if (!opts)\n        opts = {};\n    var r = {};\n    var files = [];\n    fltn(data, '', r, opts);\n    var o = 0;\n    var tot = 0;\n    for (var fn in r) {\n        var _a = r[fn], file = _a[0], p = _a[1];\n        var compression = p.level == 0 ? 0 : 8;\n        var f = strToU8(fn), s = f.length;\n        var com = p.comment, m = com && strToU8(com), ms = m && m.length;\n        var exl = exfl(p.extra);\n        if (s > 65535)\n            err(11);\n        var d = compression ? deflateSync(file, p) : file, l = d.length;\n        var c = crc();\n        c.p(file);\n        files.push(mrg(p, {\n            size: file.length,\n            crc: c.d(),\n            c: d,\n            f: f,\n            m: m,\n            u: s != fn.length || (m && (com.length != ms)),\n            o: o,\n            compression: compression\n        }));\n        o += 30 + s + exl + l;\n        tot += 76 + 2 * (s + exl) + (ms || 0) + l;\n    }\n    var out = new u8(tot + 22), oe = o, cdl = tot - o;\n    for (var i = 0; i < files.length; ++i) {\n        var f = files[i];\n        wzh(out, f.o, f, f.f, f.u, f.c.length);\n        var badd = 30 + f.f.length + exfl(f.extra);\n        out.set(f.c, f.o + badd);\n        wzh(out, o, f, f.f, f.u, f.c.length, f.o, f.m), o += 16 + badd + (f.m ? f.m.length : 0);\n    }\n    wzf(out, o, files.length, cdl, oe);\n    return out;\n}\n/**\n * Streaming pass-through decompression for ZIP archives\n */\nvar UnzipPassThrough = /*#__PURE__*/ (function () {\n    function UnzipPassThrough() {\n    }\n    UnzipPassThrough.prototype.push = function (data, final) {\n        this.ondata(null, data, final);\n    };\n    UnzipPassThrough.compression = 0;\n    return UnzipPassThrough;\n}());\nexport { UnzipPassThrough };\n/**\n * Streaming DEFLATE decompression for ZIP archives. Prefer AsyncZipInflate for\n * better performance.\n */\nvar UnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function UnzipInflate() {\n        var _this = this;\n        this.i = new Inflate(function (dat, final) {\n            _this.ondata(null, dat, final);\n        });\n    }\n    UnzipInflate.prototype.push = function (data, final) {\n        try {\n            this.i.push(data, final);\n        }\n        catch (e) {\n            this.ondata(e, null, final);\n        }\n    };\n    UnzipInflate.compression = 8;\n    return UnzipInflate;\n}());\nexport { UnzipInflate };\n/**\n * Asynchronous streaming DEFLATE decompression for ZIP archives\n */\nvar AsyncUnzipInflate = /*#__PURE__*/ (function () {\n    /**\n     * Creates a DEFLATE decompression that can be used in ZIP archives\n     */\n    function AsyncUnzipInflate(_, sz) {\n        var _this = this;\n        if (sz < 320000) {\n            this.i = new Inflate(function (dat, final) {\n                _this.ondata(null, dat, final);\n            });\n        }\n        else {\n            this.i = new AsyncInflate(function (err, dat, final) {\n                _this.ondata(err, dat, final);\n            });\n            this.terminate = this.i.terminate;\n        }\n    }\n    AsyncUnzipInflate.prototype.push = function (data, final) {\n        if (this.i.terminate)\n            data = slc(data, 0);\n        this.i.push(data, final);\n    };\n    AsyncUnzipInflate.compression = 8;\n    return AsyncUnzipInflate;\n}());\nexport { AsyncUnzipInflate };\n/**\n * A ZIP archive decompression stream that emits files as they are discovered\n */\nvar Unzip = /*#__PURE__*/ (function () {\n    /**\n     * Creates a ZIP decompression stream\n     * @param cb The callback to call whenever a file in the ZIP archive is found\n     */\n    function Unzip(cb) {\n        this.onfile = cb;\n        this.k = [];\n        this.o = {\n            0: UnzipPassThrough\n        };\n        this.p = et;\n    }\n    /**\n     * Pushes a chunk to be unzipped\n     * @param chunk The chunk to push\n     * @param final Whether this is the last chunk\n     */\n    Unzip.prototype.push = function (chunk, final) {\n        var _this = this;\n        if (!this.onfile)\n            err(5);\n        if (!this.p)\n            err(4);\n        if (this.c > 0) {\n            var len = Math.min(this.c, chunk.length);\n            var toAdd = chunk.subarray(0, len);\n            this.c -= len;\n            if (this.d)\n                this.d.push(toAdd, !this.c);\n            else\n                this.k[0].push(toAdd);\n            chunk = chunk.subarray(len);\n            if (chunk.length)\n                return this.push(chunk, final);\n        }\n        else {\n            var f = 0, i = 0, is = void 0, buf = void 0;\n            if (!this.p.length)\n                buf = chunk;\n            else if (!chunk.length)\n                buf = this.p;\n            else {\n                buf = new u8(this.p.length + chunk.length);\n                buf.set(this.p), buf.set(chunk, this.p.length);\n            }\n            var l = buf.length, oc = this.c, add = oc && this.d;\n            var _loop_2 = function () {\n                var _a;\n                var sig = b4(buf, i);\n                if (sig == 0x4034B50) {\n                    f = 1, is = i;\n                    this_1.d = null;\n                    this_1.c = 0;\n                    var bf = b2(buf, i + 6), cmp_1 = b2(buf, i + 8), u = bf & 2048, dd = bf & 8, fnl = b2(buf, i + 26), es = b2(buf, i + 28);\n                    if (l > i + 30 + fnl + es) {\n                        var chks_3 = [];\n                        this_1.k.unshift(chks_3);\n                        f = 2;\n                        var sc_1 = b4(buf, i + 18), su_1 = b4(buf, i + 22);\n                        var fn_1 = strFromU8(buf.subarray(i + 30, i += 30 + fnl), !u);\n                        if (sc_1 == 4294967295) {\n                            _a = dd ? [-2] : z64e(buf, i), sc_1 = _a[0], su_1 = _a[1];\n                        }\n                        else if (dd)\n                            sc_1 = -1;\n                        i += es;\n                        this_1.c = sc_1;\n                        var d_1;\n                        var file_1 = {\n                            name: fn_1,\n                            compression: cmp_1,\n                            start: function () {\n                                if (!file_1.ondata)\n                                    err(5);\n                                if (!sc_1)\n                                    file_1.ondata(null, et, true);\n                                else {\n                                    var ctr = _this.o[cmp_1];\n                                    if (!ctr)\n                                        file_1.ondata(err(14, 'unknown compression type ' + cmp_1, 1), null, false);\n                                    d_1 = sc_1 < 0 ? new ctr(fn_1) : new ctr(fn_1, sc_1, su_1);\n                                    d_1.ondata = function (err, dat, final) { file_1.ondata(err, dat, final); };\n                                    for (var _i = 0, chks_4 = chks_3; _i < chks_4.length; _i++) {\n                                        var dat = chks_4[_i];\n                                        d_1.push(dat, false);\n                                    }\n                                    if (_this.k[0] == chks_3 && _this.c)\n                                        _this.d = d_1;\n                                    else\n                                        d_1.push(et, true);\n                                }\n                            },\n                            terminate: function () {\n                                if (d_1 && d_1.terminate)\n                                    d_1.terminate();\n                            }\n                        };\n                        if (sc_1 >= 0)\n                            file_1.size = sc_1, file_1.originalSize = su_1;\n                        this_1.onfile(file_1);\n                    }\n                    return \"break\";\n                }\n                else if (oc) {\n                    if (sig == 0x8074B50) {\n                        is = i += 12 + (oc == -2 && 8), f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                    else if (sig == 0x2014B50) {\n                        is = i -= 4, f = 3, this_1.c = 0;\n                        return \"break\";\n                    }\n                }\n            };\n            var this_1 = this;\n            for (; i < l - 4; ++i) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            this.p = et;\n            if (oc < 0) {\n                var dat = f ? buf.subarray(0, is - 12 - (oc == -2 && 8) - (b4(buf, is - 16) == 0x8074B50 && 4)) : buf.subarray(0, i);\n                if (add)\n                    add.push(dat, !!f);\n                else\n                    this.k[+(f == 2)].push(dat);\n            }\n            if (f & 2)\n                return this.push(buf.subarray(i), final);\n            this.p = buf.subarray(i);\n        }\n        if (final) {\n            if (this.c)\n                err(13);\n            this.p = null;\n        }\n    };\n    /**\n     * Registers a decoder with the stream, allowing for files compressed with\n     * the compression type provided to be expanded correctly\n     * @param decoder The decoder constructor\n     */\n    Unzip.prototype.register = function (decoder) {\n        this.o[decoder.compression] = decoder;\n    };\n    return Unzip;\n}());\nexport { Unzip };\nvar mt = typeof queueMicrotask == 'function' ? queueMicrotask : typeof setTimeout == 'function' ? setTimeout : function (fn) { fn(); };\nexport function unzip(data, opts, cb) {\n    if (!cb)\n        cb = opts, opts = {};\n    if (typeof cb != 'function')\n        err(7);\n    var term = [];\n    var tAll = function () {\n        for (var i = 0; i < term.length; ++i)\n            term[i]();\n    };\n    var files = {};\n    var cbd = function (a, b) {\n        mt(function () { cb(a, b); });\n    };\n    mt(function () { cbd = cb; });\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558) {\n            cbd(err(13, 0, 1), null);\n            return tAll;\n        }\n    }\n    ;\n    var lft = b2(data, e + 8);\n    if (lft) {\n        var c = lft;\n        var o = b4(data, e + 16);\n        var z = o == 4294967295 || c == 65535;\n        if (z) {\n            var ze = b4(data, e - 12);\n            z = b4(data, ze) == 0x6064B50;\n            if (z) {\n                c = lft = b4(data, ze + 32);\n                o = b4(data, ze + 48);\n            }\n        }\n        var fltr = opts && opts.filter;\n        var _loop_3 = function (i) {\n            var _a = zh(data, o, z), c_1 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n            o = no;\n            var cbl = function (e, d) {\n                if (e) {\n                    tAll();\n                    cbd(e, null);\n                }\n                else {\n                    if (d)\n                        files[fn] = d;\n                    if (!--lft)\n                        cbd(null, files);\n                }\n            };\n            if (!fltr || fltr({\n                name: fn,\n                size: sc,\n                originalSize: su,\n                compression: c_1\n            })) {\n                if (!c_1)\n                    cbl(null, slc(data, b, b + sc));\n                else if (c_1 == 8) {\n                    var infl = data.subarray(b, b + sc);\n                    // Synchronously decompress under 512KB, or barely-compressed data\n                    if (su < 524288 || sc > 0.8 * su) {\n                        try {\n                            cbl(null, inflateSync(infl, { out: new u8(su) }));\n                        }\n                        catch (e) {\n                            cbl(e, null);\n                        }\n                    }\n                    else\n                        term.push(inflate(infl, { size: su }, cbl));\n                }\n                else\n                    cbl(err(14, 'unknown compression type ' + c_1, 1), null);\n            }\n            else\n                cbl(null, null);\n        };\n        for (var i = 0; i < c; ++i) {\n            _loop_3(i);\n        }\n    }\n    else\n        cbd(null, {});\n    return tAll;\n}\n/**\n * Synchronously decompresses a ZIP archive. Prefer using `unzip` for better\n * performance with more than one file.\n * @param data The raw compressed ZIP file\n * @param opts The ZIP extraction options\n * @returns The decompressed files\n */\nexport function unzipSync(data, opts) {\n    var files = {};\n    var e = data.length - 22;\n    for (; b4(data, e) != 0x6054B50; --e) {\n        if (!e || data.length - e > 65558)\n            err(13);\n    }\n    ;\n    var c = b2(data, e + 8);\n    if (!c)\n        return {};\n    var o = b4(data, e + 16);\n    var z = o == 4294967295 || c == 65535;\n    if (z) {\n        var ze = b4(data, e - 12);\n        z = b4(data, ze) == 0x6064B50;\n        if (z) {\n            c = b4(data, ze + 32);\n            o = b4(data, ze + 48);\n        }\n    }\n    var fltr = opts && opts.filter;\n    for (var i = 0; i < c; ++i) {\n        var _a = zh(data, o, z), c_2 = _a[0], sc = _a[1], su = _a[2], fn = _a[3], no = _a[4], off = _a[5], b = slzh(data, off);\n        o = no;\n        if (!fltr || fltr({\n            name: fn,\n            size: sc,\n            originalSize: su,\n            compression: c_2\n        })) {\n            if (!c_2)\n                files[fn] = slc(data, b, b + sc);\n            else if (c_2 == 8)\n                files[fn] = inflateSync(data.subarray(b, b + sc), { out: new u8(su) });\n            else\n                err(14, 'unknown compression type ' + c_2);\n        }\n    }\n    return files;\n}\n","import * as fflate from 'fflate';\n\nconst unzip = async (buffer: Uint8Array | ArrayBuffer, encoding?: string): Promise<any> => {\n    return new Promise((resolve, reject) => {\n        let zipBuffer: Uint8Array;\n        if (buffer instanceof ArrayBuffer) {\n            zipBuffer = new Uint8Array(buffer);\n        } else {\n            zipBuffer = buffer;\n        }\n        const out = {};\n        try {\n            const decompressed: { [key: string]: any } = fflate.unzipSync(zipBuffer);\n            for (const key in decompressed) {\n                let fileName = key;\n                if (encoding) {\n                    const decoder = new TextDecoder(encoding);\n                    const u8 = stringToUint8Array(key);\n                    fileName = decoder.decode(u8);\n                }\n                let result: string;\n                if (fileName.slice(-3).toLowerCase() === 'shp' || fileName.slice(-3).toLowerCase() === 'dbf') {\n                    result = decompressed[key];\n                } else {\n                    result = fflate.strFromU8(decompressed[key]);\n                }\n                out[fileName] = result;\n            }\n\n        } catch (ex) {\n            reject('bad zip be rejected');\n        }\n        //return out;\n        resolve(out);\n    })\n};\n\nfunction stringToUint8Array(str: string) {\n    const arr = [];\n    for (let i = 0, j = str.length; i < j; ++i) {\n        arr.push(str.charCodeAt(i));\n    }\n    return new Uint8Array(arr)\n}\n\nexport {unzip};","export var PJD_3PARAM = 1;\nexport var PJD_7PARAM = 2;\nexport var PJD_GRIDSHIFT = 3;\nexport var PJD_WGS84 = 4; // WGS84 or equivalent\nexport var PJD_NODATUM = 5; // WGS84 or equivalent\nexport var SRS_WGS84_SEMIMAJOR = 6378137.0;  // only used in grid shift transforms\nexport var SRS_WGS84_SEMIMINOR = 6356752.314;  // only used in grid shift transforms\nexport var SRS_WGS84_ESQUARED = 0.0066943799901413165; // only used in grid shift transforms\nexport var SEC_TO_RAD = 4.84813681109535993589914102357e-6;\nexport var HALF_PI = Math.PI/2;\n// ellipoid pj_set_ell.c\nexport var SIXTH = 0.1666666666666666667;\n/* 1/6 */\nexport var RA4 = 0.04722222222222222222;\n/* 17/360 */\nexport var RA6 = 0.02215608465608465608;\nexport var EPSLN = 1.0e-10;\n// you'd think you could use Number.EPSILON above but that makes\n// Mollweide get into an infinate loop.\n\nexport var D2R = 0.01745329251994329577;\nexport var R2D = 57.29577951308232088;\nexport var FORTPI = Math.PI/4;\nexport var TWO_PI = Math.PI * 2;\n// SPI is slightly greater than Math.PI, so values that exceed the -180..180\n// degree range by a tiny amount don't get wrapped. This prevents points that\n// have drifted from their original location along the 180th meridian (due to\n// floating point error) from changing their sign.\nexport var SPI = 3.14159265359;\n","var exports = {};\nexport {exports as default};\n\nexports.greenwich = 0.0; //\"0dE\",\nexports.lisbon = -9.131906111111; //\"9d07'54.862\\\"W\",\nexports.paris = 2.337229166667; //\"2d20'14.025\\\"E\",\nexports.bogota = -74.080916666667; //\"74d04'51.3\\\"W\",\nexports.madrid = -3.687938888889; //\"3d41'16.58\\\"W\",\nexports.rome = 12.452333333333; //\"12d27'8.4\\\"E\",\nexports.bern = 7.439583333333; //\"7d26'22.5\\\"E\",\nexports.jakarta = 106.807719444444; //\"106d48'27.79\\\"E\",\nexports.ferro = -17.666666666667; //\"17d40'W\",\nexports.brussels = 4.367975; //\"4d22'4.71\\\"E\",\nexports.stockholm = 18.058277777778; //\"18d3'29.8\\\"E\",\nexports.athens = 23.7163375; //\"23d42'58.815\\\"E\",\nexports.oslo = 10.722916666667; //\"10d43'22.5\\\"E\"\n","export default {\n  ft: {to_meter: 0.3048},\n  'us-ft': {to_meter: 1200 / 3937}\n};\n","var ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nexport default function match(obj, key) {\n  if (obj[key]) {\n    return obj[key];\n  }\n  var keys = Object.keys(obj);\n  var lkey = key.toLowerCase().replace(ignoredChar, '');\n  var i = -1;\n  var testkey, processedKey;\n  while (++i < keys.length) {\n    testkey = keys[i];\n    processedKey = testkey.toLowerCase().replace(ignoredChar, '');\n    if (processedKey === lkey) {\n      return obj[testkey];\n    }\n  }\n}\n","import {D2R} from './constants/values';\nimport PrimeMeridian from './constants/PrimeMeridian';\nimport units from './constants/units';\nimport match from './match';\n\nexport default function(defData) {\n  var self = {};\n  var paramObj = defData.split('+').map(function(v) {\n    return v.trim();\n  }).filter(function(a) {\n    return a;\n  }).reduce(function(p, a) {\n    var split = a.split('=');\n    split.push(true);\n    p[split[0].toLowerCase()] = split[1];\n    return p;\n  }, {});\n  var paramName, paramVal, paramOutname;\n  var params = {\n    proj: 'projName',\n    datum: 'datumCode',\n    rf: function(v) {\n      self.rf = parseFloat(v);\n    },\n    lat_0: function(v) {\n      self.lat0 = v * D2R;\n    },\n    lat_1: function(v) {\n      self.lat1 = v * D2R;\n    },\n    lat_2: function(v) {\n      self.lat2 = v * D2R;\n    },\n    lat_ts: function(v) {\n      self.lat_ts = v * D2R;\n    },\n    lon_0: function(v) {\n      self.long0 = v * D2R;\n    },\n    lon_1: function(v) {\n      self.long1 = v * D2R;\n    },\n    lon_2: function(v) {\n      self.long2 = v * D2R;\n    },\n    alpha: function(v) {\n      self.alpha = parseFloat(v) * D2R;\n    },\n    gamma: function(v) {\n      self.rectified_grid_angle = parseFloat(v);\n    },\n    lonc: function(v) {\n      self.longc = v * D2R;\n    },\n    x_0: function(v) {\n      self.x0 = parseFloat(v);\n    },\n    y_0: function(v) {\n      self.y0 = parseFloat(v);\n    },\n    k_0: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    k: function(v) {\n      self.k0 = parseFloat(v);\n    },\n    a: function(v) {\n      self.a = parseFloat(v);\n    },\n    b: function(v) {\n      self.b = parseFloat(v);\n    },\n    r_a: function() {\n      self.R_A = true;\n    },\n    zone: function(v) {\n      self.zone = parseInt(v, 10);\n    },\n    south: function() {\n      self.utmSouth = true;\n    },\n    towgs84: function(v) {\n      self.datum_params = v.split(\",\").map(function(a) {\n        return parseFloat(a);\n      });\n    },\n    to_meter: function(v) {\n      self.to_meter = parseFloat(v);\n    },\n    units: function(v) {\n      self.units = v;\n      var unit = match(units, v);\n      if (unit) {\n        self.to_meter = unit.to_meter;\n      }\n    },\n    from_greenwich: function(v) {\n      self.from_greenwich = v * D2R;\n    },\n    pm: function(v) {\n      var pm = match(PrimeMeridian, v);\n      self.from_greenwich = (pm ? pm : parseFloat(v)) * D2R;\n    },\n    nadgrids: function(v) {\n      if (v === '@null') {\n        self.datumCode = 'none';\n      }\n      else {\n        self.nadgrids = v;\n      }\n    },\n    axis: function(v) {\n      var legalAxis = \"ewnsud\";\n      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {\n        self.axis = v;\n      }\n    },\n    approx: function() {\n      self.approx = true;\n    }\n  };\n  for (paramName in paramObj) {\n    paramVal = paramObj[paramName];\n    if (paramName in params) {\n      paramOutname = params[paramName];\n      if (typeof paramOutname === 'function') {\n        paramOutname(paramVal);\n      }\n      else {\n        self[paramOutname] = paramVal;\n      }\n    }\n    else {\n      self[paramName] = paramVal;\n    }\n  }\n  if(typeof self.datumCode === 'string' && self.datumCode !== \"WGS84\"){\n    self.datumCode = self.datumCode.toLowerCase();\n  }\n  return self;\n}\n","export default parseString;\n\nvar NEUTRAL = 1;\nvar KEYWORD = 2;\nvar NUMBER = 3;\nvar QUOTED = 4;\nvar AFTERQUOTE = 5;\nvar ENDED = -1;\nvar whitespace = /\\s/;\nvar latin = /[A-Za-z]/;\nvar keyword = /[A-Za-z84_]/;\nvar endThings = /[,\\]]/;\nvar digets = /[\\d\\.E\\-\\+]/;\n// const ignoredChar = /[\\s_\\-\\/\\(\\)]/g;\nfunction Parser(text) {\n  if (typeof text !== 'string') {\n    throw new Error('not a string');\n  }\n  this.text = text.trim();\n  this.level = 0;\n  this.place = 0;\n  this.root = null;\n  this.stack = [];\n  this.currentObject = null;\n  this.state = NEUTRAL;\n}\nParser.prototype.readCharicter = function() {\n  var char = this.text[this.place++];\n  if (this.state !== QUOTED) {\n    while (whitespace.test(char)) {\n      if (this.place >= this.text.length) {\n        return;\n      }\n      char = this.text[this.place++];\n    }\n  }\n  switch (this.state) {\n    case NEUTRAL:\n      return this.neutral(char);\n    case KEYWORD:\n      return this.keyword(char)\n    case QUOTED:\n      return this.quoted(char);\n    case AFTERQUOTE:\n      return this.afterquote(char);\n    case NUMBER:\n      return this.number(char);\n    case ENDED:\n      return;\n  }\n};\nParser.prototype.afterquote = function(char) {\n  if (char === '\"') {\n    this.word += '\"';\n    this.state = QUOTED;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = this.word.trim();\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in afterquote yet, index ' + this.place);\n};\nParser.prototype.afterItem = function(char) {\n  if (char === ',') {\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n    }\n    this.word = null;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (char === ']') {\n    this.level--;\n    if (this.word !== null) {\n      this.currentObject.push(this.word);\n      this.word = null;\n    }\n    this.state = NEUTRAL;\n    this.currentObject = this.stack.pop();\n    if (!this.currentObject) {\n      this.state = ENDED;\n    }\n\n    return;\n  }\n};\nParser.prototype.number = function(char) {\n  if (digets.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.word = parseFloat(this.word);\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in number yet, index ' + this.place);\n};\nParser.prototype.quoted = function(char) {\n  if (char === '\"') {\n    this.state = AFTERQUOTE;\n    return;\n  }\n  this.word += char;\n  return;\n};\nParser.prototype.keyword = function(char) {\n  if (keyword.test(char)) {\n    this.word += char;\n    return;\n  }\n  if (char === '[') {\n    var newObjects = [];\n    newObjects.push(this.word);\n    this.level++;\n    if (this.root === null) {\n      this.root = newObjects;\n    } else {\n      this.currentObject.push(newObjects);\n    }\n    this.stack.push(this.currentObject);\n    this.currentObject = newObjects;\n    this.state = NEUTRAL;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in keyword yet, index ' + this.place);\n};\nParser.prototype.neutral = function(char) {\n  if (latin.test(char)) {\n    this.word = char;\n    this.state = KEYWORD;\n    return;\n  }\n  if (char === '\"') {\n    this.word = '';\n    this.state = QUOTED;\n    return;\n  }\n  if (digets.test(char)) {\n    this.word = char;\n    this.state = NUMBER;\n    return;\n  }\n  if (endThings.test(char)) {\n    this.afterItem(char);\n    return;\n  }\n  throw new Error('havn\\'t handled \"' +char + '\" in neutral yet, index ' + this.place);\n};\nParser.prototype.output = function() {\n  while (this.place < this.text.length) {\n    this.readCharicter();\n  }\n  if (this.state === ENDED) {\n    return this.root;\n  }\n  throw new Error('unable to parse string \"' +this.text + '\". State is ' + this.state);\n};\n\nfunction parseString(txt) {\n  var parser = new Parser(txt);\n  return parser.output();\n}\n","\n\nfunction mapit(obj, key, value) {\n  if (Array.isArray(key)) {\n    value.unshift(key);\n    key = null;\n  }\n  var thing = key ? {} : obj;\n\n  var out = value.reduce(function(newObj, item) {\n    sExpr(item, newObj);\n    return newObj\n  }, thing);\n  if (key) {\n    obj[key] = out;\n  }\n}\n\nexport function sExpr(v, obj) {\n  if (!Array.isArray(v)) {\n    obj[v] = true;\n    return;\n  }\n  var key = v.shift();\n  if (key === 'PARAMETER') {\n    key = v.shift();\n  }\n  if (v.length === 1) {\n    if (Array.isArray(v[0])) {\n      obj[key] = {};\n      sExpr(v[0], obj[key]);\n      return;\n    }\n    obj[key] = v[0];\n    return;\n  }\n  if (!v.length) {\n    obj[key] = true;\n    return;\n  }\n  if (key === 'TOWGS84') {\n    obj[key] = v;\n    return;\n  }\n  if (key === 'AXIS') {\n    if (!(key in obj)) {\n      obj[key] = [];\n    }\n    obj[key].push(v);\n    return;\n  }\n  if (!Array.isArray(key)) {\n    obj[key] = {};\n  }\n\n  var i;\n  switch (key) {\n    case 'UNIT':\n    case 'PRIMEM':\n    case 'VERT_DATUM':\n      obj[key] = {\n        name: v[0].toLowerCase(),\n        convert: v[1]\n      };\n      if (v.length === 3) {\n        sExpr(v[2], obj[key]);\n      }\n      return;\n    case 'SPHEROID':\n    case 'ELLIPSOID':\n      obj[key] = {\n        name: v[0],\n        a: v[1],\n        rf: v[2]\n      };\n      if (v.length === 4) {\n        sExpr(v[3], obj[key]);\n      }\n      return;\n    case 'PROJECTEDCRS':\n    case 'PROJCRS':\n    case 'GEOGCS':\n    case 'GEOCCS':\n    case 'PROJCS':\n    case 'LOCAL_CS':\n    case 'GEODCRS':\n    case 'GEODETICCRS':\n    case 'GEODETICDATUM':\n    case 'EDATUM':\n    case 'ENGINEERINGDATUM':\n    case 'VERT_CS':\n    case 'VERTCRS':\n    case 'VERTICALCRS':\n    case 'COMPD_CS':\n    case 'COMPOUNDCRS':\n    case 'ENGINEERINGCRS':\n    case 'ENGCRS':\n    case 'FITTED_CS':\n    case 'LOCAL_DATUM':\n    case 'DATUM':\n      v[0] = ['name', v[0]];\n      mapit(obj, key, v);\n      return;\n    default:\n      i = -1;\n      while (++i < v.length) {\n        if (!Array.isArray(v[i])) {\n          return sExpr(v, obj[key]);\n        }\n      }\n      return mapit(obj, key, v);\n  }\n}\n","var D2R = 0.01745329251994329577;\nimport parser from './parser';\nimport {sExpr} from './process';\n\n\n\nfunction rename(obj, params) {\n  var outName = params[0];\n  var inName = params[1];\n  if (!(outName in obj) && (inName in obj)) {\n    obj[outName] = obj[inName];\n    if (params.length === 3) {\n      obj[outName] = params[2](obj[outName]);\n    }\n  }\n}\n\nfunction d2r(input) {\n  return input * D2R;\n}\n\nfunction cleanWKT(wkt) {\n  if (wkt.type === 'GEOGCS') {\n    wkt.projName = 'longlat';\n  } else if (wkt.type === 'LOCAL_CS') {\n    wkt.projName = 'identity';\n    wkt.local = true;\n  } else {\n    if (typeof wkt.PROJECTION === 'object') {\n      wkt.projName = Object.keys(wkt.PROJECTION)[0];\n    } else {\n      wkt.projName = wkt.PROJECTION;\n    }\n  }\n  if (wkt.AXIS) {\n    var axisOrder = '';\n    for (var i = 0, ii = wkt.AXIS.length; i < ii; ++i) {\n      var axis = [wkt.AXIS[i][0].toLowerCase(), wkt.AXIS[i][1].toLowerCase()];\n      if (axis[0].indexOf('north') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'north')) {\n        axisOrder += 'n';\n      } else if (axis[0].indexOf('south') !== -1 || ((axis[0] === 'y' || axis[0] === 'lat') && axis[1] === 'south')) {\n        axisOrder += 's';\n      } else if (axis[0].indexOf('east') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'east')) {\n        axisOrder += 'e';\n      } else if (axis[0].indexOf('west') !== -1 || ((axis[0] === 'x' || axis[0] === 'lon') && axis[1] === 'west')) {\n        axisOrder += 'w';\n      }\n    }\n    if (axisOrder.length === 2) {\n      axisOrder += 'u';\n    }\n    if (axisOrder.length === 3) {\n      wkt.axis = axisOrder;\n    }\n  }\n  if (wkt.UNIT) {\n    wkt.units = wkt.UNIT.name.toLowerCase();\n    if (wkt.units === 'metre') {\n      wkt.units = 'meter';\n    }\n    if (wkt.UNIT.convert) {\n      if (wkt.type === 'GEOGCS') {\n        if (wkt.DATUM && wkt.DATUM.SPHEROID) {\n          wkt.to_meter = wkt.UNIT.convert*wkt.DATUM.SPHEROID.a;\n        }\n      } else {\n        wkt.to_meter = wkt.UNIT.convert;\n      }\n    }\n  }\n  var geogcs = wkt.GEOGCS;\n  if (wkt.type === 'GEOGCS') {\n    geogcs = wkt;\n  }\n  if (geogcs) {\n    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){\n    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;\n    //}\n    if (geogcs.DATUM) {\n      wkt.datumCode = geogcs.DATUM.name.toLowerCase();\n    } else {\n      wkt.datumCode = geogcs.name.toLowerCase();\n    }\n    if (wkt.datumCode.slice(0, 2) === 'd_') {\n      wkt.datumCode = wkt.datumCode.slice(2);\n    }\n    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {\n      wkt.datumCode = 'nzgd49';\n    }\n    if (wkt.datumCode === 'wgs_1984' || wkt.datumCode === 'world_geodetic_system_1984') {\n      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {\n        wkt.sphere = true;\n      }\n      wkt.datumCode = 'wgs84';\n    }\n    if (wkt.datumCode.slice(-6) === '_ferro') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 6);\n    }\n    if (wkt.datumCode.slice(-8) === '_jakarta') {\n      wkt.datumCode = wkt.datumCode.slice(0, - 8);\n    }\n    if (~wkt.datumCode.indexOf('belge')) {\n      wkt.datumCode = 'rnb72';\n    }\n    if (geogcs.DATUM && geogcs.DATUM.SPHEROID) {\n      wkt.ellps = geogcs.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\\_18/, 'clrk');\n      if (wkt.ellps.toLowerCase().slice(0, 13) === 'international') {\n        wkt.ellps = 'intl';\n      }\n\n      wkt.a = geogcs.DATUM.SPHEROID.a;\n      wkt.rf = parseFloat(geogcs.DATUM.SPHEROID.rf, 10);\n    }\n\n    if (geogcs.DATUM && geogcs.DATUM.TOWGS84) {\n      wkt.datum_params = geogcs.DATUM.TOWGS84;\n    }\n    if (~wkt.datumCode.indexOf('osgb_1936')) {\n      wkt.datumCode = 'osgb36';\n    }\n    if (~wkt.datumCode.indexOf('osni_1952')) {\n      wkt.datumCode = 'osni52';\n    }\n    if (~wkt.datumCode.indexOf('tm65')\n      || ~wkt.datumCode.indexOf('geodetic_datum_of_1965')) {\n      wkt.datumCode = 'ire65';\n    }\n    if (wkt.datumCode === 'ch1903+') {\n      wkt.datumCode = 'ch1903';\n    }\n    if (~wkt.datumCode.indexOf('israel')) {\n      wkt.datumCode = 'isr93';\n    }\n  }\n  if (wkt.b && !isFinite(wkt.b)) {\n    wkt.b = wkt.a;\n  }\n\n  function toMeter(input) {\n    var ratio = wkt.to_meter || 1;\n    return input * ratio;\n  }\n  var renamer = function(a) {\n    return rename(wkt, a);\n  };\n  var list = [\n    ['standard_parallel_1', 'Standard_Parallel_1'],\n    ['standard_parallel_1', 'Latitude of 1st standard parallel'],\n    ['standard_parallel_2', 'Standard_Parallel_2'],\n    ['standard_parallel_2', 'Latitude of 2nd standard parallel'],\n    ['false_easting', 'False_Easting'],\n    ['false_easting', 'False easting'],\n    ['false-easting', 'Easting at false origin'],\n    ['false_northing', 'False_Northing'],\n    ['false_northing', 'False northing'],\n    ['false_northing', 'Northing at false origin'],\n    ['central_meridian', 'Central_Meridian'],\n    ['central_meridian', 'Longitude of natural origin'],\n    ['central_meridian', 'Longitude of false origin'],\n    ['latitude_of_origin', 'Latitude_Of_Origin'],\n    ['latitude_of_origin', 'Central_Parallel'],\n    ['latitude_of_origin', 'Latitude of natural origin'],\n    ['latitude_of_origin', 'Latitude of false origin'],\n    ['scale_factor', 'Scale_Factor'],\n    ['k0', 'scale_factor'],\n    ['latitude_of_center', 'Latitude_Of_Center'],\n    ['latitude_of_center', 'Latitude_of_center'],\n    ['lat0', 'latitude_of_center', d2r],\n    ['longitude_of_center', 'Longitude_Of_Center'],\n    ['longitude_of_center', 'Longitude_of_center'],\n    ['longc', 'longitude_of_center', d2r],\n    ['x0', 'false_easting', toMeter],\n    ['y0', 'false_northing', toMeter],\n    ['long0', 'central_meridian', d2r],\n    ['lat0', 'latitude_of_origin', d2r],\n    ['lat0', 'standard_parallel_1', d2r],\n    ['lat1', 'standard_parallel_1', d2r],\n    ['lat2', 'standard_parallel_2', d2r],\n    ['azimuth', 'Azimuth'],\n    ['alpha', 'azimuth', d2r],\n    ['srsCode', 'name']\n  ];\n  list.forEach(renamer);\n  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === 'Lambert_Azimuthal_Equal_Area')) {\n    wkt.long0 = wkt.longc;\n  }\n  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {\n    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);\n    wkt.lat_ts = wkt.lat1;\n  } else if (!wkt.lat_ts && wkt.lat0 && wkt.projName === 'Polar_Stereographic') {\n    wkt.lat_ts = wkt.lat0;\n    wkt.lat0 = d2r(wkt.lat0 > 0 ? 90 : -90);\n  }\n}\nexport default function(wkt) {\n  var lisp = parser(wkt);\n  var type = lisp.shift();\n  var name = lisp.shift();\n  lisp.unshift(['name', name]);\n  lisp.unshift(['type', type]);\n  var obj = {};\n  sExpr(lisp, obj);\n  cleanWKT(obj);\n  return obj;\n}\n","import globals from './global';\nimport parseProj from './projString';\nimport wkt from 'wkt-parser';\n\nfunction defs(name) {\n  /*global console*/\n  var that = this;\n  if (arguments.length === 2) {\n    var def = arguments[1];\n    if (typeof def === 'string') {\n      if (def.charAt(0) === '+') {\n        defs[name] = parseProj(arguments[1]);\n      }\n      else {\n        defs[name] = wkt(arguments[1]);\n      }\n    } else {\n      defs[name] = def;\n    }\n  }\n  else if (arguments.length === 1) {\n    if (Array.isArray(name)) {\n      return name.map(function(v) {\n        if (Array.isArray(v)) {\n          defs.apply(that, v);\n        }\n        else {\n          defs(v);\n        }\n      });\n    }\n    else if (typeof name === 'string') {\n      if (name in defs) {\n        return defs[name];\n      }\n    }\n    else if ('EPSG' in name) {\n      defs['EPSG:' + name.EPSG] = name;\n    }\n    else if ('ESRI' in name) {\n      defs['ESRI:' + name.ESRI] = name;\n    }\n    else if ('IAU2000' in name) {\n      defs['IAU2000:' + name.IAU2000] = name;\n    }\n    else {\n      console.log(name);\n    }\n    return;\n  }\n\n\n}\nglobals(defs);\nexport default defs;\n","export default function(defs) {\n  defs('EPSG:4326', \"+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees\");\n  defs('EPSG:4269', \"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees\");\n  defs('EPSG:3857', \"+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs\");\n\n  defs.WGS84 = defs['EPSG:4326'];\n  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857\n  defs.GOOGLE = defs['EPSG:3857'];\n  defs['EPSG:900913'] = defs['EPSG:3857'];\n  defs['EPSG:102113'] = defs['EPSG:3857'];\n}\n","import defs from './defs';\nimport wkt from 'wkt-parser';\nimport projStr from './projString';\nimport match from './match';\nfunction testObj(code){\n  return typeof code === 'string';\n}\nfunction testDef(code){\n  return code in defs;\n}\nvar codeWords = ['PROJECTEDCRS', 'PROJCRS', 'GEOGCS','GEOCCS','PROJCS','LOCAL_CS', 'GEODCRS', 'GEODETICCRS', 'GEODETICDATUM', 'ENGCRS', 'ENGINEERINGCRS'];\nfunction testWKT(code){\n  return codeWords.some(function (word) {\n    return code.indexOf(word) > -1;\n  });\n}\nvar codes = ['3857', '900913', '3785', '102113'];\nfunction checkMercator(item) {\n  var auth = match(item, 'authority');\n  if (!auth) {\n    return;\n  }\n  var code = match(auth, 'epsg');\n  return code && codes.indexOf(code) > -1;\n}\nfunction checkProjStr(item) {\n  var ext = match(item, 'extension');\n  if (!ext) {\n    return;\n  }\n  return match(ext, 'proj4');\n}\nfunction testProj(code){\n  return code[0] === '+';\n}\nfunction parse(code){\n  if (testObj(code)) {\n    //check to see if this is a WKT string\n    if (testDef(code)) {\n      return defs[code];\n    }\n    if (testWKT(code)) {\n      var out = wkt(code);\n      // test of spetial case, due to this being a very common and often malformed\n      if (checkMercator(out)) {\n        return defs['EPSG:3857'];\n      }\n      var maybeProjStr = checkProjStr(out);\n      if (maybeProjStr) {\n        return projStr(maybeProjStr);\n      }\n      return out;\n    }\n    if (testProj(code)) {\n      return projStr(code);\n    }\n  }else{\n    return code;\n  }\n}\n\nexport default parse;\n","export default function(destination, source) {\n  destination = destination || {};\n  var value, property;\n  if (!source) {\n    return destination;\n  }\n  for (property in source) {\n    value = source[property];\n    if (value !== undefined) {\n      destination[property] = value;\n    }\n  }\n  return destination;\n}\n","export default function(eccent, sinphi, cosphi) {\n  var con = eccent * sinphi;\n  return cosphi / (Math.sqrt(1 - con * con));\n}","export default function(x) {\n  return x<0 ? -1 : 1;\n}","\nimport {TWO_PI, SPI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, phi, sinphi) {\n  var con = eccent * sinphi;\n  var com = 0.5 * eccent;\n  con = Math.pow(((1 - con) / (1 + con)), com);\n  return (Math.tan(0.5 * (HALF_PI - phi)) / con);\n}\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, ts) {\n  var eccnth = 0.5 * eccent;\n  var con, dphi;\n  var phi = HALF_PI - 2 * Math.atan(ts);\n  for (var i = 0; i <= 15; i++) {\n    con = eccent * Math.sin(phi);\n    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n  //console.log(\"phi2z has NoConvergence\");\n  return -9999;\n}\n","import msfnz from '../common/msfnz';\n\nimport adjust_lon from '../common/adjust_lon';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport {FORTPI, R2D, EPSLN, HALF_PI} from '../constants/values';\nexport function init() {\n  var con = this.b / this.a;\n  this.es = 1 - con * con;\n  if(!('x0' in this)){\n    this.x0 = 0;\n  }\n  if(!('y0' in this)){\n    this.y0 = 0;\n  }\n  this.e = Math.sqrt(this.es);\n  if (this.lat_ts) {\n    if (this.sphere) {\n      this.k0 = Math.cos(this.lat_ts);\n    }\n    else {\n      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n    }\n  }\n  else {\n    if (!this.k0) {\n      if (this.k) {\n        this.k0 = this.k;\n      }\n      else {\n        this.k0 = 1;\n      }\n    }\n  }\n}\n\n/* Mercator forward equations--mapping lat,long to x,y\n  --------------------------------------------------*/\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  // convert to radians\n  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {\n    return null;\n  }\n\n  var x, y;\n  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {\n    return null;\n  }\n  else {\n    if (this.sphere) {\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));\n    }\n    else {\n      var sinphi = Math.sin(lat);\n      var ts = tsfnz(this.e, lat, sinphi);\n      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);\n      y = this.y0 - this.a * this.k0 * Math.log(ts);\n    }\n    p.x = x;\n    p.y = y;\n    return p;\n  }\n}\n\n/* Mercator inverse equations--mapping x,y to lat/long\n  --------------------------------------------------*/\nexport function inverse(p) {\n\n  var x = p.x - this.x0;\n  var y = p.y - this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));\n  }\n  else {\n    var ts = Math.exp(-y / (this.a * this.k0));\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  lon = adjust_lon(this.long0 + x / (this.a * this.k0));\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mercator\", \"Popular Visualisation Pseudo Mercator\", \"Mercator_1SP\", \"Mercator_Auxiliary_Sphere\", \"merc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export function init() {\n  //no-op for longlat\n}\n\nfunction identity(pt) {\n  return pt;\n}\nexport {identity as forward};\nexport {identity as inverse};\nexport var names = [\"longlat\", \"identity\"];\nexport default {\n  init: init,\n  forward: identity,\n  inverse: identity,\n  names: names\n};\n","import merc from \"./projections/merc\";\nimport longlat from \"./projections/longlat\";\nvar projs = [merc, longlat];\nvar names = {};\nvar projStore = [];\n\nfunction add(proj, i) {\n  var len = projStore.length;\n  if (!proj.names) {\n    console.log(i);\n    return true;\n  }\n  projStore[len] = proj;\n  proj.names.forEach(function(n) {\n    names[n.toLowerCase()] = len;\n  });\n  return this;\n}\n\nexport {add};\n\nexport function get(name) {\n  if (!name) {\n    return false;\n  }\n  var n = name.toLowerCase();\n  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {\n    return projStore[names[n]];\n  }\n}\n\nexport function start() {\n  projs.forEach(add);\n}\nexport default {\n  start: start,\n  add: add,\n  get: get\n};\n","var exports = {};\nexport {exports as default};\nexports.MERIT = {\n  a: 6378137.0,\n  rf: 298.257,\n  ellipseName: \"MERIT 1983\"\n};\n\nexports.SGS85 = {\n  a: 6378136.0,\n  rf: 298.257,\n  ellipseName: \"Soviet Geodetic System 85\"\n};\n\nexports.GRS80 = {\n  a: 6378137.0,\n  rf: 298.257222101,\n  ellipseName: \"GRS 1980(IUGG, 1980)\"\n};\n\nexports.IAU76 = {\n  a: 6378140.0,\n  rf: 298.257,\n  ellipseName: \"IAU 1976\"\n};\n\nexports.airy = {\n  a: 6377563.396,\n  b: 6356256.910,\n  ellipseName: \"Airy 1830\"\n};\n\nexports.APL4 = {\n  a: 6378137,\n  rf: 298.25,\n  ellipseName: \"Appl. Physics. 1965\"\n};\n\nexports.NWL9D = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"Naval Weapons Lab., 1965\"\n};\n\nexports.mod_airy = {\n  a: 6377340.189,\n  b: 6356034.446,\n  ellipseName: \"Modified Airy\"\n};\n\nexports.andrae = {\n  a: 6377104.43,\n  rf: 300.0,\n  ellipseName: \"Andrae 1876 (Den., Iclnd.)\"\n};\n\nexports.aust_SA = {\n  a: 6378160.0,\n  rf: 298.25,\n  ellipseName: \"Australian Natl & S. Amer. 1969\"\n};\n\nexports.GRS67 = {\n  a: 6378160.0,\n  rf: 298.2471674270,\n  ellipseName: \"GRS 67(IUGG 1967)\"\n};\n\nexports.bessel = {\n  a: 6377397.155,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841\"\n};\n\nexports.bess_nam = {\n  a: 6377483.865,\n  rf: 299.1528128,\n  ellipseName: \"Bessel 1841 (Namibia)\"\n};\n\nexports.clrk66 = {\n  a: 6378206.4,\n  b: 6356583.8,\n  ellipseName: \"Clarke 1866\"\n};\n\nexports.clrk80 = {\n  a: 6378249.145,\n  rf: 293.4663,\n  ellipseName: \"Clarke 1880 mod.\"\n};\n\nexports.clrk80ign = {\n  a: 6378249.2,\n  b: 6356515,\n  rf: 293.4660213,\n  ellipseName: \"Clarke 1880 (IGN)\"\n};\n\nexports.clrk58 = {\n  a: 6378293.645208759,\n  rf: 294.2606763692654,\n  ellipseName: \"Clarke 1858\"\n};\n\nexports.CPM = {\n  a: 6375738.7,\n  rf: 334.29,\n  ellipseName: \"Comm. des Poids et Mesures 1799\"\n};\n\nexports.delmbr = {\n  a: 6376428.0,\n  rf: 311.5,\n  ellipseName: \"Delambre 1810 (Belgium)\"\n};\n\nexports.engelis = {\n  a: 6378136.05,\n  rf: 298.2566,\n  ellipseName: \"Engelis 1985\"\n};\n\nexports.evrst30 = {\n  a: 6377276.345,\n  rf: 300.8017,\n  ellipseName: \"Everest 1830\"\n};\n\nexports.evrst48 = {\n  a: 6377304.063,\n  rf: 300.8017,\n  ellipseName: \"Everest 1948\"\n};\n\nexports.evrst56 = {\n  a: 6377301.243,\n  rf: 300.8017,\n  ellipseName: \"Everest 1956\"\n};\n\nexports.evrst69 = {\n  a: 6377295.664,\n  rf: 300.8017,\n  ellipseName: \"Everest 1969\"\n};\n\nexports.evrstSS = {\n  a: 6377298.556,\n  rf: 300.8017,\n  ellipseName: \"Everest (Sabah & Sarawak)\"\n};\n\nexports.fschr60 = {\n  a: 6378166.0,\n  rf: 298.3,\n  ellipseName: \"Fischer (Mercury Datum) 1960\"\n};\n\nexports.fschr60m = {\n  a: 6378155.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1960\"\n};\n\nexports.fschr68 = {\n  a: 6378150.0,\n  rf: 298.3,\n  ellipseName: \"Fischer 1968\"\n};\n\nexports.helmert = {\n  a: 6378200.0,\n  rf: 298.3,\n  ellipseName: \"Helmert 1906\"\n};\n\nexports.hough = {\n  a: 6378270.0,\n  rf: 297.0,\n  ellipseName: \"Hough\"\n};\n\nexports.intl = {\n  a: 6378388.0,\n  rf: 297.0,\n  ellipseName: \"International 1909 (Hayford)\"\n};\n\nexports.kaula = {\n  a: 6378163.0,\n  rf: 298.24,\n  ellipseName: \"Kaula 1961\"\n};\n\nexports.lerch = {\n  a: 6378139.0,\n  rf: 298.257,\n  ellipseName: \"Lerch 1979\"\n};\n\nexports.mprts = {\n  a: 6397300.0,\n  rf: 191.0,\n  ellipseName: \"Maupertius 1738\"\n};\n\nexports.new_intl = {\n  a: 6378157.5,\n  b: 6356772.2,\n  ellipseName: \"New International 1967\"\n};\n\nexports.plessis = {\n  a: 6376523.0,\n  rf: 6355863.0,\n  ellipseName: \"Plessis 1817 (France)\"\n};\n\nexports.krass = {\n  a: 6378245.0,\n  rf: 298.3,\n  ellipseName: \"Krassovsky, 1942\"\n};\n\nexports.SEasia = {\n  a: 6378155.0,\n  b: 6356773.3205,\n  ellipseName: \"Southeast Asia\"\n};\n\nexports.walbeck = {\n  a: 6376896.0,\n  b: 6355834.8467,\n  ellipseName: \"Walbeck\"\n};\n\nexports.WGS60 = {\n  a: 6378165.0,\n  rf: 298.3,\n  ellipseName: \"WGS 60\"\n};\n\nexports.WGS66 = {\n  a: 6378145.0,\n  rf: 298.25,\n  ellipseName: \"WGS 66\"\n};\n\nexports.WGS7 = {\n  a: 6378135.0,\n  rf: 298.26,\n  ellipseName: \"WGS 72\"\n};\n\nexport var WGS84 = exports.WGS84 = {\n  a: 6378137.0,\n  rf: 298.257223563,\n  ellipseName: \"WGS 84\"\n};\n\nexports.sphere = {\n  a: 6370997.0,\n  b: 6370997.0,\n  ellipseName: \"Normal Sphere (r=6370997)\"\n};\n","var exports = {};\nexport {exports as default};\nexports.wgs84 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"WGS84\",\n  datumName: \"WGS84\"\n};\n\nexports.ch1903 = {\n  towgs84: \"674.374,15.056,405.346\",\n  ellipse: \"bessel\",\n  datumName: \"swiss\"\n};\n\nexports.ggrs87 = {\n  towgs84: \"-199.87,74.79,246.62\",\n  ellipse: \"GRS80\",\n  datumName: \"Greek_Geodetic_Reference_System_1987\"\n};\n\nexports.nad83 = {\n  towgs84: \"0,0,0\",\n  ellipse: \"GRS80\",\n  datumName: \"North_American_Datum_1983\"\n};\n\nexports.nad27 = {\n  nadgrids: \"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat\",\n  ellipse: \"clrk66\",\n  datumName: \"North_American_Datum_1927\"\n};\n\nexports.potsdam = {\n  towgs84: \"598.1,73.7,418.2,0.202,0.045,-2.455,6.7\",\n  ellipse: \"bessel\",\n  datumName: \"Potsdam Rauenberg 1950 DHDN\"\n};\n\nexports.carthage = {\n  towgs84: \"-263.0,6.0,431.0\",\n  ellipse: \"clark80\",\n  datumName: \"Carthage 1934 Tunisia\"\n};\n\nexports.hermannskogel = {\n  towgs84: \"577.326,90.129,463.919,5.137,1.474,5.297,2.4232\",\n  ellipse: \"bessel\",\n  datumName: \"Hermannskogel\"\n};\n\nexports.militargeographische_institut = {\n  towgs84: \"577.326,90.129,463.919,5.137,1.474,5.297,2.4232\",\n  ellipse: \"bessel\",\n  datumName: \"Militar-Geographische Institut\"\n};\n\nexports.osni52 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"airy\",\n  datumName: \"Irish National\"\n};\n\nexports.ire65 = {\n  towgs84: \"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15\",\n  ellipse: \"mod_airy\",\n  datumName: \"Ireland 1965\"\n};\n\nexports.rassadiran = {\n  towgs84: \"-133.63,-157.5,-158.62\",\n  ellipse: \"intl\",\n  datumName: \"Rassadiran\"\n};\n\nexports.nzgd49 = {\n  towgs84: \"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993\",\n  ellipse: \"intl\",\n  datumName: \"New Zealand Geodetic Datum 1949\"\n};\n\nexports.osgb36 = {\n  towgs84: \"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894\",\n  ellipse: \"airy\",\n  datumName: \"Airy 1830\"\n};\n\nexports.s_jtsk = {\n  towgs84: \"589,76,480\",\n  ellipse: 'bessel',\n  datumName: 'S-JTSK (Ferro)'\n};\n\nexports.beduaram = {\n  towgs84: '-106,-87,188',\n  ellipse: 'clrk80',\n  datumName: 'Beduaram'\n};\n\nexports.gunung_segara = {\n  towgs84: '-403,684,41',\n  ellipse: 'bessel',\n  datumName: 'Gunung Segara Jakarta'\n};\n\nexports.rnb72 = {\n  towgs84: \"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1\",\n  ellipse: \"intl\",\n  datumName: \"Reseau National Belge 1972\"\n};\n","/**\n * Resources for details of NTv2 file formats:\n * - https://web.archive.org/web/20140127204822if_/http://www.mgs.gov.on.ca:80/stdprodconsume/groups/content/@mgs/@iandit/documents/resourcelist/stel02_047447.pdf\n * - http://mimaka.com/help/gs/html/004_NTV2%20Data%20Format.htm\n */\n\nvar loadedNadgrids = {};\n\n/**\n * Load a binary NTv2 file (.gsb) to a key that can be used in a proj string like +nadgrids=<key>. Pass the NTv2 file\n * as an ArrayBuffer.\n */\nexport default function nadgrid(key, data) {\n  var view = new DataView(data);\n  var isLittleEndian = detectLittleEndian(view);\n  var header = readHeader(view, isLittleEndian);\n  var subgrids = readSubgrids(view, header, isLittleEndian);\n  var nadgrid = {header: header, subgrids: subgrids};\n  loadedNadgrids[key] = nadgrid;\n  return nadgrid;\n}\n\n/**\n * Given a proj4 value for nadgrids, return an array of loaded grids\n */\nexport function getNadgrids(nadgrids) {\n  // Format details: http://proj.maptools.org/gen_parms.html\n  if (nadgrids === undefined) { return null; }\n  var grids = nadgrids.split(',');\n  return grids.map(parseNadgridString);\n}\n\nfunction parseNadgridString(value) {\n  if (value.length === 0) {\n    return null;\n  }\n  var optional = value[0] === '@';\n  if (optional) {\n    value = value.slice(1);\n  }\n  if (value === 'null') {\n    return {name: 'null', mandatory: !optional, grid: null, isNull: true};\n  }\n  return {\n    name: value,\n    mandatory: !optional,\n    grid: loadedNadgrids[value] || null,\n    isNull: false\n  };\n}\n\nfunction secondsToRadians(seconds) {\n  return (seconds / 3600) * Math.PI / 180;\n}\n\nfunction detectLittleEndian(view) {\n  var nFields = view.getInt32(8, false);\n  if (nFields === 11) {\n    return false;\n  }\n  nFields = view.getInt32(8, true);\n  if (nFields !== 11) {\n    console.warn('Failed to detect nadgrid endian-ness, defaulting to little-endian');\n  }\n  return true;\n}\n\nfunction readHeader(view, isLittleEndian) {\n  return {\n    nFields: view.getInt32(8, isLittleEndian),\n    nSubgridFields: view.getInt32(24, isLittleEndian),\n    nSubgrids: view.getInt32(40, isLittleEndian),\n    shiftType: decodeString(view, 56, 56 + 8).trim(),\n    fromSemiMajorAxis: view.getFloat64(120, isLittleEndian),\n    fromSemiMinorAxis: view.getFloat64(136, isLittleEndian),\n    toSemiMajorAxis: view.getFloat64(152, isLittleEndian),\n    toSemiMinorAxis: view.getFloat64(168, isLittleEndian),\n  };\n}\n\nfunction decodeString(view, start, end) {\n  return String.fromCharCode.apply(null, new Uint8Array(view.buffer.slice(start, end)));\n}\n\nfunction readSubgrids(view, header, isLittleEndian) {\n  var gridOffset = 176;\n  var grids = [];\n  for (var i = 0; i < header.nSubgrids; i++) {\n    var subHeader = readGridHeader(view, gridOffset, isLittleEndian);\n    var nodes = readGridNodes(view, gridOffset, subHeader, isLittleEndian);\n    var lngColumnCount = Math.round(\n      1 + (subHeader.upperLongitude - subHeader.lowerLongitude) / subHeader.longitudeInterval);\n    var latColumnCount = Math.round(\n      1 + (subHeader.upperLatitude - subHeader.lowerLatitude) / subHeader.latitudeInterval);\n    // Proj4 operates on radians whereas the coordinates are in seconds in the grid\n    grids.push({\n      ll: [secondsToRadians(subHeader.lowerLongitude), secondsToRadians(subHeader.lowerLatitude)],\n      del: [secondsToRadians(subHeader.longitudeInterval), secondsToRadians(subHeader.latitudeInterval)],\n      lim: [lngColumnCount, latColumnCount],\n      count: subHeader.gridNodeCount,\n      cvs: mapNodes(nodes)\n    });\n    gridOffset += 176 + subHeader.gridNodeCount * 16;\n  }\n  return grids;\n}\n\nfunction mapNodes(nodes) {\n  return nodes.map(function (r) {return [secondsToRadians(r.longitudeShift), secondsToRadians(r.latitudeShift)];});\n}\n\nfunction readGridHeader(view, offset, isLittleEndian) {\n  return {\n    name: decodeString(view, offset + 8, offset + 16).trim(),\n    parent: decodeString(view, offset + 24, offset + 24 + 8).trim(),\n    lowerLatitude: view.getFloat64(offset + 72, isLittleEndian),\n    upperLatitude: view.getFloat64(offset + 88, isLittleEndian),\n    lowerLongitude: view.getFloat64(offset + 104, isLittleEndian),\n    upperLongitude: view.getFloat64(offset + 120, isLittleEndian),\n    latitudeInterval: view.getFloat64(offset + 136, isLittleEndian),\n    longitudeInterval: view.getFloat64(offset + 152, isLittleEndian),\n    gridNodeCount: view.getInt32(offset + 168, isLittleEndian)\n  };\n}\n\nfunction readGridNodes(view, offset, gridHeader, isLittleEndian) {\n  var nodesOffset = offset + 176;\n  var gridRecordLength = 16;\n  var gridShiftRecords = [];\n  for (var i = 0; i < gridHeader.gridNodeCount; i++) {\n    var record = {\n      latitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength, isLittleEndian),\n      longitudeShift: view.getFloat32(nodesOffset + i * gridRecordLength + 4, isLittleEndian),\n      latitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 8, isLittleEndian),\n      longitudeAccuracy: view.getFloat32(nodesOffset + i * gridRecordLength + 12, isLittleEndian),\n    };\n    gridShiftRecords.push(record);\n  }\n  return gridShiftRecords;\n}\n","import parseCode from './parseCode';\nimport extend from './extend';\nimport projections from './projections';\nimport {sphere as dc_sphere, eccentricity as dc_eccentricity} from './deriveConstants';\nimport Datum from './constants/Datum';\nimport datum from './datum';\nimport match from './match';\nimport {getNadgrids} from \"./nadgrid\";\n\nfunction Projection(srsCode,callback) {\n  if (!(this instanceof Projection)) {\n    return new Projection(srsCode);\n  }\n  callback = callback || function(error){\n    if(error){\n      throw error;\n    }\n  };\n  var json = parseCode(srsCode);\n  if(typeof json !== 'object'){\n    callback(srsCode);\n    return;\n  }\n  var ourProj = Projection.projections.get(json.projName);\n  if(!ourProj){\n    callback(srsCode);\n    return;\n  }\n  if (json.datumCode && json.datumCode !== 'none') {\n    var datumDef = match(Datum, json.datumCode);\n    if (datumDef) {\n      json.datum_params = json.datum_params || (datumDef.towgs84 ? datumDef.towgs84.split(',') : null);\n      json.ellps = datumDef.ellipse;\n      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;\n    }\n  }\n  json.k0 = json.k0 || 1.0;\n  json.axis = json.axis || 'enu';\n  json.ellps = json.ellps || 'wgs84';\n  json.lat1 = json.lat1 || json.lat0; // Lambert_Conformal_Conic_1SP, for example, needs this\n\n  var sphere_ = dc_sphere(json.a, json.b, json.rf, json.ellps, json.sphere);\n  var ecc = dc_eccentricity(sphere_.a, sphere_.b, sphere_.rf, json.R_A);\n  var nadgrids = getNadgrids(json.nadgrids);\n  var datumObj = json.datum || datum(json.datumCode, json.datum_params, sphere_.a, sphere_.b, ecc.es, ecc.ep2,\n    nadgrids);\n\n  extend(this, json); // transfer everything over from the projection because we don't know what we'll need\n  extend(this, ourProj); // transfer all the methods from the projection\n\n  // copy the 4 things over we calculated in deriveConstants.sphere\n  this.a = sphere_.a;\n  this.b = sphere_.b;\n  this.rf = sphere_.rf;\n  this.sphere = sphere_.sphere;\n\n  // copy the 3 things we calculated in deriveConstants.eccentricity\n  this.es = ecc.es;\n  this.e = ecc.e;\n  this.ep2 = ecc.ep2;\n\n  // add in the datum object\n  this.datum = datumObj;\n\n  // init the projection\n  this.init();\n\n  // legecy callback from back in the day when it went to spatialreference.org\n  callback(null, this);\n\n}\nProjection.projections = projections;\nProjection.projections.start();\nexport default Projection;\n","import {SIXTH, RA4, RA6, EPSLN} from './constants/values';\nimport {default as Ellipsoid, WGS84} from './constants/Ellipsoid';\nimport match from './match';\n\nexport function eccentricity(a, b, rf, R_A) {\n  var a2 = a * a; // used in geocentric\n  var b2 = b * b; // used in geocentric\n  var es = (a2 - b2) / a2; // e ^ 2\n  var e = 0;\n  if (R_A) {\n    a *= 1 - es * (SIXTH + es * (RA4 + es * RA6));\n    a2 = a * a;\n    es = 0;\n  } else {\n    e = Math.sqrt(es); // eccentricity\n  }\n  var ep2 = (a2 - b2) / b2; // used in geocentric\n  return {\n    es: es,\n    e: e,\n    ep2: ep2\n  };\n}\nexport function sphere(a, b, rf, ellps, sphere) {\n  if (!a) { // do we have an ellipsoid?\n    var ellipse = match(Ellipsoid, ellps);\n    if (!ellipse) {\n      ellipse = WGS84;\n    }\n    a = ellipse.a;\n    b = ellipse.b;\n    rf = ellipse.rf;\n  }\n\n  if (rf && !b) {\n    b = (1.0 - 1.0 / rf) * a;\n  }\n  if (rf === 0 || Math.abs(a - b) < EPSLN) {\n    sphere = true;\n    b = a;\n  }\n  return {\n    a: a,\n    b: b,\n    rf: rf,\n    sphere: sphere\n  };\n}\n","import {PJD_3PARAM, PJD_7PARAM, PJD_GRIDSHIFT, PJD_WGS84, PJD_NODATUM, SEC_TO_RAD} from './constants/values';\n\nfunction datum(datumCode, datum_params, a, b, es, ep2, nadgrids) {\n  var out = {};\n\n  if (datumCode === undefined || datumCode === 'none') {\n    out.datum_type = PJD_NODATUM;\n  } else {\n    out.datum_type = PJD_WGS84;\n  }\n\n  if (datum_params) {\n    out.datum_params = datum_params.map(parseFloat);\n    if (out.datum_params[0] !== 0 || out.datum_params[1] !== 0 || out.datum_params[2] !== 0) {\n      out.datum_type = PJD_3PARAM;\n    }\n    if (out.datum_params.length > 3) {\n      if (out.datum_params[3] !== 0 || out.datum_params[4] !== 0 || out.datum_params[5] !== 0 || out.datum_params[6] !== 0) {\n        out.datum_type = PJD_7PARAM;\n        out.datum_params[3] *= SEC_TO_RAD;\n        out.datum_params[4] *= SEC_TO_RAD;\n        out.datum_params[5] *= SEC_TO_RAD;\n        out.datum_params[6] = (out.datum_params[6] / 1000000.0) + 1.0;\n      }\n    }\n  }\n\n  if (nadgrids) {\n    out.datum_type = PJD_GRIDSHIFT;\n    out.grids = nadgrids;\n  }\n  out.a = a; //datum object also uses these values\n  out.b = b;\n  out.es = es;\n  out.ep2 = ep2;\n  return out;\n}\n\nexport default datum;\n","'use strict';\nimport {PJD_3PARAM, PJD_7PARAM, HALF_PI} from './constants/values';\nexport function compareDatums(source, dest) {\n  if (source.datum_type !== dest.datum_type) {\n    return false; // false, datums are not equal\n  } else if (source.a !== dest.a || Math.abs(source.es - dest.es) > 0.000000000050) {\n    // the tolerance for es is to ensure that GRS80 and WGS84\n    // are considered identical\n    return false;\n  } else if (source.datum_type === PJD_3PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2]);\n  } else if (source.datum_type === PJD_7PARAM) {\n    return (source.datum_params[0] === dest.datum_params[0] && source.datum_params[1] === dest.datum_params[1] && source.datum_params[2] === dest.datum_params[2] && source.datum_params[3] === dest.datum_params[3] && source.datum_params[4] === dest.datum_params[4] && source.datum_params[5] === dest.datum_params[5] && source.datum_params[6] === dest.datum_params[6]);\n  } else {\n    return true; // datums are equal\n  }\n} // cs_compare_datums()\n\n/*\n * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates\n * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),\n * according to the current ellipsoid parameters.\n *\n *    Latitude  : Geodetic latitude in radians                     (input)\n *    Longitude : Geodetic longitude in radians                    (input)\n *    Height    : Geodetic height, in meters                       (input)\n *    X         : Calculated Geocentric X coordinate, in meters    (output)\n *    Y         : Calculated Geocentric Y coordinate, in meters    (output)\n *    Z         : Calculated Geocentric Z coordinate, in meters    (output)\n *\n */\nexport function geodeticToGeocentric(p, es, a) {\n  var Longitude = p.x;\n  var Latitude = p.y;\n  var Height = p.z ? p.z : 0; //Z value not always supplied\n\n  var Rn; /*  Earth radius at location  */\n  var Sin_Lat; /*  Math.sin(Latitude)  */\n  var Sin2_Lat; /*  Square of Math.sin(Latitude)  */\n  var Cos_Lat; /*  Math.cos(Latitude)  */\n\n  /*\n   ** Don't blow up if Latitude is just a little out of the value\n   ** range as it may just be a rounding issue.  Also removed longitude\n   ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.\n   */\n  if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {\n    Latitude = -HALF_PI;\n  } else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {\n    Latitude = HALF_PI;\n  } else if (Latitude < -HALF_PI) {\n    /* Latitude out of range */\n    //..reportError('geocent:lat out of range:' + Latitude);\n    return { x: -Infinity, y: -Infinity, z: p.z };\n  } else if (Latitude > HALF_PI) {\n    /* Latitude out of range */\n    return { x: Infinity, y: Infinity, z: p.z };\n  }\n\n  if (Longitude > Math.PI) {\n    Longitude -= (2 * Math.PI);\n  }\n  Sin_Lat = Math.sin(Latitude);\n  Cos_Lat = Math.cos(Latitude);\n  Sin2_Lat = Sin_Lat * Sin_Lat;\n  Rn = a / (Math.sqrt(1.0e0 - es * Sin2_Lat));\n  return {\n    x: (Rn + Height) * Cos_Lat * Math.cos(Longitude),\n    y: (Rn + Height) * Cos_Lat * Math.sin(Longitude),\n    z: ((Rn * (1 - es)) + Height) * Sin_Lat\n  };\n} // cs_geodetic_to_geocentric()\n\nexport function geocentricToGeodetic(p, es, a, b) {\n  /* local defintions and variables */\n  /* end-criterium of loop, accuracy of sin(Latitude) */\n  var genau = 1e-12;\n  var genau2 = (genau * genau);\n  var maxiter = 30;\n\n  var P; /* distance between semi-minor axis and location */\n  var RR; /* distance between center and location */\n  var CT; /* sin of geocentric latitude */\n  var ST; /* cos of geocentric latitude */\n  var RX;\n  var RK;\n  var RN; /* Earth radius at location */\n  var CPHI0; /* cos of start or old geodetic latitude in iterations */\n  var SPHI0; /* sin of start or old geodetic latitude in iterations */\n  var CPHI; /* cos of searched geodetic latitude */\n  var SPHI; /* sin of searched geodetic latitude */\n  var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */\n  var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */\n\n  var X = p.x;\n  var Y = p.y;\n  var Z = p.z ? p.z : 0.0; //Z value not always supplied\n  var Longitude;\n  var Latitude;\n  var Height;\n\n  P = Math.sqrt(X * X + Y * Y);\n  RR = Math.sqrt(X * X + Y * Y + Z * Z);\n\n  /*      special cases for latitude and longitude */\n  if (P / a < genau) {\n\n    /*  special case, if P=0. (X=0., Y=0.) */\n    Longitude = 0.0;\n\n    /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis\n     *  of ellipsoid (=center of mass), Latitude becomes PI/2 */\n    if (RR / a < genau) {\n      Latitude = HALF_PI;\n      Height = -b;\n      return {\n        x: p.x,\n        y: p.y,\n        z: p.z\n      };\n    }\n  } else {\n    /*  ellipsoidal (geodetic) longitude\n     *  interval: -PI < Longitude <= +PI */\n    Longitude = Math.atan2(Y, X);\n  }\n\n  /* --------------------------------------------------------------\n   * Following iterative algorithm was developped by\n   * \"Institut for Erdmessung\", University of Hannover, July 1988.\n   * Internet: www.ife.uni-hannover.de\n   * Iterative computation of CPHI,SPHI and Height.\n   * Iteration of CPHI and SPHI to 10**-12 radian resp.\n   * 2*10**-7 arcsec.\n   * --------------------------------------------------------------\n   */\n  CT = Z / RR;\n  ST = P / RR;\n  RX = 1.0 / Math.sqrt(1.0 - es * (2.0 - es) * ST * ST);\n  CPHI0 = ST * (1.0 - es) * RX;\n  SPHI0 = CT * RX;\n  iter = 0;\n\n  /* loop to find sin(Latitude) resp. Latitude\n   * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */\n  do {\n    iter++;\n    RN = a / Math.sqrt(1.0 - es * SPHI0 * SPHI0);\n\n    /*  ellipsoidal (geodetic) height */\n    Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - es * SPHI0 * SPHI0);\n\n    RK = es * RN / (RN + Height);\n    RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);\n    CPHI = ST * (1.0 - RK) * RX;\n    SPHI = CT * RX;\n    SDPHI = SPHI * CPHI0 - CPHI * SPHI0;\n    CPHI0 = CPHI;\n    SPHI0 = SPHI;\n  }\n  while (SDPHI * SDPHI > genau2 && iter < maxiter);\n\n  /*      ellipsoidal (geodetic) latitude */\n  Latitude = Math.atan(SPHI / Math.abs(CPHI));\n  return {\n    x: Longitude,\n    y: Latitude,\n    z: Height\n  };\n} // cs_geocentric_to_geodetic()\n\n/****************************************************************/\n// pj_geocentic_to_wgs84( p )\n//  p = point to transform in geocentric coordinates (x,y,z)\n\n\n/** point object, nothing fancy, just allows values to be\n    passed back and forth by reference rather than by value.\n    Other point classes may be used as long as they have\n    x and y properties, which will get modified in the transform method.\n*/\nexport function geocentricToWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x + datum_params[0],\n      y: p.y + datum_params[1],\n      z: p.z + datum_params[2],\n    };\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    // if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF,\n      y: M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF,\n      z: M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF\n    };\n  }\n} // cs_geocentric_to_wgs84\n\n/****************************************************************/\n// pj_geocentic_from_wgs84()\n//  coordinate system definition,\n//  point to transform in geocentric coordinates (x,y,z)\nexport function geocentricFromWgs84(p, datum_type, datum_params) {\n\n  if (datum_type === PJD_3PARAM) {\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n    return {\n      x: p.x - datum_params[0],\n      y: p.y - datum_params[1],\n      z: p.z - datum_params[2],\n    };\n\n  } else if (datum_type === PJD_7PARAM) {\n    var Dx_BF = datum_params[0];\n    var Dy_BF = datum_params[1];\n    var Dz_BF = datum_params[2];\n    var Rx_BF = datum_params[3];\n    var Ry_BF = datum_params[4];\n    var Rz_BF = datum_params[5];\n    var M_BF = datum_params[6];\n    var x_tmp = (p.x - Dx_BF) / M_BF;\n    var y_tmp = (p.y - Dy_BF) / M_BF;\n    var z_tmp = (p.z - Dz_BF) / M_BF;\n    //if( x[io] === HUGE_VAL )\n    //    continue;\n\n    return {\n      x: x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp,\n      y: -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp,\n      z: Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp\n    };\n  } //cs_geocentric_from_wgs84()\n}\n","import {\n  PJD_3PARAM,\n  PJD_7PARAM,\n  PJD_GRIDSHIFT,\n  PJD_NODATUM,\n  R2D,\n  SRS_WGS84_ESQUARED,\n  SRS_WGS84_SEMIMAJOR, SRS_WGS84_SEMIMINOR\n} from './constants/values';\n\nimport {geodeticToGeocentric, geocentricToGeodetic, geocentricToWgs84, geocentricFromWgs84, compareDatums} from './datumUtils';\nimport adjust_lon from \"./common/adjust_lon\";\nfunction checkParams(type) {\n  return (type === PJD_3PARAM || type === PJD_7PARAM);\n}\n\nexport default function(source, dest, point) {\n  // Short cut if the datums are identical.\n  if (compareDatums(source, dest)) {\n    return point; // in this case, zero is sucess,\n    // whereas cs_compare_datums returns 1 to indicate TRUE\n    // confusing, should fix this\n  }\n\n  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest\n  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {\n    return point;\n  }\n\n  // If this datum requires grid shifts, then apply it to geodetic coordinates.\n  var source_a = source.a;\n  var source_es = source.es;\n  if (source.datum_type === PJD_GRIDSHIFT) {\n    var gridShiftCode = applyGridShift(source, false, point);\n    if (gridShiftCode !== 0) {\n      return undefined;\n    }\n    source_a = SRS_WGS84_SEMIMAJOR;\n    source_es = SRS_WGS84_ESQUARED;\n  }\n\n  var dest_a = dest.a;\n  var dest_b = dest.b;\n  var dest_es = dest.es;\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    dest_a = SRS_WGS84_SEMIMAJOR;\n    dest_b = SRS_WGS84_SEMIMINOR;\n    dest_es = SRS_WGS84_ESQUARED;\n  }\n\n  // Do we need to go through geocentric coordinates?\n  if (source_es === dest_es && source_a === dest_a && !checkParams(source.datum_type) &&  !checkParams(dest.datum_type)) {\n    return point;\n  }\n\n  // Convert to geocentric coordinates.\n  point = geodeticToGeocentric(point, source_es, source_a);\n  // Convert between datums\n  if (checkParams(source.datum_type)) {\n    point = geocentricToWgs84(point, source.datum_type, source.datum_params);\n  }\n  if (checkParams(dest.datum_type)) {\n    point = geocentricFromWgs84(point, dest.datum_type, dest.datum_params);\n  }\n  point = geocentricToGeodetic(point, dest_es, dest_a, dest_b);\n\n  if (dest.datum_type === PJD_GRIDSHIFT) {\n    var destGridShiftResult = applyGridShift(dest, true, point);\n    if (destGridShiftResult !== 0) {\n      return undefined;\n    }\n  }\n\n  return point;\n}\n\nexport function applyGridShift(source, inverse, point) {\n  if (source.grids === null || source.grids.length === 0) {\n    console.log('Grid shift grids not found');\n    return -1;\n  }\n  var input = {x: -point.x, y: point.y};\n  var output = {x: Number.NaN, y: Number.NaN};\n  var onlyMandatoryGrids = false;\n  var attemptedGrids = [];\n  outer:\n  for (var i = 0; i < source.grids.length; i++) {\n    var grid = source.grids[i];\n    attemptedGrids.push(grid.name);\n    if (grid.isNull) {\n      output = input;\n      break;\n    }\n    onlyMandatoryGrids = grid.mandatory;\n    if (grid.grid === null) {\n      if (grid.mandatory) {\n        console.log(\"Unable to find mandatory grid '\" + grid.name + \"'\");\n        return -1;\n      }\n      continue;\n    }\n    var subgrids = grid.grid.subgrids;\n    for (var j = 0, jj = subgrids.length; j < jj; j++) {\n      var subgrid = subgrids[j];\n      // skip tables that don't match our point at all\n      var epsilon = (Math.abs(subgrid.del[1]) + Math.abs(subgrid.del[0])) / 10000.0;\n      var minX = subgrid.ll[0] - epsilon;\n      var minY = subgrid.ll[1] - epsilon;\n      var maxX = subgrid.ll[0] + (subgrid.lim[0] - 1) * subgrid.del[0] + epsilon;\n      var maxY = subgrid.ll[1] + (subgrid.lim[1] - 1) * subgrid.del[1] + epsilon;\n      if (minY > input.y || minX > input.x || maxY < input.y || maxX < input.x ) {\n        continue;\n      }\n      output = applySubgridShift(input, inverse, subgrid);\n      if (!isNaN(output.x)) {\n        break outer;\n      }\n    }\n  }\n  if (isNaN(output.x)) {\n    console.log(\"Failed to find a grid shift table for location '\"+\n      -input.x * R2D + \" \" + input.y * R2D + \" tried: '\" + attemptedGrids + \"'\");\n    return -1;\n  }\n  point.x = -output.x;\n  point.y = output.y;\n  return 0;\n}\n\nfunction applySubgridShift(pin, inverse, ct) {\n  var val = {x: Number.NaN, y: Number.NaN};\n  if (isNaN(pin.x)) { return val; }\n  var tb = {x: pin.x, y: pin.y};\n  tb.x -= ct.ll[0];\n  tb.y -= ct.ll[1];\n  tb.x = adjust_lon(tb.x - Math.PI) + Math.PI;\n  var t = nadInterpolate(tb, ct);\n  if (inverse) {\n    if (isNaN(t.x)) {\n      return val;\n    }\n    t.x = tb.x - t.x;\n    t.y = tb.y - t.y;\n    var i = 9, tol = 1e-12;\n    var dif, del;\n    do {\n      del = nadInterpolate(t, ct);\n      if (isNaN(del.x)) {\n        console.log(\"Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.\");\n        break;\n      }\n      dif = {x: tb.x - (del.x + t.x), y: tb.y - (del.y + t.y)};\n      t.x += dif.x;\n      t.y += dif.y;\n    } while (i-- && Math.abs(dif.x) > tol && Math.abs(dif.y) > tol);\n    if (i < 0) {\n      console.log(\"Inverse grid shift iterator failed to converge.\");\n      return val;\n    }\n    val.x = adjust_lon(t.x + ct.ll[0]);\n    val.y = t.y + ct.ll[1];\n  } else {\n    if (!isNaN(t.x)) {\n      val.x = pin.x + t.x;\n      val.y = pin.y + t.y;\n    }\n  }\n  return val;\n}\n\nfunction nadInterpolate(pin, ct) {\n  var t = {x: pin.x / ct.del[0], y: pin.y / ct.del[1]};\n  var indx = {x: Math.floor(t.x), y: Math.floor(t.y)};\n  var frct = {x: t.x - 1.0 * indx.x, y: t.y - 1.0 * indx.y};\n  var val= {x: Number.NaN, y: Number.NaN};\n  var inx;\n  if (indx.x < 0 || indx.x >= ct.lim[0]) {\n    return val;\n  }\n  if (indx.y < 0 || indx.y >= ct.lim[1]) {\n    return val;\n  }\n  inx = (indx.y * ct.lim[0]) + indx.x;\n  var f00 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx++;\n  var f10= {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx += ct.lim[0];\n  var f11 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  inx--;\n  var f01 = {x: ct.cvs[inx][0], y: ct.cvs[inx][1]};\n  var m11 = frct.x * frct.y, m10 = frct.x * (1.0 - frct.y),\n    m00 = (1.0 - frct.x) * (1.0 - frct.y), m01 = (1.0 - frct.x) * frct.y;\n  val.x = (m00 * f00.x + m10 * f10.x + m01 * f01.x + m11 * f11.x);\n  val.y = (m00 * f00.y + m10 * f10.y + m01 * f01.y + m11 * f11.y);\n  return val;\n}\n","export default function(crs, denorm, point) {\n  var xin = point.x,\n    yin = point.y,\n    zin = point.z || 0.0;\n  var v, t, i;\n  var out = {};\n  for (i = 0; i < 3; i++) {\n    if (denorm && i === 2 && point.z === undefined) {\n      continue;\n    }\n    if (i === 0) {\n      v = xin;\n      if (\"ew\".indexOf(crs.axis[i]) !== -1) {\n        t = 'x';\n      } else {\n        t = 'y';\n      }\n\n    }\n    else if (i === 1) {\n      v = yin;\n      if (\"ns\".indexOf(crs.axis[i]) !== -1) {\n        t = 'y';\n      } else {\n        t = 'x';\n      }\n    }\n    else {\n      v = zin;\n      t = 'z';\n    }\n    switch (crs.axis[i]) {\n    case 'e':\n      out[t] = v;\n      break;\n    case 'w':\n      out[t] = -v;\n      break;\n    case 'n':\n      out[t] = v;\n      break;\n    case 's':\n      out[t] = -v;\n      break;\n    case 'u':\n      if (point[t] !== undefined) {\n        out.z = v;\n      }\n      break;\n    case 'd':\n      if (point[t] !== undefined) {\n        out.z = -v;\n      }\n      break;\n    default:\n      //console.log(\"ERROR: unknow axis (\"+crs.axis[i]+\") - check definition of \"+crs.projName);\n      return null;\n    }\n  }\n  return out;\n}\n","export default function (array){\n  var out = {\n    x: array[0],\n    y: array[1]\n  };\n  if (array.length>2) {\n    out.z = array[2];\n  }\n  if (array.length>3) {\n    out.m = array[3];\n  }\n  return out;\n}","export default function (point) {\n  checkCoord(point.x);\n  checkCoord(point.y);\n}\nfunction checkCoord(num) {\n  if (typeof Number.isFinite === 'function') {\n    if (Number.isFinite(num)) {\n      return;\n    }\n    throw new TypeError('coordinates must be finite numbers');\n  }\n  if (typeof num !== 'number' || num !== num || !isFinite(num)) {\n    throw new TypeError('coordinates must be finite numbers');\n  }\n}\n","import {D2R, R2D, PJD_3PARAM, PJD_7PARAM, PJD_GRIDSHIFT} from './constants/values';\nimport datum_transform from './datum_transform';\nimport adjust_axis from './adjust_axis';\nimport proj from './Proj';\nimport toPoint from './common/toPoint';\nimport checkSanity from './checkSanity';\n\nfunction checkNotWGS(source, dest) {\n  return (\n    (source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM || source.datum.datum_type === PJD_GRIDSHIFT) && dest.datumCode !== 'WGS84') ||\n    ((dest.datum.datum_type === PJD_3PARAM || dest.datum.datum_type === PJD_7PARAM || dest.datum.datum_type === PJD_GRIDSHIFT) && source.datumCode !== 'WGS84');\n}\n\nexport default function transform(source, dest, point, enforceAxis) {\n  var wgs84;\n  if (Array.isArray(point)) {\n    point = toPoint(point);\n  } else {\n    // Clone the point object so inputs don't get modified\n    point = {\n      x: point.x,\n      y: point.y,\n      z: point.z,\n      m: point.m\n    };\n  }\n  var hasZ = point.z !== undefined;\n  checkSanity(point);\n  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84\n  if (source.datum && dest.datum && checkNotWGS(source, dest)) {\n    wgs84 = new proj('WGS84');\n    point = transform(source, wgs84, point, enforceAxis);\n    source = wgs84;\n  }\n  // DGR, 2010/11/12\n  if (enforceAxis && source.axis !== 'enu') {\n    point = adjust_axis(source, false, point);\n  }\n  // Transform source points to long/lat, if they aren't already.\n  if (source.projName === 'longlat') {\n    point = {\n      x: point.x * D2R,\n      y: point.y * D2R,\n      z: point.z || 0\n    };\n  } else {\n    if (source.to_meter) {\n      point = {\n        x: point.x * source.to_meter,\n        y: point.y * source.to_meter,\n        z: point.z || 0\n      };\n    }\n    point = source.inverse(point); // Convert Cartesian to longlat\n    if (!point) {\n      return;\n    }\n  }\n  // Adjust for the prime meridian if necessary\n  if (source.from_greenwich) {\n    point.x += source.from_greenwich;\n  }\n\n  // Convert datums if needed, and if possible.\n  point = datum_transform(source.datum, dest.datum, point);\n  if (!point) {\n    return;\n  }\n\n  // Adjust for the prime meridian if necessary\n  if (dest.from_greenwich) {\n    point = {\n      x: point.x - dest.from_greenwich,\n      y: point.y,\n      z: point.z || 0\n    };\n  }\n\n  if (dest.projName === 'longlat') {\n    // convert radians to decimal degrees\n    point = {\n      x: point.x * R2D,\n      y: point.y * R2D,\n      z: point.z || 0\n    };\n  } else { // else project\n    point = dest.forward(point);\n    if (dest.to_meter) {\n      point = {\n        x: point.x / dest.to_meter,\n        y: point.y / dest.to_meter,\n        z: point.z || 0\n      };\n    }\n  }\n\n  // DGR, 2010/11/12\n  if (enforceAxis && dest.axis !== 'enu') {\n    return adjust_axis(dest, true, point);\n  }\n\n  if (point && !hasZ) {\n    delete point.z;\n  }\n  return point;\n}\n","import proj from './Proj';\nimport transform from './transform';\nvar wgs84 = proj('WGS84');\n\nfunction transformer(from, to, coords, enforceAxis) {\n  var transformedArray, out, keys;\n  if (Array.isArray(coords)) {\n    transformedArray = transform(from, to, coords, enforceAxis) || {x: NaN, y: NaN};\n    if (coords.length > 2) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (typeof transformedArray.z === 'number') {\n          return [transformedArray.x, transformedArray.y, transformedArray.z].concat(coords.splice(3));\n        } else {\n          return [transformedArray.x, transformedArray.y, coords[2]].concat(coords.splice(3));\n        }\n      } else {\n        return [transformedArray.x, transformedArray.y].concat(coords.splice(2));\n      }\n    } else {\n      return [transformedArray.x, transformedArray.y];\n    }\n  } else {\n    out = transform(from, to, coords, enforceAxis);\n    keys = Object.keys(coords);\n    if (keys.length === 2) {\n      return out;\n    }\n    keys.forEach(function (key) {\n      if ((typeof from.name !== 'undefined' && from.name === 'geocent') || (typeof to.name !== 'undefined' && to.name === 'geocent')) {\n        if (key === 'x' || key === 'y' || key === 'z') {\n          return;\n        }\n      } else {\n        if (key === 'x' || key === 'y') {\n          return;\n        }\n      }\n      out[key] = coords[key];\n    });\n    return out;\n  }\n}\n\nfunction checkProj(item) {\n  if (item instanceof proj) {\n    return item;\n  }\n  if (item.oProj) {\n    return item.oProj;\n  }\n  return proj(item);\n}\n\nfunction proj4(fromProj, toProj, coord) {\n  fromProj = checkProj(fromProj);\n  var single = false;\n  var obj;\n  if (typeof toProj === 'undefined') {\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  } else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {\n    coord = toProj;\n    toProj = fromProj;\n    fromProj = wgs84;\n    single = true;\n  }\n  toProj = checkProj(toProj);\n  if (coord) {\n    return transformer(fromProj, toProj, coord);\n  } else {\n    obj = {\n      forward: function (coords, enforceAxis) {\n        return transformer(fromProj, toProj, coords, enforceAxis);\n      },\n      inverse: function (coords, enforceAxis) {\n        return transformer(toProj, fromProj, coords, enforceAxis);\n      }\n    };\n    if (single) {\n      obj.oProj = toProj;\n    }\n    return obj;\n  }\n}\nexport default proj4;","\n\n\n/**\n * UTM zones are grouped, and assigned to one of a group of 6\n * sets.\n *\n * {int} @private\n */\nvar NUM_100K_SETS = 6;\n\n/**\n * The column letters (for easting) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';\n\n/**\n * The row letters (for northing) of the lower left value, per\n * set.\n *\n * {string} @private\n */\nvar SET_ORIGIN_ROW_LETTERS = 'AFAFAF';\n\nvar A = 65; // A\nvar I = 73; // I\nvar O = 79; // O\nvar V = 86; // V\nvar Z = 90; // Z\nexport default {\n  forward: forward,\n  inverse: inverse,\n  toPoint: toPoint\n};\n/**\n * Conversion of lat/lon to MGRS.\n *\n * @param {object} ll Object literal with lat and lon properties on a\n *     WGS84 ellipsoid.\n * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for\n *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.\n * @return {string} the MGRS string for the given location and accuracy.\n */\nexport function forward(ll, accuracy) {\n  accuracy = accuracy || 5; // default accuracy 1m\n  return encode(LLtoUTM({\n    lat: ll[1],\n    lon: ll[0]\n  }), accuracy);\n};\n\n/**\n * Conversion of MGRS to lat/lon.\n *\n * @param {string} mgrs MGRS string.\n * @return {array} An array with left (longitude), bottom (latitude), right\n *     (longitude) and top (latitude) values in WGS84, representing the\n *     bounding box for the provided MGRS reference.\n */\nexport function inverse(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];\n  }\n  return [bbox.left, bbox.bottom, bbox.right, bbox.top];\n};\n\nexport function toPoint(mgrs) {\n  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));\n  if (bbox.lat && bbox.lon) {\n    return [bbox.lon, bbox.lat];\n  }\n  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];\n};\n/**\n * Conversion from degrees to radians.\n *\n * @private\n * @param {number} deg the angle in degrees.\n * @return {number} the angle in radians.\n */\nfunction degToRad(deg) {\n  return (deg * (Math.PI / 180.0));\n}\n\n/**\n * Conversion from radians to degrees.\n *\n * @private\n * @param {number} rad the angle in radians.\n * @return {number} the angle in degrees.\n */\nfunction radToDeg(rad) {\n  return (180.0 * (rad / Math.PI));\n}\n\n/**\n * Converts a set of Longitude and Latitude co-ordinates to UTM\n * using the WGS84 ellipsoid.\n *\n * @private\n * @param {object} ll Object literal with lat and lon properties\n *     representing the WGS84 coordinate to be converted.\n * @return {object} Object literal containing the UTM value with easting,\n *     northing, zoneNumber and zoneLetter properties, and an optional\n *     accuracy property in digits. Returns null if the conversion failed.\n */\nfunction LLtoUTM(ll) {\n  var Lat = ll.lat;\n  var Long = ll.lon;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var k0 = 0.9996;\n  var LongOrigin;\n  var eccPrimeSquared;\n  var N, T, C, A, M;\n  var LatRad = degToRad(Lat);\n  var LongRad = degToRad(Long);\n  var LongOriginRad;\n  var ZoneNumber;\n  // (int)\n  ZoneNumber = Math.floor((Long + 180) / 6) + 1;\n\n  //Make sure the longitude 180.00 is in Zone 60\n  if (Long === 180) {\n    ZoneNumber = 60;\n  }\n\n  // Special zone for Norway\n  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {\n    ZoneNumber = 32;\n  }\n\n  // Special zones for Svalbard\n  if (Lat >= 72.0 && Lat < 84.0) {\n    if (Long >= 0.0 && Long < 9.0) {\n      ZoneNumber = 31;\n    }\n    else if (Long >= 9.0 && Long < 21.0) {\n      ZoneNumber = 33;\n    }\n    else if (Long >= 21.0 && Long < 33.0) {\n      ZoneNumber = 35;\n    }\n    else if (Long >= 33.0 && Long < 42.0) {\n      ZoneNumber = 37;\n    }\n  }\n\n  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin\n  // in middle of\n  // zone\n  LongOriginRad = degToRad(LongOrigin);\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));\n  T = Math.tan(LatRad) * Math.tan(LatRad);\n  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);\n  A = Math.cos(LatRad) * (LongRad - LongOriginRad);\n\n  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));\n\n  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);\n\n  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));\n  if (Lat < 0.0) {\n    UTMNorthing += 10000000.0; //10000000 meter offset for\n    // southern hemisphere\n  }\n\n  return {\n    northing: Math.round(UTMNorthing),\n    easting: Math.round(UTMEasting),\n    zoneNumber: ZoneNumber,\n    zoneLetter: getLetterDesignator(Lat)\n  };\n}\n\n/**\n * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience\n * class where the Zone can be specified as a single string eg.\"60N\" which\n * is then broken down into the ZoneNumber and ZoneLetter.\n *\n * @private\n * @param {object} utm An object literal with northing, easting, zoneNumber\n *     and zoneLetter properties. If an optional accuracy property is\n *     provided (in meters), a bounding box will be returned instead of\n *     latitude and longitude.\n * @return {object} An object literal containing either lat and lon values\n *     (if no accuracy was provided), or top, right, bottom and left values\n *     for the bounding box calculated according to the provided accuracy.\n *     Returns null if the conversion failed.\n */\nfunction UTMtoLL(utm) {\n\n  var UTMNorthing = utm.northing;\n  var UTMEasting = utm.easting;\n  var zoneLetter = utm.zoneLetter;\n  var zoneNumber = utm.zoneNumber;\n  // check the ZoneNummber is valid\n  if (zoneNumber < 0 || zoneNumber > 60) {\n    return null;\n  }\n\n  var k0 = 0.9996;\n  var a = 6378137.0; //ellip.radius;\n  var eccSquared = 0.00669438; //ellip.eccsq;\n  var eccPrimeSquared;\n  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));\n  var N1, T1, C1, R1, D, M;\n  var LongOrigin;\n  var mu, phi1Rad;\n\n  // remove 500,000 meter offset for longitude\n  var x = UTMEasting - 500000.0;\n  var y = UTMNorthing;\n\n  // We must know somehow if we are in the Northern or Southern\n  // hemisphere, this is the only time we use the letter So even\n  // if the Zone letter isn't exactly correct it should indicate\n  // the hemisphere correctly\n  if (zoneLetter < 'N') {\n    y -= 10000000.0; // remove 10,000,000 meter offset used\n    // for southern hemisphere\n  }\n\n  // There are 60 zones with zone 1 being at West -180 to -174\n  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin\n  // in middle of\n  // zone\n\n  eccPrimeSquared = (eccSquared) / (1 - eccSquared);\n\n  M = y / k0;\n  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));\n\n  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);\n  // double phi1 = ProjMath.radToDeg(phi1Rad);\n\n  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));\n  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);\n  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);\n  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);\n  D = x / (N1 * k0);\n\n  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);\n  lat = radToDeg(lat);\n\n  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);\n  lon = LongOrigin + radToDeg(lon);\n\n  var result;\n  if (utm.accuracy) {\n    var topRight = UTMtoLL({\n      northing: utm.northing + utm.accuracy,\n      easting: utm.easting + utm.accuracy,\n      zoneLetter: utm.zoneLetter,\n      zoneNumber: utm.zoneNumber\n    });\n    result = {\n      top: topRight.lat,\n      right: topRight.lon,\n      bottom: lat,\n      left: lon\n    };\n  }\n  else {\n    result = {\n      lat: lat,\n      lon: lon\n    };\n  }\n  return result;\n}\n\n/**\n * Calculates the MGRS letter designator for the given latitude.\n *\n * @private\n * @param {number} lat The latitude in WGS84 to get the letter designator\n *     for.\n * @return {char} The letter designator.\n */\nfunction getLetterDesignator(lat) {\n  //This is here as an error flag to show that the Latitude is\n  //outside MGRS limits\n  var LetterDesignator = 'Z';\n\n  if ((84 >= lat) && (lat >= 72)) {\n    LetterDesignator = 'X';\n  }\n  else if ((72 > lat) && (lat >= 64)) {\n    LetterDesignator = 'W';\n  }\n  else if ((64 > lat) && (lat >= 56)) {\n    LetterDesignator = 'V';\n  }\n  else if ((56 > lat) && (lat >= 48)) {\n    LetterDesignator = 'U';\n  }\n  else if ((48 > lat) && (lat >= 40)) {\n    LetterDesignator = 'T';\n  }\n  else if ((40 > lat) && (lat >= 32)) {\n    LetterDesignator = 'S';\n  }\n  else if ((32 > lat) && (lat >= 24)) {\n    LetterDesignator = 'R';\n  }\n  else if ((24 > lat) && (lat >= 16)) {\n    LetterDesignator = 'Q';\n  }\n  else if ((16 > lat) && (lat >= 8)) {\n    LetterDesignator = 'P';\n  }\n  else if ((8 > lat) && (lat >= 0)) {\n    LetterDesignator = 'N';\n  }\n  else if ((0 > lat) && (lat >= -8)) {\n    LetterDesignator = 'M';\n  }\n  else if ((-8 > lat) && (lat >= -16)) {\n    LetterDesignator = 'L';\n  }\n  else if ((-16 > lat) && (lat >= -24)) {\n    LetterDesignator = 'K';\n  }\n  else if ((-24 > lat) && (lat >= -32)) {\n    LetterDesignator = 'J';\n  }\n  else if ((-32 > lat) && (lat >= -40)) {\n    LetterDesignator = 'H';\n  }\n  else if ((-40 > lat) && (lat >= -48)) {\n    LetterDesignator = 'G';\n  }\n  else if ((-48 > lat) && (lat >= -56)) {\n    LetterDesignator = 'F';\n  }\n  else if ((-56 > lat) && (lat >= -64)) {\n    LetterDesignator = 'E';\n  }\n  else if ((-64 > lat) && (lat >= -72)) {\n    LetterDesignator = 'D';\n  }\n  else if ((-72 > lat) && (lat >= -80)) {\n    LetterDesignator = 'C';\n  }\n  return LetterDesignator;\n}\n\n/**\n * Encodes a UTM location as MGRS string.\n *\n * @private\n * @param {object} utm An object literal with easting, northing,\n *     zoneLetter, zoneNumber\n * @param {number} accuracy Accuracy in digits (1-5).\n * @return {string} MGRS string for the given UTM location.\n */\nfunction encode(utm, accuracy) {\n  // prepend with leading zeroes\n  var seasting = \"00000\" + utm.easting,\n    snorthing = \"00000\" + utm.northing;\n\n  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);\n}\n\n/**\n * Get the two letter 100k designator for a given UTM easting,\n * northing and zone number value.\n *\n * @private\n * @param {number} easting\n * @param {number} northing\n * @param {number} zoneNumber\n * @return the two letter 100k designator for the given UTM location.\n */\nfunction get100kID(easting, northing, zoneNumber) {\n  var setParm = get100kSetForZone(zoneNumber);\n  var setColumn = Math.floor(easting / 100000);\n  var setRow = Math.floor(northing / 100000) % 20;\n  return getLetter100kID(setColumn, setRow, setParm);\n}\n\n/**\n * Given a UTM zone number, figure out the MGRS 100K set it is in.\n *\n * @private\n * @param {number} i An UTM zone number.\n * @return {number} the 100k set the UTM zone is in.\n */\nfunction get100kSetForZone(i) {\n  var setParm = i % NUM_100K_SETS;\n  if (setParm === 0) {\n    setParm = NUM_100K_SETS;\n  }\n\n  return setParm;\n}\n\n/**\n * Get the two-letter MGRS 100k designator given information\n * translated from the UTM northing, easting and zone number.\n *\n * @private\n * @param {number} column the column index as it relates to the MGRS\n *        100k set spreadsheet, created from the UTM easting.\n *        Values are 1-8.\n * @param {number} row the row index as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM northing value. Values\n *        are from 0-19.\n * @param {number} parm the set block, as it relates to the MGRS 100k set\n *        spreadsheet, created from the UTM zone. Values are from\n *        1-60.\n * @return two letter MGRS 100k code.\n */\nfunction getLetter100kID(column, row, parm) {\n  // colOrigin and rowOrigin are the letters at the origin of the set\n  var index = parm - 1;\n  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);\n  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);\n\n  // colInt and rowInt are the letters to build to return\n  var colInt = colOrigin + column - 1;\n  var rowInt = rowOrigin + row;\n  var rollover = false;\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n    rollover = true;\n  }\n\n  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {\n    colInt++;\n  }\n\n  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {\n    colInt++;\n\n    if (colInt === I) {\n      colInt++;\n    }\n  }\n\n  if (colInt > Z) {\n    colInt = colInt - Z + A - 1;\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n    rollover = true;\n  }\n  else {\n    rollover = false;\n  }\n\n  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {\n    rowInt++;\n  }\n\n  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {\n    rowInt++;\n\n    if (rowInt === I) {\n      rowInt++;\n    }\n  }\n\n  if (rowInt > V) {\n    rowInt = rowInt - V + A - 1;\n  }\n\n  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);\n  return twoLetter;\n}\n\n/**\n * Decode the UTM parameters from a MGRS string.\n *\n * @private\n * @param {string} mgrsString an UPPERCASE coordinate string is expected.\n * @return {object} An object literal with easting, northing, zoneLetter,\n *     zoneNumber and accuracy (in meters) properties.\n */\nfunction decode(mgrsString) {\n\n  if (mgrsString && mgrsString.length === 0) {\n    throw (\"MGRSPoint coverting from nothing\");\n  }\n\n  var length = mgrsString.length;\n\n  var hunK = null;\n  var sb = \"\";\n  var testChar;\n  var i = 0;\n\n  // get Zone number\n  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {\n    if (i >= 2) {\n      throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n    }\n    sb += testChar;\n    i++;\n  }\n\n  var zoneNumber = parseInt(sb, 10);\n\n  if (i === 0 || i + 3 > length) {\n    // A good MGRS string has to be 4-5 digits long,\n    // ##AAA/#AAA at least.\n    throw (\"MGRSPoint bad conversion from: \" + mgrsString);\n  }\n\n  var zoneLetter = mgrsString.charAt(i++);\n\n  // Should we check the zone letter here? Why not.\n  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {\n    throw (\"MGRSPoint zone letter \" + zoneLetter + \" not handled: \" + mgrsString);\n  }\n\n  hunK = mgrsString.substring(i, i += 2);\n\n  var set = get100kSetForZone(zoneNumber);\n\n  var east100k = getEastingFromChar(hunK.charAt(0), set);\n  var north100k = getNorthingFromChar(hunK.charAt(1), set);\n\n  // We have a bug where the northing may be 2000000 too low.\n  // How\n  // do we know when to roll over?\n\n  while (north100k < getMinNorthing(zoneLetter)) {\n    north100k += 2000000;\n  }\n\n  // calculate the char index for easting/northing separator\n  var remainder = length - i;\n\n  if (remainder % 2 !== 0) {\n    throw (\"MGRSPoint has to have an even number \\nof digits after the zone letter and two 100km letters - front \\nhalf for easting meters, second half for \\nnorthing meters\" + mgrsString);\n  }\n\n  var sep = remainder / 2;\n\n  var sepEasting = 0.0;\n  var sepNorthing = 0.0;\n  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;\n  if (sep > 0) {\n    accuracyBonus = 100000.0 / Math.pow(10, sep);\n    sepEastingString = mgrsString.substring(i, i + sep);\n    sepEasting = parseFloat(sepEastingString) * accuracyBonus;\n    sepNorthingString = mgrsString.substring(i + sep);\n    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;\n  }\n\n  easting = sepEasting + east100k;\n  northing = sepNorthing + north100k;\n\n  return {\n    easting: easting,\n    northing: northing,\n    zoneLetter: zoneLetter,\n    zoneNumber: zoneNumber,\n    accuracy: accuracyBonus\n  };\n}\n\n/**\n * Given the first letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the easting value that\n * should be added to the other, secondary easting value.\n *\n * @private\n * @param {char} e The first letter from a two-letter MGRS 100k zone.\n * @param {number} set The MGRS table set for the zone number.\n * @return {number} The easting value for the given letter and set.\n */\nfunction getEastingFromChar(e, set) {\n  // colOrigin is the letter at the origin of the set for the\n  // column\n  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);\n  var eastingValue = 100000.0;\n  var rewindMarker = false;\n\n  while (curCol !== e.charCodeAt(0)) {\n    curCol++;\n    if (curCol === I) {\n      curCol++;\n    }\n    if (curCol === O) {\n      curCol++;\n    }\n    if (curCol > Z) {\n      if (rewindMarker) {\n        throw (\"Bad character: \" + e);\n      }\n      curCol = A;\n      rewindMarker = true;\n    }\n    eastingValue += 100000.0;\n  }\n\n  return eastingValue;\n}\n\n/**\n * Given the second letter from a two-letter MGRS 100k zone, and given the\n * MGRS table set for the zone number, figure out the northing value that\n * should be added to the other, secondary northing value. You have to\n * remember that Northings are determined from the equator, and the vertical\n * cycle of letters mean a 2000000 additional northing meters. This happens\n * approx. every 18 degrees of latitude. This method does *NOT* count any\n * additional northings. You have to figure out how many 2000000 meters need\n * to be added for the zone letter of the MGRS coordinate.\n *\n * @private\n * @param {char} n Second letter of the MGRS 100k zone\n * @param {number} set The MGRS table set number, which is dependent on the\n *     UTM zone number.\n * @return {number} The northing value for the given letter and set.\n */\nfunction getNorthingFromChar(n, set) {\n\n  if (n > 'V') {\n    throw (\"MGRSPoint given invalid Northing \" + n);\n  }\n\n  // rowOrigin is the letter at the origin of the set for the\n  // column\n  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);\n  var northingValue = 0.0;\n  var rewindMarker = false;\n\n  while (curRow !== n.charCodeAt(0)) {\n    curRow++;\n    if (curRow === I) {\n      curRow++;\n    }\n    if (curRow === O) {\n      curRow++;\n    }\n    // fixing a bug making whole application hang in this loop\n    // when 'n' is a wrong character\n    if (curRow > V) {\n      if (rewindMarker) { // making sure that this loop ends\n        throw (\"Bad character: \" + n);\n      }\n      curRow = A;\n      rewindMarker = true;\n    }\n    northingValue += 100000.0;\n  }\n\n  return northingValue;\n}\n\n/**\n * The function getMinNorthing returns the minimum northing value of a MGRS\n * zone.\n *\n * Ported from Geotrans' c Lattitude_Band_Value structure table.\n *\n * @private\n * @param {char} zoneLetter The MGRS zone to get the min northing for.\n * @return {number}\n */\nfunction getMinNorthing(zoneLetter) {\n  var northing;\n  switch (zoneLetter) {\n  case 'C':\n    northing = 1100000.0;\n    break;\n  case 'D':\n    northing = 2000000.0;\n    break;\n  case 'E':\n    northing = 2800000.0;\n    break;\n  case 'F':\n    northing = 3700000.0;\n    break;\n  case 'G':\n    northing = 4600000.0;\n    break;\n  case 'H':\n    northing = 5500000.0;\n    break;\n  case 'J':\n    northing = 6400000.0;\n    break;\n  case 'K':\n    northing = 7300000.0;\n    break;\n  case 'L':\n    northing = 8200000.0;\n    break;\n  case 'M':\n    northing = 9100000.0;\n    break;\n  case 'N':\n    northing = 0.0;\n    break;\n  case 'P':\n    northing = 800000.0;\n    break;\n  case 'Q':\n    northing = 1700000.0;\n    break;\n  case 'R':\n    northing = 2600000.0;\n    break;\n  case 'S':\n    northing = 3500000.0;\n    break;\n  case 'T':\n    northing = 4400000.0;\n    break;\n  case 'U':\n    northing = 5300000.0;\n    break;\n  case 'V':\n    northing = 6200000.0;\n    break;\n  case 'W':\n    northing = 7000000.0;\n    break;\n  case 'X':\n    northing = 7900000.0;\n    break;\n  default:\n    northing = -1.0;\n  }\n  if (northing >= 0.0) {\n    return northing;\n  }\n  else {\n    throw (\"Invalid zone letter: \" + zoneLetter);\n  }\n\n}\n","import {toPoint, forward} from 'mgrs';\n\nfunction Point(x, y, z) {\n  if (!(this instanceof Point)) {\n    return new Point(x, y, z);\n  }\n  if (Array.isArray(x)) {\n    this.x = x[0];\n    this.y = x[1];\n    this.z = x[2] || 0.0;\n  } else if(typeof x === 'object') {\n    this.x = x.x;\n    this.y = x.y;\n    this.z = x.z || 0.0;\n  } else if (typeof x === 'string' && typeof y === 'undefined') {\n    var coords = x.split(',');\n    this.x = parseFloat(coords[0], 10);\n    this.y = parseFloat(coords[1], 10);\n    this.z = parseFloat(coords[2], 10) || 0.0;\n  } else {\n    this.x = x;\n    this.y = y;\n    this.z = z || 0.0;\n  }\n  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');\n}\n\nPoint.fromMGRS = function(mgrsStr) {\n  return new Point(toPoint(mgrsStr));\n};\nPoint.prototype.toMGRS = function(accuracy) {\n  return forward([this.x, this.y], accuracy);\n};\nexport default Point;\n","var C00 = 1;\nvar C02 = 0.25;\nvar C04 = 0.046875;\nvar C06 = 0.01953125;\nvar C08 = 0.01068115234375;\nvar C22 = 0.75;\nvar C44 = 0.46875;\nvar C46 = 0.01302083333333333333;\nvar C48 = 0.00712076822916666666;\nvar C66 = 0.36458333333333333333;\nvar C68 = 0.00569661458333333333;\nvar C88 = 0.3076171875;\n\nexport default function(es) {\n  var en = [];\n  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));\n  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));\n  var t = es * es;\n  en[2] = t * (C44 - es * (C46 + es * C48));\n  t *= es;\n  en[3] = t * (C66 - es * C68);\n  en[4] = t * es * C88;\n  return en;\n}","export default function(phi, sphi, cphi, en) {\n  cphi *= sphi;\n  sphi *= sphi;\n  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));\n}","import pj_mlfn from \"./pj_mlfn\";\nimport {EPSLN} from '../constants/values';\n\nvar MAX_ITER = 20;\n\nexport default function(arg, es, en) {\n  var k = 1 / (1 - es);\n  var phi = arg;\n  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */\n    var s = Math.sin(phi);\n    var t = 1 - es * s * s;\n    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;\n    //phi -= t * (t * Math.sqrt(t)) * k;\n    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;\n    phi -= t;\n    if (Math.abs(t) < EPSLN) {\n      return phi;\n    }\n  }\n  //..reportError(\"cass:pj_inv_mlfn: Convergence error\");\n  return phi;\n}\n","// Heavily based on this tmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/tmerc.js\n\nimport pj_enfn from '../common/pj_enfn';\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport adjust_lon from '../common/adjust_lon';\n\nimport {EPSLN, HALF_PI} from '../constants/values';\nimport sign from '../common/sign';\n\nexport function init() {\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  if (this.es) {\n    this.en = pj_enfn(this.es);\n    this.ml0 = pj_mlfn(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en);\n  }\n}\n\n/**\n    Transverse Mercator Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var con;\n  var x, y;\n  var sin_phi = Math.sin(lat);\n  var cos_phi = Math.cos(lat);\n\n  if (!this.es) {\n    var b = cos_phi * Math.sin(delta_lon);\n\n    if ((Math.abs(Math.abs(b) - 1)) < EPSLN) {\n      return (93);\n    }\n    else {\n      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b)) + this.x0;\n      y = cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - Math.pow(b, 2));\n      b = Math.abs(y);\n\n      if (b >= 1) {\n        if ((b - 1) > EPSLN) {\n          return (93);\n        }\n        else {\n          y = 0;\n        }\n      }\n      else {\n        y = Math.acos(y);\n      }\n\n      if (lat < 0) {\n        y = -y;\n      }\n\n      y = this.a * this.k0 * (y - this.lat0) + this.y0;\n    }\n  }\n  else {\n    var al = cos_phi * delta_lon;\n    var als = Math.pow(al, 2);\n    var c = this.ep2 * Math.pow(cos_phi, 2);\n    var cs = Math.pow(c, 2);\n    var tq = Math.abs(cos_phi) > EPSLN ? Math.tan(lat) : 0;\n    var t = Math.pow(tq, 2);\n    var ts = Math.pow(t, 2);\n    con = 1 - this.es * Math.pow(sin_phi, 2);\n    al = al / Math.sqrt(con);\n    var ml = pj_mlfn(lat, sin_phi, cos_phi, this.en);\n\n    x = this.a * (this.k0 * al * (1 +\n      als / 6 * (1 - t + c +\n      als / 20 * (5 - 18 * t + ts + 14 * c - 58 * t * c +\n      als / 42 * (61 + 179 * ts - ts * t - 479 * t))))) +\n      this.x0;\n\n    y = this.a * (this.k0 * (ml - this.ml0 +\n      sin_phi * delta_lon * al / 2 * (1 +\n      als / 12 * (5 - t + 9 * c + 4 * cs +\n      als / 30 * (61 + ts - 58 * t + 270 * c - 330 * t * c +\n      als / 56 * (1385 + 543 * ts - ts * t - 3111 * t)))))) +\n      this.y0;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\n/**\n    Transverse Mercator Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var con, phi;\n  var lat, lon;\n  var x = (p.x - this.x0) * (1 / this.a);\n  var y = (p.y - this.y0) * (1 / this.a);\n\n  if (!this.es) {\n    var f = Math.exp(x / this.k0);\n    var g = 0.5 * (f - 1 / f);\n    var temp = this.lat0 + y / this.k0;\n    var h = Math.cos(temp);\n    con = Math.sqrt((1 - Math.pow(h, 2)) / (1 + Math.pow(g, 2)));\n    lat = Math.asin(con);\n\n    if (y < 0) {\n      lat = -lat;\n    }\n\n    if ((g === 0) && (h === 0)) {\n      lon = 0;\n    }\n    else {\n      lon = adjust_lon(Math.atan2(g, h) + this.long0);\n    }\n  }\n  else { // ellipsoidal form\n    con = this.ml0 + y / this.k0;\n    phi = pj_inv_mlfn(con, this.es, this.en);\n\n    if (Math.abs(phi) < HALF_PI) {\n      var sin_phi = Math.sin(phi);\n      var cos_phi = Math.cos(phi);\n      var tan_phi = Math.abs(cos_phi) > EPSLN ? Math.tan(phi) : 0;\n      var c = this.ep2 * Math.pow(cos_phi, 2);\n      var cs = Math.pow(c, 2);\n      var t = Math.pow(tan_phi, 2);\n      var ts = Math.pow(t, 2);\n      con = 1 - this.es * Math.pow(sin_phi, 2);\n      var d = x * Math.sqrt(con) / this.k0;\n      var ds = Math.pow(d, 2);\n      con = con * tan_phi;\n\n      lat = phi - (con * ds / (1 - this.es)) * 0.5 * (1 -\n        ds / 12 * (5 + 3 * t - 9 * c * t + c - 4 * cs -\n        ds / 30 * (61 + 90 * t - 252 * c * t + 45 * ts + 46 * c -\n        ds / 56 * (1385 + 3633 * t + 4095 * ts + 1574 * ts * t))));\n\n      lon = adjust_lon(this.long0 + (d * (1 -\n        ds / 6 * (1 + 2 * t + c -\n        ds / 20 * (5 + 28 * t + 24 * ts + 8 * c * t + 6 * c -\n        ds / 42 * (61 + 662 * t + 1320 * ts + 720 * ts * t)))) / cos_phi));\n    }\n    else {\n      lat = HALF_PI * sign(y);\n      lon = 0;\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Fast_Transverse_Mercator\", \"Fast Transverse Mercator\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r - 1 / r) / 2;\n  return r;\n}","export default function(x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  var a = Math.max(x, y);\n  var b = Math.min(x, y) / (a ? a : 1);\n\n  return a * Math.sqrt(1 + Math.pow(b, 2));\n}\n","import hypot from './hypot';\nimport log1py from './log1py';\n\nexport default function(x) {\n  var y = Math.abs(x);\n  y = log1py(y * (1 + y / (hypot(1, y) + 1)));\n\n  return x < 0 ? -y : y;\n}\n","export default function(x) {\n  var y = 1 + x;\n  var z = y - 1;\n\n  return z === 0 ? x : x * Math.log(y) / z;\n}\n","export default function(pp, B) {\n  var cos_2B = 2 * Math.cos(2 * B);\n  var i = pp.length - 1;\n  var h1 = pp[i];\n  var h2 = 0;\n  var h;\n\n  while (--i >= 0) {\n    h = -h2 + cos_2B * h1 + pp[i];\n    h2 = h1;\n    h1 = h;\n  }\n\n  return (B + h * Math.sin(2 * B));\n}\n","import sinh from './sinh';\nimport cosh from './cosh';\n\nexport default function(pp, arg_r, arg_i) {\n  var sin_arg_r = Math.sin(arg_r);\n  var cos_arg_r = Math.cos(arg_r);\n  var sinh_arg_i = sinh(arg_i);\n  var cosh_arg_i = cosh(arg_i);\n  var r = 2 * cos_arg_r * cosh_arg_i;\n  var i = -2 * sin_arg_r * sinh_arg_i;\n  var j = pp.length - 1;\n  var hr = pp[j];\n  var hi1 = 0;\n  var hr1 = 0;\n  var hi = 0;\n  var hr2;\n  var hi2;\n\n  while (--j >= 0) {\n    hr2 = hr1;\n    hi2 = hi1;\n    hr1 = hr;\n    hi1 = hi;\n    hr = -hr2 + r * hr1 - i * hi1 + pp[j];\n    hi = -hi2 + i * hr1 + r * hi1;\n  }\n\n  r = sin_arg_r * cosh_arg_i;\n  i = cos_arg_r * sinh_arg_i;\n\n  return [r * hr - i * hi, r * hi + i * hr];\n}\n","export default function(x) {\n  var r = Math.exp(x);\n  r = (r + 1 / r) / 2;\n  return r;\n}","// Heavily based on this etmerc projection implementation\n// https://github.com/mbloch/mapshaper-proj/blob/master/src/projections/etmerc.js\n\nimport tmerc from '../projections/tmerc';\nimport sinh from '../common/sinh';\nimport hypot from '../common/hypot';\nimport asinhy from '../common/asinhy';\nimport gatg from '../common/gatg';\nimport clens from '../common/clens';\nimport clens_cmplx from '../common/clens_cmplx';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  if (!this.approx && (isNaN(this.es) || this.es <= 0)) {\n    throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION[\"Fast_Transverse_Mercator\"] in the WKT.');\n  }\n  if (this.approx) {\n    // When '+approx' is set, use tmerc instead\n    tmerc.init.apply(this);\n    this.forward = tmerc.forward;\n    this.inverse = tmerc.inverse;\n  }\n\n  this.x0 = this.x0 !== undefined ? this.x0 : 0;\n  this.y0 = this.y0 !== undefined ? this.y0 : 0;\n  this.long0 = this.long0 !== undefined ? this.long0 : 0;\n  this.lat0 = this.lat0 !== undefined ? this.lat0 : 0;\n\n  this.cgb = [];\n  this.cbg = [];\n  this.utg = [];\n  this.gtu = [];\n\n  var f = this.es / (1 + Math.sqrt(1 - this.es));\n  var n = f / (2 - f);\n  var np = n;\n\n  this.cgb[0] = n * (2 + n * (-2 / 3 + n * (-2 + n * (116 / 45 + n * (26 / 45 + n * (-2854 / 675 ))))));\n  this.cbg[0] = n * (-2 + n * ( 2 / 3 + n * ( 4 / 3 + n * (-82 / 45 + n * (32 / 45 + n * (4642 / 4725))))));\n\n  np = np * n;\n  this.cgb[1] = np * (7 / 3 + n * (-8 / 5 + n * (-227 / 45 + n * (2704 / 315 + n * (2323 / 945)))));\n  this.cbg[1] = np * (5 / 3 + n * (-16 / 15 + n * ( -13 / 9 + n * (904 / 315 + n * (-1522 / 945)))));\n\n  np = np * n;\n  this.cgb[2] = np * (56 / 15 + n * (-136 / 35 + n * (-1262 / 105 + n * (73814 / 2835))));\n  this.cbg[2] = np * (-26 / 15 + n * (34 / 21 + n * (8 / 5 + n * (-12686 / 2835))));\n\n  np = np * n;\n  this.cgb[3] = np * (4279 / 630 + n * (-332 / 35 + n * (-399572 / 14175)));\n  this.cbg[3] = np * (1237 / 630 + n * (-12 / 5 + n * ( -24832 / 14175)));\n\n  np = np * n;\n  this.cgb[4] = np * (4174 / 315 + n * (-144838 / 6237));\n  this.cbg[4] = np * (-734 / 315 + n * (109598 / 31185));\n\n  np = np * n;\n  this.cgb[5] = np * (601676 / 22275);\n  this.cbg[5] = np * (444337 / 155925);\n\n  np = Math.pow(n, 2);\n  this.Qn = this.k0 / (1 + n) * (1 + np * (1 / 4 + np * (1 / 64 + np / 256)));\n\n  this.utg[0] = n * (-0.5 + n * ( 2 / 3 + n * (-37 / 96 + n * ( 1 / 360 + n * (81 / 512 + n * (-96199 / 604800))))));\n  this.gtu[0] = n * (0.5 + n * (-2 / 3 + n * (5 / 16 + n * (41 / 180 + n * (-127 / 288 + n * (7891 / 37800))))));\n\n  this.utg[1] = np * (-1 / 48 + n * (-1 / 15 + n * (437 / 1440 + n * (-46 / 105 + n * (1118711 / 3870720)))));\n  this.gtu[1] = np * (13 / 48 + n * (-3 / 5 + n * (557 / 1440 + n * (281 / 630 + n * (-1983433 / 1935360)))));\n\n  np = np * n;\n  this.utg[2] = np * (-17 / 480 + n * (37 / 840 + n * (209 / 4480 + n * (-5569 / 90720 ))));\n  this.gtu[2] = np * (61 / 240 + n * (-103 / 140 + n * (15061 / 26880 + n * (167603 / 181440))));\n\n  np = np * n;\n  this.utg[3] = np * (-4397 / 161280 + n * (11 / 504 + n * (830251 / 7257600)));\n  this.gtu[3] = np * (49561 / 161280 + n * (-179 / 168 + n * (6601661 / 7257600)));\n\n  np = np * n;\n  this.utg[4] = np * (-4583 / 161280 + n * (108847 / 3991680));\n  this.gtu[4] = np * (34729 / 80640 + n * (-3418889 / 1995840));\n\n  np = np * n;\n  this.utg[5] = np * (-20648693 / 638668800);\n  this.gtu[5] = np * (212378941 / 319334400);\n\n  var Z = gatg(this.cbg, this.lat0);\n  this.Zb = -this.Qn * (Z + clens(this.gtu, 2 * Z));\n}\n\nexport function forward(p) {\n  var Ce = adjust_lon(p.x - this.long0);\n  var Cn = p.y;\n\n  Cn = gatg(this.cbg, Cn);\n  var sin_Cn = Math.sin(Cn);\n  var cos_Cn = Math.cos(Cn);\n  var sin_Ce = Math.sin(Ce);\n  var cos_Ce = Math.cos(Ce);\n\n  Cn = Math.atan2(sin_Cn, cos_Ce * cos_Cn);\n  Ce = Math.atan2(sin_Ce * cos_Cn, hypot(sin_Cn, cos_Cn * cos_Ce));\n  Ce = asinhy(Math.tan(Ce));\n\n  var tmp = clens_cmplx(this.gtu, 2 * Cn, 2 * Ce);\n\n  Cn = Cn + tmp[0];\n  Ce = Ce + tmp[1];\n\n  var x;\n  var y;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    x = this.a * (this.Qn * Ce) + this.x0;\n    y = this.a * (this.Qn * Cn + this.Zb) + this.y0;\n  }\n  else {\n    x = Infinity;\n    y = Infinity;\n  }\n\n  p.x = x;\n  p.y = y;\n\n  return p;\n}\n\nexport function inverse(p) {\n  var Ce = (p.x - this.x0) * (1 / this.a);\n  var Cn = (p.y - this.y0) * (1 / this.a);\n\n  Cn = (Cn - this.Zb) / this.Qn;\n  Ce = Ce / this.Qn;\n\n  var lon;\n  var lat;\n\n  if (Math.abs(Ce) <= 2.623395162778) {\n    var tmp = clens_cmplx(this.utg, 2 * Cn, 2 * Ce);\n\n    Cn = Cn + tmp[0];\n    Ce = Ce + tmp[1];\n    Ce = Math.atan(sinh(Ce));\n\n    var sin_Cn = Math.sin(Cn);\n    var cos_Cn = Math.cos(Cn);\n    var sin_Ce = Math.sin(Ce);\n    var cos_Ce = Math.cos(Ce);\n\n    Cn = Math.atan2(sin_Cn * cos_Ce, hypot(sin_Ce, cos_Ce * cos_Cn));\n    Ce = Math.atan2(sin_Ce, cos_Ce * cos_Cn);\n\n    lon = adjust_lon(Ce + this.long0);\n    lat = gatg(this.cgb, Cn);\n  }\n  else {\n    lon = Infinity;\n    lat = Infinity;\n  }\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"Extended_Transverse_Mercator\", \"Extended Transverse Mercator\", \"etmerc\", \"Transverse_Mercator\", \"Transverse Mercator\", \"Gauss Kruger\", \"Gauss_Kruger\", \"tmerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(pp, arg_r) {\n  var r = 2 * Math.cos(arg_r);\n  var i = pp.length - 1;\n  var hr1 = pp[i];\n  var hr2 = 0;\n  var hr;\n\n  while (--i >= 0) {\n    hr = -hr2 + r * hr1 + pp[i];\n    hr2 = hr1;\n    hr1 = hr;\n  }\n\n  return Math.sin(arg_r) * hr;\n}\n","import adjust_zone from '../common/adjust_zone';\nimport etmerc from './etmerc';\nexport var dependsOn = 'etmerc';\nimport {D2R} from '../constants/values';\n\n\nexport function init() {\n  var zone = adjust_zone(this.zone, this.long0);\n  if (zone === undefined) {\n    throw new Error('unknown utm zone');\n  }\n  this.lat0 = 0;\n  this.long0 =  ((6 * Math.abs(zone)) - 183) * D2R;\n  this.x0 = 500000;\n  this.y0 = this.utmSouth ? 10000000 : 0;\n  this.k0 = 0.9996;\n\n  etmerc.init.apply(this);\n  this.forward = etmerc.forward;\n  this.inverse = etmerc.inverse;\n}\n\nexport var names = [\"Universal Transverse Mercator System\", \"utm\"];\nexport default {\n  init: init,\n  names: names,\n  dependsOn: dependsOn\n};\n","import adjust_lon from './adjust_lon';\n\nexport default function(zone, lon) {\n  if (zone === undefined) {\n    zone = Math.floor((adjust_lon(lon) + Math.PI) * 30 / Math.PI) + 1;\n\n    if (zone < 0) {\n      return 0;\n    } else if (zone > 60) {\n      return 60;\n    }\n  }\n  return zone;\n}\n","export default function(esinp, exp) {\n  return (Math.pow((1 - esinp) / (1 + esinp), exp));\n}","import srat from '../common/srat';\nvar MAX_ITER = 20;\nimport {HALF_PI, FORTPI} from '../constants/values';\n\nexport function init() {\n  var sphi = Math.sin(this.lat0);\n  var cphi = Math.cos(this.lat0);\n  cphi *= cphi;\n  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);\n  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));\n  this.phic0 = Math.asin(sphi / this.C);\n  this.ratexp = 0.5 * this.C * this.e;\n  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n\n  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;\n  p.x = this.C * lon;\n  return p;\n}\n\nexport function inverse(p) {\n  var DEL_TOL = 1e-14;\n  var lon = p.x / this.C;\n  var lat = p.y;\n  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);\n  for (var i = MAX_ITER; i > 0; --i) {\n    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;\n    if (Math.abs(lat - p.y) < DEL_TOL) {\n      break;\n    }\n    p.y = lat;\n  }\n  /* convergence failed */\n  if (!i) {\n    return null;\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gauss\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import gauss from './gauss';\nimport adjust_lon from '../common/adjust_lon';\nimport hypot from '../common/hypot';\n\nexport function init() {\n  gauss.init.apply(this);\n  if (!this.rc) {\n    return;\n  }\n  this.sinc0 = Math.sin(this.phic0);\n  this.cosc0 = Math.cos(this.phic0);\n  this.R2 = 2 * this.rc;\n  if (!this.title) {\n    this.title = \"Oblique Stereographic Alternative\";\n  }\n}\n\nexport function forward(p) {\n  var sinc, cosc, cosl, k;\n  p.x = adjust_lon(p.x - this.long0);\n  gauss.forward.apply(this, [p]);\n  sinc = Math.sin(p.y);\n  cosc = Math.cos(p.y);\n  cosl = Math.cos(p.x);\n  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);\n  p.x = k * cosc * Math.sin(p.x);\n  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);\n  p.x = this.a * p.x + this.x0;\n  p.y = this.a * p.y + this.y0;\n  return p;\n}\n\nexport function inverse(p) {\n  var sinc, cosc, lon, lat, rho;\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n  if ((rho = hypot(p.x, p.y))) {\n    var c = 2 * Math.atan2(rho, this.R2);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);\n    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  gauss.inverse.apply(this, [p]);\n  p.x = adjust_lon(p.x + this.long0);\n  return p;\n}\n\nexport var names = [\"Stereographic_North_Pole\", \"Oblique_Stereographic\", \"sterea\",\"Oblique Stereographic Alternative\",\"Double_Stereographic\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {EPSLN, HALF_PI} from '../constants/values';\n\nimport sign from '../common/sign';\nimport msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport phi2z from '../common/phi2z';\nimport adjust_lon from '../common/adjust_lon';\n\nexport function ssfn_(phit, sinphi, eccen) {\n  sinphi *= eccen;\n  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));\n}\n\nexport function init() {\n\n  // setting default parameters\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n\n  this.coslat0 = Math.cos(this.lat0);\n  this.sinlat0 = Math.sin(this.lat0);\n  if (this.sphere) {\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {\n      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));\n    }\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (this.lat0 > 0) {\n        //North pole\n        //trace('stere:north pole');\n        this.con = 1;\n      }\n      else {\n        //South pole\n        //trace('stere:south pole');\n        this.con = -1;\n      }\n    }\n    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));\n    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN && Math.abs(Math.cos(this.lat_ts)) > EPSLN) {\n      // When k0 is 1 (default value) and lat_ts is a vaild number and lat0 is at a pole and lat_ts is not at a pole\n      // Recalculate k0 using formula 21-35 from p161 of Snyder, 1987\n      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));\n    }\n    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);\n    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;\n    this.cosX0 = Math.cos(this.X0);\n    this.sinX0 = Math.sin(this.X0);\n  }\n}\n\n// Stereographic forward equations--mapping lat,long to x,y\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinlat = Math.sin(lat);\n  var coslat = Math.cos(lat);\n  var A, X, sinX, cosX, ts, rh;\n  var dlon = adjust_lon(lon - this.long0);\n\n  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {\n    //case of the origine point\n    //trace('stere:this is the origin point');\n    p.x = NaN;\n    p.y = NaN;\n    return p;\n  }\n  if (this.sphere) {\n    //trace('stere:sphere case');\n    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));\n    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;\n    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;\n    return p;\n  }\n  else {\n    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;\n    cosX = Math.cos(X);\n    sinX = Math.sin(X);\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);\n      rh = 2 * this.a * this.k0 * ts / this.cons;\n      p.x = this.x0 + rh * Math.sin(lon - this.long0);\n      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);\n      //trace(p.toString());\n      return p;\n    }\n    else if (Math.abs(this.sinlat0) < EPSLN) {\n      //Eq\n      //trace('stere:equateur');\n      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));\n      p.y = A * sinX;\n    }\n    else {\n      //other case\n      //trace('stere:normal case');\n      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));\n      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;\n    }\n    p.x = A * cosX * Math.sin(dlon) + this.x0;\n  }\n  //trace(p.toString());\n  return p;\n}\n\n//* Stereographic inverse equations--mapping x,y to lat/long\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat, ts, ce, Chi;\n  var rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  if (this.sphere) {\n    var c = 2 * Math.atan(rh / (2 * this.a * this.k0));\n    lon = this.long0;\n    lat = this.lat0;\n    if (rh <= EPSLN) {\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);\n    if (Math.abs(this.coslat0) < EPSLN) {\n      if (this.lat0 > 0) {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      }\n      else {\n        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      }\n    }\n    else {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    if (Math.abs(this.coslat0) <= EPSLN) {\n      if (rh <= EPSLN) {\n        lat = this.lat0;\n        lon = this.long0;\n        p.x = lon;\n        p.y = lat;\n        //trace(p.toString());\n        return p;\n      }\n      p.x *= this.con;\n      p.y *= this.con;\n      ts = rh * this.cons / (2 * this.a * this.k0);\n      lat = this.con * phi2z(this.e, ts);\n      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));\n    }\n    else {\n      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));\n      lon = this.long0;\n      if (rh <= EPSLN) {\n        Chi = this.X0;\n      }\n      else {\n        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));\n      }\n      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n\n  //trace(p.toString());\n  return p;\n\n}\n\nexport var names = [\"stere\", \"Stereographic_South_Pole\", \"Polar Stereographic (variant B)\", \"Polar_Stereographic\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  ssfn_: ssfn_\n};\n","/*\n  references:\n    Formules et constantes pour le Calcul pour la\n    projection cylindrique conforme  axe oblique et pour la transformation entre\n    des systmes de rfrence.\n    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf\n  */\n\nexport function init() {\n  var phy0 = this.lat0;\n  this.lambda0 = this.long0;\n  var sinPhy0 = Math.sin(phy0);\n  var semiMajorAxis = this.a;\n  var invF = this.rf;\n  var flattening = 1 / invF;\n  var e2 = 2 * flattening - Math.pow(flattening, 2);\n  var e = this.e = Math.sqrt(e2);\n  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));\n  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));\n  this.b0 = Math.asin(sinPhy0 / this.alpha);\n  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));\n  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));\n  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));\n  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;\n}\n\nexport function forward(p) {\n  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));\n  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));\n  var S = -this.alpha * (Sa1 + Sa2) + this.K;\n\n  // spheric latitude\n  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);\n\n  // spheric longitude\n  var I = this.alpha * (p.x - this.lambda0);\n\n  // psoeudo equatorial rotation\n  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));\n\n  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));\n\n  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;\n  p.x = this.R * rotI + this.x0;\n  return p;\n}\n\nexport function inverse(p) {\n  var Y = p.x - this.x0;\n  var X = p.y - this.y0;\n\n  var rotI = Y / this.R;\n  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);\n\n  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));\n  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));\n\n  var lambda = this.lambda0 + I / this.alpha;\n\n  var S = 0;\n  var phy = b;\n  var prevPhy = -1000;\n  var iteration = 0;\n  while (Math.abs(phy - prevPhy) > 0.0000001) {\n    if (++iteration > 20) {\n      //...reportError(\"omercFwdInfinity\");\n      return;\n    }\n    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));\n    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));\n    prevPhy = phy;\n    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;\n  }\n\n  p.x = lambda;\n  p.y = phy;\n  return p;\n}\n\nexport var names = [\"somerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import tsfnz from '../common/tsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport { D2R, EPSLN, HALF_PI, TWO_PI, FORTPI } from '../constants/values';\n\nvar TOL = 1e-7;\n\nfunction isTypeA(P) {\n  var typeAProjections = ['Hotine_Oblique_Mercator','Hotine_Oblique_Mercator_Azimuth_Natural_Origin'];\n  var projectionName = typeof P.PROJECTION === \"object\" ? Object.keys(P.PROJECTION)[0] : P.PROJECTION;\n  \n  return 'no_uoff' in P || 'no_off' in P || typeAProjections.indexOf(projectionName) !== -1;\n}\n\n\n/* Initialize the Oblique Mercator  projection\n    ------------------------------------------*/\nexport function init() {  \n  var con, com, cosph0, D, F, H, L, sinph0, p, J, gamma = 0,\n    gamma0, lamc = 0, lam1 = 0, lam2 = 0, phi1 = 0, phi2 = 0, alpha_c = 0, AB;\n  \n  // only Type A uses the no_off or no_uoff property\n  // https://github.com/OSGeo/proj.4/issues/104\n  this.no_off = isTypeA(this);\n  this.no_rot = 'no_rot' in this;\n  \n  var alp = false;\n  if (\"alpha\" in this) {\n    alp = true;\n  }\n\n  var gam = false;\n  if (\"rectified_grid_angle\" in this) {\n    gam = true;\n  }\n\n  if (alp) {\n    alpha_c = this.alpha;\n  }\n  \n  if (gam) {\n    gamma = (this.rectified_grid_angle * D2R);\n  }\n  \n  if (alp || gam) {\n    lamc = this.longc;\n  } else {\n    lam1 = this.long1;\n    phi1 = this.lat1;\n    lam2 = this.long2;\n    phi2 = this.lat2;\n    \n    if (Math.abs(phi1 - phi2) <= TOL || (con = Math.abs(phi1)) <= TOL ||\n        Math.abs(con - HALF_PI) <= TOL || Math.abs(Math.abs(this.lat0) - HALF_PI) <= TOL ||\n        Math.abs(Math.abs(phi2) - HALF_PI) <= TOL) {\n      throw new Error();\n    }\n  }\n  \n  var one_es = 1.0 - this.es;\n  com = Math.sqrt(one_es);\n  \n  if (Math.abs(this.lat0) > EPSLN) {\n    sinph0 = Math.sin(this.lat0);\n    cosph0 = Math.cos(this.lat0);\n    con = 1 - this.es * sinph0 * sinph0;\n    this.B = cosph0 * cosph0;\n    this.B = Math.sqrt(1 + this.es * this.B * this.B / one_es);\n    this.A = this.B * this.k0 * com / con;\n    D = this.B * com / (cosph0 * Math.sqrt(con));\n    F = D * D -1;\n    \n    if (F <= 0) {\n      F = 0;\n    } else {\n      F = Math.sqrt(F);\n      if (this.lat0 < 0) {\n        F = -F;\n      }\n    }\n    \n    this.E = F += D;\n    this.E *= Math.pow(tsfnz(this.e, this.lat0, sinph0), this.B);\n  } else {\n    this.B = 1 / com;\n    this.A = this.k0;\n    this.E = D = F = 1;\n  }\n  \n  if (alp || gam) {\n    if (alp) {\n      gamma0 = Math.asin(Math.sin(alpha_c) / D);\n      if (!gam) {\n        gamma = alpha_c;\n      }\n    } else {\n      gamma0 = gamma;\n      alpha_c = Math.asin(D * Math.sin(gamma0));\n    }\n    this.lam0 = lamc - Math.asin(0.5 * (F - 1 / F) * Math.tan(gamma0)) / this.B;\n  } else {\n    H = Math.pow(tsfnz(this.e, phi1, Math.sin(phi1)), this.B);\n    L = Math.pow(tsfnz(this.e, phi2, Math.sin(phi2)), this.B);\n    F = this.E / H;\n    p = (L - H) / (L + H);\n    J = this.E * this.E;\n    J = (J - L * H) / (J + L * H);\n    con = lam1 - lam2;\n    \n    if (con < -Math.pi) {\n      lam2 -=TWO_PI;\n    } else if (con > Math.pi) {\n      lam2 += TWO_PI;\n    }\n    \n    this.lam0 = adjust_lon(0.5 * (lam1 + lam2) - Math.atan(J * Math.tan(0.5 * this.B * (lam1 - lam2)) / p) / this.B);\n    gamma0 = Math.atan(2 * Math.sin(this.B * adjust_lon(lam1 - this.lam0)) / (F - 1 / F));\n    gamma = alpha_c = Math.asin(D * Math.sin(gamma0));\n  }\n  \n  this.singam = Math.sin(gamma0);\n  this.cosgam = Math.cos(gamma0);\n  this.sinrot = Math.sin(gamma);\n  this.cosrot = Math.cos(gamma);\n  \n  this.rB = 1 / this.B;\n  this.ArB = this.A * this.rB;\n  this.BrA = 1 / this.ArB;\n  AB = this.A * this.B;\n  \n  if (this.no_off) {\n    this.u_0 = 0;\n  } else {\n    this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(D * D - 1) / Math.cos(alpha_c)));\n    \n    if (this.lat0 < 0) {\n      this.u_0 = - this.u_0;\n    }  \n  }\n    \n  F = 0.5 * gamma0;\n  this.v_pole_n = this.ArB * Math.log(Math.tan(FORTPI - F));\n  this.v_pole_s = this.ArB * Math.log(Math.tan(FORTPI + F));\n}\n\n\n/* Oblique Mercator forward equations--mapping lat,long to x,y\n    ----------------------------------------------------------*/\nexport function forward(p) {\n  var coords = {};\n  var S, T, U, V, W, temp, u, v;\n  p.x = p.x - this.lam0;\n  \n  if (Math.abs(Math.abs(p.y) - HALF_PI) > EPSLN) {\n    W = this.E / Math.pow(tsfnz(this.e, p.y, Math.sin(p.y)), this.B);\n    \n    temp = 1 / W;\n    S = 0.5 * (W - temp);\n    T = 0.5 * (W + temp);\n    V = Math.sin(this.B * p.x);\n    U = (S * this.singam - V * this.cosgam) / T;\n        \n    if (Math.abs(Math.abs(U) - 1.0) < EPSLN) {\n      throw new Error();\n    }\n    \n    v = 0.5 * this.ArB * Math.log((1 - U)/(1 + U));\n    temp = Math.cos(this.B * p.x);\n    \n    if (Math.abs(temp) < TOL) {\n      u = this.A * p.x;\n    } else {\n      u = this.ArB * Math.atan2((S * this.cosgam + V * this.singam), temp);\n    }    \n  } else {\n    v = p.y > 0 ? this.v_pole_n : this.v_pole_s;\n    u = this.ArB * p.y;\n  }\n     \n  if (this.no_rot) {\n    coords.x = u;\n    coords.y = v;\n  } else {\n    u -= this.u_0;\n    coords.x = v * this.cosrot + u * this.sinrot;\n    coords.y = u * this.cosrot - v * this.sinrot;\n  }\n  \n  coords.x = (this.a * coords.x + this.x0);\n  coords.y = (this.a * coords.y + this.y0);\n  \n  return coords;\n}\n\nexport function inverse(p) {\n  var u, v, Qp, Sp, Tp, Vp, Up;\n  var coords = {};\n  \n  p.x = (p.x - this.x0) * (1.0 / this.a);\n  p.y = (p.y - this.y0) * (1.0 / this.a);\n\n  if (this.no_rot) {\n    v = p.y;\n    u = p.x;\n  } else {\n    v = p.x * this.cosrot - p.y * this.sinrot;\n    u = p.y * this.cosrot + p.x * this.sinrot + this.u_0;\n  }\n  \n  Qp = Math.exp(-this.BrA * v);\n  Sp = 0.5 * (Qp - 1 / Qp);\n  Tp = 0.5 * (Qp + 1 / Qp);\n  Vp = Math.sin(this.BrA * u);\n  Up = (Vp * this.cosgam + Sp * this.singam) / Tp;\n  \n  if (Math.abs(Math.abs(Up) - 1) < EPSLN) {\n    coords.x = 0;\n    coords.y = Up < 0 ? -HALF_PI : HALF_PI;\n  } else {\n    coords.y = this.E / Math.sqrt((1 + Up) / (1 - Up));\n    coords.y = phi2z(this.e, Math.pow(coords.y, 1 / this.B));\n    \n    if (coords.y === Infinity) {\n      throw new Error();\n    }\n        \n    coords.x = -this.rB * Math.atan2((Sp * this.cosgam - Vp * this.singam), Math.cos(this.BrA * u));\n  }\n  \n  coords.x += this.lam0;\n  \n  return coords;\n}\n\nexport var names = [\"Hotine_Oblique_Mercator\", \"Hotine Oblique Mercator\", \"Hotine_Oblique_Mercator_Azimuth_Natural_Origin\", \"Hotine_Oblique_Mercator_Two_Point_Natural_Origin\", \"Hotine_Oblique_Mercator_Azimuth_Center\", \"Oblique_Mercator\", \"omerc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import msfnz from '../common/msfnz';\nimport tsfnz from '../common/tsfnz';\nimport sign from '../common/sign';\nimport adjust_lon from '../common/adjust_lon';\nimport phi2z from '../common/phi2z';\nimport {HALF_PI, EPSLN} from '../constants/values';\nexport function init() {\n  \n  //double lat0;                    /* the reference latitude               */\n  //double long0;                   /* the reference longitude              */\n  //double lat1;                    /* first standard parallel              */\n  //double lat2;                    /* second standard parallel             */\n  //double r_maj;                   /* major axis                           */\n  //double r_min;                   /* minor axis                           */\n  //double false_east;              /* x offset in meters                   */\n  //double false_north;             /* y offset in meters                   */\n  \n  //the above value can be set with proj4.defs\n  //example: proj4.defs(\"EPSG:2154\",\"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n\n  if (!this.lat2) {\n    this.lat2 = this.lat1;\n  } //if lat2 is not defined\n  if (!this.k0) {\n    this.k0 = 1;\n  }\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n\n  var temp = this.b / this.a;\n  this.e = Math.sqrt(1 - temp * temp);\n\n  var sin1 = Math.sin(this.lat1);\n  var cos1 = Math.cos(this.lat1);\n  var ms1 = msfnz(this.e, sin1, cos1);\n  var ts1 = tsfnz(this.e, this.lat1, sin1);\n\n  var sin2 = Math.sin(this.lat2);\n  var cos2 = Math.cos(this.lat2);\n  var ms2 = msfnz(this.e, sin2, cos2);\n  var ts2 = tsfnz(this.e, this.lat2, sin2);\n\n  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);\n  }\n  else {\n    this.ns = sin1;\n  }\n  if (isNaN(this.ns)) {\n    this.ns = sin1;\n  }\n  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));\n  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);\n  if (!this.title) {\n    this.title = \"Lambert Conformal Conic\";\n  }\n}\n\n// Lambert Conformal conic forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  // singular cases :\n  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {\n    lat = sign(lat) * (HALF_PI - 2 * EPSLN);\n  }\n\n  var con = Math.abs(Math.abs(lat) - HALF_PI);\n  var ts, rh1;\n  if (con > EPSLN) {\n    ts = tsfnz(this.e, lat, Math.sin(lat));\n    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);\n  }\n  else {\n    con = lat * this.ns;\n    if (con <= 0) {\n      return null;\n    }\n    rh1 = 0;\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;\n  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;\n\n  return p;\n}\n\n// Lambert Conformal Conic inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var rh1, con, ts;\n  var lat, lon;\n  var x = (p.x - this.x0) / this.k0;\n  var y = (this.rh - (p.y - this.y0) / this.k0);\n  if (this.ns > 0) {\n    rh1 = Math.sqrt(x * x + y * y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(x * x + y * y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2((con * x), (con * y));\n  }\n  if ((rh1 !== 0) || (this.ns > 0)) {\n    con = 1 / this.ns;\n    ts = Math.pow((rh1 / (this.a * this.f0)), con);\n    lat = phi2z(this.e, ts);\n    if (lat === -9999) {\n      return null;\n    }\n  }\n  else {\n    lat = -HALF_PI;\n  }\n  lon = adjust_lon(theta / this.ns + this.long0);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\n  \"Lambert Tangential Conformal Conic Projection\",\n  \"Lambert_Conformal_Conic\",\n  \"Lambert_Conformal_Conic_1SP\",\n  \"Lambert_Conformal_Conic_2SP\",\n  \"lcc\",\n  \"Lambert Conic Conformal (1SP)\",\n  \"Lambert Conic Conformal (2SP)\"\n];\n\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nexport function init() {\n  this.a = 6377397.155;\n  this.es = 0.006674372230614;\n  this.e = Math.sqrt(this.es);\n  if (!this.lat0) {\n    this.lat0 = 0.863937979737193;\n  }\n  if (!this.long0) {\n    this.long0 = 0.7417649320975901 - 0.308341501185665;\n  }\n  /* if scale not set default to 0.9999 */\n  if (!this.k0) {\n    this.k0 = 0.9999;\n  }\n  this.s45 = 0.785398163397448; /* 45 */\n  this.s90 = 2 * this.s45;\n  this.fi0 = this.lat0;\n  this.e2 = this.es;\n  this.e = Math.sqrt(this.e2);\n  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));\n  this.uq = 1.04216856380474;\n  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);\n  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);\n  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;\n  this.k1 = this.k0;\n  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));\n  this.s0 = 1.37008346281555;\n  this.n = Math.sin(this.s0);\n  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);\n  this.ad = this.s90 - this.uq;\n}\n\n/* ellipsoid */\n/* calculate xy from lat/lon */\n/* Constants, identical to inverse transform function */\nexport function forward(p) {\n  var gfi, u, deltav, s, d, eps, ro;\n  var lon = p.x;\n  var lat = p.y;\n  var delta_lon = adjust_lon(lon - this.long0);\n  /* Transformation */\n  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));\n  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);\n  deltav = -delta_lon * this.alfa;\n  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));\n  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));\n  eps = this.n * d;\n  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);\n  p.y = ro * Math.cos(eps) / 1;\n  p.x = ro * Math.sin(eps) / 1;\n\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  return (p);\n}\n\n/* calculate lat/lon from xy */\nexport function inverse(p) {\n  var u, deltav, s, d, eps, ro, fi1;\n  var ok;\n\n  /* Transformation */\n  /* revert y, x*/\n  var tmp = p.x;\n  p.x = p.y;\n  p.y = tmp;\n  if (!this.czech) {\n    p.y *= -1;\n    p.x *= -1;\n  }\n  ro = Math.sqrt(p.x * p.x + p.y * p.y);\n  eps = Math.atan2(p.y, p.x);\n  d = eps / Math.sin(this.s0);\n  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);\n  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));\n  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));\n  p.x = this.long0 - deltav / this.alfa;\n  fi1 = u;\n  ok = 0;\n  var iter = 0;\n  do {\n    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);\n    if (Math.abs(fi1 - p.y) < 0.0000000001) {\n      ok = 1;\n    }\n    fi1 = p.y;\n    iter += 1;\n  } while (ok === 0 && iter < 15);\n  if (iter >= 15) {\n    return null;\n  }\n\n  return (p);\n}\n\nexport var names = [\"Krovak\", \"krovak\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(e0, e1, e2, e3, phi) {\n  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));\n}","export default function(x) {\n  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));\n}","export default function(x) {\n  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));\n}","export default function(x) {\n  return (0.05859375 * x * x * (1 + 0.75 * x));\n}","export default function(x) {\n  return (x * x * x * (35 / 3072));\n}","export default function(a, e, sinphi) {\n  var temp = e * sinphi;\n  return a / Math.sqrt(1 - temp * temp);\n}","import {HALF_PI} from '../constants/values';\nimport sign from './sign';\n\nexport default function(x) {\n  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));\n}\n","export default function(ml, e0, e1, e2, e3) {\n  var phi;\n  var dphi;\n\n  phi = ml / e0;\n  for (var i = 0; i < 15; i++) {\n    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //..reportError(\"IMLFN-CONV:Latitude failed to converge after 15 iterations\");\n  return NaN;\n}","import mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nexport function init() {\n  if (!this.sphere) {\n    this.e0 = e0fn(this.es);\n    this.e1 = e1fn(this.es);\n    this.e2 = e2fn(this.es);\n    this.e3 = e3fn(this.es);\n    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  }\n}\n\n/* Cassini forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y;\n  var lam = p.x;\n  var phi = p.y;\n  lam = adjust_lon(lam - this.long0);\n\n  if (this.sphere) {\n    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));\n    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);\n  }\n  else {\n    //ellipsoid\n    var sinphi = Math.sin(phi);\n    var cosphi = Math.cos(phi);\n    var nl = gN(this.a, this.e, sinphi);\n    var tl = Math.tan(phi) * Math.tan(phi);\n    var al = lam * Math.cos(phi);\n    var asq = al * al;\n    var cl = this.es * cosphi * cosphi / (1 - this.es);\n    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n\n    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));\n    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);\n\n\n  }\n\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var phi, lam;\n\n  if (this.sphere) {\n    var dd = y + this.lat0;\n    phi = Math.asin(Math.sin(dd) * Math.cos(x));\n    lam = Math.atan2(Math.tan(x), Math.cos(dd));\n  }\n  else {\n    /* ellipsoid */\n    var ml1 = this.ml0 / this.a + y;\n    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);\n    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {\n      p.x = this.long0;\n      p.y = HALF_PI;\n      if (y < 0) {\n        p.y *= -1;\n      }\n      return p;\n    }\n    var nl1 = gN(this.a, this.e, Math.sin(phi1));\n\n    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);\n    var tl1 = Math.pow(Math.tan(phi1), 2);\n    var dl = x * this.a / nl1;\n    var dsq = dl * dl;\n    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);\n    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);\n\n  }\n\n  p.x = adjust_lon(lam + this.long0);\n  p.y = adjust_lat(phi);\n  return p;\n\n}\n\nexport var names = [\"Cassini\", \"Cassini_Soldner\", \"cass\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","export default function(eccent, sinphi) {\n  var con;\n  if (eccent > 1.0e-7) {\n    con = eccent * sinphi;\n    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));\n  }\n  else {\n    return (2 * sinphi);\n  }\n}","\nimport {HALF_PI, EPSLN, FORTPI} from '../constants/values';\n\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\nexport var S_POLE = 1;\n\nexport var N_POLE = 2;\nexport var EQUIT = 3;\nexport var OBLIQ = 4;\n\n/* Initialize the Lambert Azimuthal Equal Area projection\n  ------------------------------------------------------*/\nexport function init() {\n  var t = Math.abs(this.lat0);\n  if (Math.abs(t - HALF_PI) < EPSLN) {\n    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;\n  }\n  else if (Math.abs(t) < EPSLN) {\n    this.mode = this.EQUIT;\n  }\n  else {\n    this.mode = this.OBLIQ;\n  }\n  if (this.es > 0) {\n    var sinphi;\n\n    this.qp = qsfnz(this.e, 1);\n    this.mmf = 0.5 / (1 - this.es);\n    this.apa = authset(this.es);\n    switch (this.mode) {\n    case this.N_POLE:\n      this.dd = 1;\n      break;\n    case this.S_POLE:\n      this.dd = 1;\n      break;\n    case this.EQUIT:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      this.dd = 1 / this.rq;\n      this.xmf = 1;\n      this.ymf = 0.5 * this.qp;\n      break;\n    case this.OBLIQ:\n      this.rq = Math.sqrt(0.5 * this.qp);\n      sinphi = Math.sin(this.lat0);\n      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;\n      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);\n      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);\n      this.ymf = (this.xmf = this.rq) / this.dd;\n      this.xmf *= this.dd;\n      break;\n    }\n  }\n  else {\n    if (this.mode === this.OBLIQ) {\n      this.sinph0 = Math.sin(this.lat0);\n      this.cosph0 = Math.cos(this.lat0);\n    }\n  }\n}\n\n/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;\n  var lam = p.x;\n  var phi = p.y;\n\n  lam = adjust_lon(lam - this.long0);\n  if (this.sphere) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    coslam = Math.cos(lam);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      if (y <= EPSLN) {\n        return null;\n      }\n      y = Math.sqrt(2 / y);\n      x = y * cosphi * Math.sin(lam);\n      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        coslam = -coslam;\n      }\n      if (Math.abs(phi + this.lat0) < EPSLN) {\n        return null;\n      }\n      y = FORTPI - phi * 0.5;\n      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));\n      x = y * Math.sin(lam);\n      y *= coslam;\n    }\n  }\n  else {\n    sinb = 0;\n    cosb = 0;\n    b = 0;\n    coslam = Math.cos(lam);\n    sinlam = Math.sin(lam);\n    sinphi = Math.sin(phi);\n    q = qsfnz(this.e, sinphi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinb = q / this.qp;\n      cosb = Math.sqrt(1 - sinb * sinb);\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;\n      break;\n    case this.EQUIT:\n      b = 1 + cosb * coslam;\n      break;\n    case this.N_POLE:\n      b = HALF_PI + phi;\n      q = this.qp - q;\n      break;\n    case this.S_POLE:\n      b = phi - HALF_PI;\n      q = this.qp + q;\n      break;\n    }\n    if (Math.abs(b) < EPSLN) {\n      return null;\n    }\n    switch (this.mode) {\n    case this.OBLIQ:\n    case this.EQUIT:\n      b = Math.sqrt(2 / b);\n      if (this.mode === this.OBLIQ) {\n        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);\n      }\n      else {\n        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;\n      }\n      x = this.xmf * b * cosb * sinlam;\n      break;\n    case this.N_POLE:\n    case this.S_POLE:\n      if (q >= 0) {\n        x = (b = Math.sqrt(q)) * sinlam;\n        y = coslam * ((this.mode === this.S_POLE) ? b : -b);\n      }\n      else {\n        x = y = 0;\n      }\n      break;\n    }\n  }\n\n  p.x = this.a * x + this.x0;\n  p.y = this.a * y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var x = p.x / this.a;\n  var y = p.y / this.a;\n  var lam, phi, cCe, sCe, q, rho, ab;\n  if (this.sphere) {\n    var cosz = 0,\n      rh, sinz = 0;\n\n    rh = Math.sqrt(x * x + y * y);\n    phi = rh * 0.5;\n    if (phi > 1) {\n      return null;\n    }\n    phi = 2 * Math.asin(phi);\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      sinz = Math.sin(phi);\n      cosz = Math.cos(phi);\n    }\n    switch (this.mode) {\n    case this.EQUIT:\n      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);\n      x *= sinz;\n      y = cosz * rh;\n      break;\n    case this.OBLIQ:\n      phi = (Math.abs(rh) <= EPSLN) ? this.lat0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);\n      x *= sinz * this.cosph0;\n      y = (cosz - Math.sin(phi) * this.sinph0) * rh;\n      break;\n    case this.N_POLE:\n      y = -y;\n      phi = HALF_PI - phi;\n      break;\n    case this.S_POLE:\n      phi -= HALF_PI;\n      break;\n    }\n    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);\n  }\n  else {\n    ab = 0;\n    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {\n      x /= this.dd;\n      y *= this.dd;\n      rho = Math.sqrt(x * x + y * y);\n      if (rho < EPSLN) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      sCe = 2 * Math.asin(0.5 * rho / this.rq);\n      cCe = Math.cos(sCe);\n      x *= (sCe = Math.sin(sCe));\n      if (this.mode === this.OBLIQ) {\n        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;\n        q = this.qp * ab;\n        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;\n      }\n      else {\n        ab = y * sCe / rho;\n        q = this.qp * ab;\n        y = rho * cCe;\n      }\n    }\n    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {\n      if (this.mode === this.N_POLE) {\n        y = -y;\n      }\n      q = (x * x + y * y);\n      if (!q) {\n        p.x = this.long0;\n        p.y = this.lat0;\n        return p;\n      }\n      ab = 1 - q / this.qp;\n      if (this.mode === this.S_POLE) {\n        ab = -ab;\n      }\n    }\n    lam = Math.atan2(x, y);\n    phi = authlat(Math.asin(ab), this.apa);\n  }\n\n  p.x = adjust_lon(this.long0 + lam);\n  p.y = phi;\n  return p;\n}\n\n/* determine latitude from authalic latitude */\nvar P00 = 0.33333333333333333333;\n\nvar P01 = 0.17222222222222222222;\nvar P02 = 0.10257936507936507936;\nvar P10 = 0.06388888888888888888;\nvar P11 = 0.06640211640211640211;\nvar P20 = 0.01641501294219154443;\n\nfunction authset(es) {\n  var t;\n  var APA = [];\n  APA[0] = es * P00;\n  t = es * es;\n  APA[0] += t * P01;\n  APA[1] = t * P10;\n  t *= es;\n  APA[0] += t * P02;\n  APA[1] += t * P11;\n  APA[2] = t * P20;\n  return APA;\n}\n\nfunction authlat(beta, APA) {\n  var t = beta + beta;\n  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));\n}\n\nexport var names = [\"Lambert Azimuthal Equal Area\", \"Lambert_Azimuthal_Equal_Area\", \"laea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  S_POLE: S_POLE,\n  N_POLE: N_POLE,\n  EQUIT: EQUIT,\n  OBLIQ: OBLIQ\n};\n","export default function(x) {\n  if (Math.abs(x) > 1) {\n    x = (x > 1) ? 1 : -1;\n  }\n  return Math.asin(x);\n}","import msfnz from '../common/msfnz';\nimport qsfnz from '../common/qsfnz';\nimport adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e3 = Math.sqrt(this.es);\n\n  this.sin_po = Math.sin(this.lat1);\n  this.cos_po = Math.cos(this.lat1);\n  this.t1 = this.sin_po;\n  this.con = this.sin_po;\n  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs1 = qsfnz(this.e3, this.sin_po);\n\n  this.sin_po = Math.sin(this.lat2);\n  this.cos_po = Math.cos(this.lat2);\n  this.t2 = this.sin_po;\n  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);\n  this.qs2 = qsfnz(this.e3, this.sin_po);\n\n  this.sin_po = Math.sin(this.lat0);\n  this.cos_po = Math.cos(this.lat0);\n  this.t3 = this.sin_po;\n  this.qs0 = qsfnz(this.e3, this.sin_po);\n\n  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {\n    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);\n  }\n  else {\n    this.ns0 = this.con;\n  }\n  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;\n  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;\n}\n\n/* Albers Conical Equal Area forward equations--mapping lat,long to x,y\n  -------------------------------------------------------------------*/\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  this.sin_phi = Math.sin(lat);\n  this.cos_phi = Math.cos(lat);\n\n  var qs = qsfnz(this.e3, this.sin_phi);\n  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;\n  var theta = this.ns0 * adjust_lon(lon - this.long0);\n  var x = rh1 * Math.sin(theta) + this.x0;\n  var y = this.rh - rh1 * Math.cos(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh1, qs, con, theta, lon, lat;\n\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  if (this.ns0 >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n  con = rh1 * this.ns0 / this.a;\n  if (this.sphere) {\n    lat = Math.asin((this.c - con * con) / (2 * this.ns0));\n  }\n  else {\n    qs = (this.c - con * con) / this.ns0;\n    lat = this.phi1z(this.e3, qs);\n  }\n\n  lon = adjust_lon(theta / this.ns0 + this.long0);\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\n/* Function to compute phi1, the latitude for the inverse of the\n   Albers Conical Equal-Area projection.\n-------------------------------------------*/\nexport function phi1z(eccent, qs) {\n  var sinphi, cosphi, con, com, dphi;\n  var phi = asinz(0.5 * qs);\n  if (eccent < EPSLN) {\n    return phi;\n  }\n\n  var eccnts = eccent * eccent;\n  for (var i = 1; i <= 25; i++) {\n    sinphi = Math.sin(phi);\n    cosphi = Math.cos(phi);\n    con = eccent * sinphi;\n    com = 1 - con * con;\n    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi = phi + dphi;\n    if (Math.abs(dphi) <= 1e-7) {\n      return phi;\n    }\n  }\n  return null;\n}\n\nexport var names = [\"Albers_Conic_Equal_Area\", \"Albers\", \"aea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names,\n  phi1z: phi1z\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN} from '../constants/values';\n\n/*\n  reference:\n    Wolfram Mathworld \"Gnomonic Projection\"\n    http://mathworld.wolfram.com/GnomonicProjection.html\n    Accessed: 12th November 2009\n  */\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n  // Approximation for projecting points to the horizon (infinity)\n  this.infinity_dist = 1000 * this.a;\n  this.rc = 1;\n}\n\n/* Gnomonic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g;\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;\n  }\n  else {\n\n    // Point is in the opposing hemisphere and is unprojectable\n    // We still need to return a reasonable point, so we project\n    // to infinity, on a bearing\n    // equivalent to the northern hemisphere equivalent\n    // This is a reasonable approximation for short shapes and lines that\n    // straddle the horizon.\n\n    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);\n    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* Rho */\n  var sinc, cosc;\n  var c;\n  var lon, lat;\n\n  /* Inverse equations\n      -----------------*/\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  p.x /= this.k0;\n  p.y /= this.k0;\n\n  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {\n    c = Math.atan2(rh, this.rc);\n    sinc = Math.sin(c);\n    cosc = Math.cos(c);\n\n    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);\n    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);\n    lon = adjust_lon(this.long0 + lon);\n  }\n  else {\n    lat = this.phic0;\n    lon = 0;\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"gnom\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport qsfnz from '../common/qsfnz';\nimport msfnz from '../common/msfnz';\nimport iqsfnz from '../common/iqsfnz';\n\n/*\n  reference:\n    \"Cartographic Projection Procedures for the UNIX Environment-\n    A User's Manual\" by Gerald I. Evenden,\n    USGS Open File Report 90-284and Release 4 Interim Reports (2003)\n*/\nexport function init() {\n  //no-op\n  if (!this.sphere) {\n    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));\n  }\n}\n\n/* Cylindrical Equal Area forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  if (this.sphere) {\n    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);\n    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);\n  }\n  else {\n    var qs = qsfnz(this.e, Math.sin(lat));\n    x = this.x0 + this.a * this.k0 * dlon;\n    y = this.y0 + this.a * qs * 0.5 / this.k0;\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var lon, lat;\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));\n    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));\n  }\n  else {\n    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);\n    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"cea\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {HALF_PI} from '../constants/values';\n\nexport default function(eccent, q) {\n  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));\n  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {\n    if (q < 0) {\n      return (-1 * HALF_PI);\n    }\n    else {\n      return HALF_PI;\n    }\n  }\n  //var phi = 0.5* q/(1-eccent*eccent);\n  var phi = Math.asin(0.5 * q);\n  var dphi;\n  var sin_phi;\n  var cos_phi;\n  var con;\n  for (var i = 0; i < 30; i++) {\n    sin_phi = Math.sin(phi);\n    cos_phi = Math.cos(phi);\n    con = eccent * sin_phi;\n    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));\n    phi += dphi;\n    if (Math.abs(dphi) <= 0.0000000001) {\n      return phi;\n    }\n  }\n\n  //console.log(\"IQSFN-CONV:Latitude failed to converge after 30 iterations\");\n  return NaN;\n}\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Equidistant Cylindrical (Plate Carre)\";\n\n  this.rc = Math.cos(this.lat_ts);\n}\n\n// forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  var dlon = adjust_lon(lon - this.long0);\n  var dlat = adjust_lat(lat - this.lat0);\n  p.x = this.x0 + (this.a * dlon * this.rc);\n  p.y = this.y0 + (this.a * dlat);\n  return p;\n}\n\n// inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n\n  var x = p.x;\n  var y = p.y;\n\n  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));\n  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));\n  return p;\n}\n\nexport var names = [\"Equirectangular\", \"Equidistant_Cylindrical\", \"eqc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport mlfn from '../common/mlfn';\nimport {EPSLN} from '../constants/values';\n\nimport gN from '../common/gN';\nvar MAX_ITER = 20;\n\nexport function init() {\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas\n}\n\n/* Polyconic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var x, y, el;\n  var dlon = adjust_lon(lon - this.long0);\n  el = dlon * Math.sin(lat);\n  if (this.sphere) {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.a * this.lat0;\n    }\n    else {\n      x = this.a * Math.sin(el) / Math.tan(lat);\n      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));\n    }\n  }\n  else {\n    if (Math.abs(lat) <= EPSLN) {\n      x = this.a * dlon;\n      y = -1 * this.ml0;\n    }\n    else {\n      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);\n      x = nl * Math.sin(el);\n      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));\n    }\n\n  }\n  p.x = x + this.x0;\n  p.y = y + this.y0;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  var lon, lat, x, y, i;\n  var al, bl;\n  var phi, dphi;\n  x = p.x - this.x0;\n  y = p.y - this.y0;\n\n  if (this.sphere) {\n    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {\n      lon = adjust_lon(x / this.a + this.long0);\n      lat = 0;\n    }\n    else {\n      al = this.lat0 + y / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var tanphi;\n      for (i = MAX_ITER; i; --i) {\n        tanphi = Math.tan(phi);\n        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);\n        phi += dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));\n    }\n  }\n  else {\n    if (Math.abs(y + this.ml0) <= EPSLN) {\n      lat = 0;\n      lon = adjust_lon(this.long0 + x / this.a);\n    }\n    else {\n\n      al = (this.ml0 + y) / this.a;\n      bl = x * x / this.a / this.a + al * al;\n      phi = al;\n      var cl, mln, mlnp, ma;\n      var con;\n      for (i = MAX_ITER; i; --i) {\n        con = this.e * Math.sin(phi);\n        cl = Math.sqrt(1 - con * con) * Math.tan(phi);\n        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);\n        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);\n        ma = mln / this.a;\n        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);\n        phi -= dphi;\n        if (Math.abs(dphi) <= EPSLN) {\n          lat = phi;\n          break;\n        }\n      }\n\n      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);\n      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);\n      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));\n    }\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Polyconic\", \"poly\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {SEC_TO_RAD} from '../constants/values';\n\n/*\n  reference\n    Department of Land and Survey Technical Circular 1973/32\n      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf\n    OSG Technical Report 4.1\n      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf\n  */\n\n/**\n * iterations: Number of iterations to refine inverse transform.\n *     0 -> km accuracy\n *     1 -> m accuracy -- suitable for most mapping applications\n *     2 -> mm accuracy\n */\nexport var iterations = 1;\n\nexport function init() {\n  this.A = [];\n  this.A[1] = 0.6399175073;\n  this.A[2] = -0.1358797613;\n  this.A[3] = 0.063294409;\n  this.A[4] = -0.02526853;\n  this.A[5] = 0.0117879;\n  this.A[6] = -0.0055161;\n  this.A[7] = 0.0026906;\n  this.A[8] = -0.001333;\n  this.A[9] = 0.00067;\n  this.A[10] = -0.00034;\n\n  this.B_re = [];\n  this.B_im = [];\n  this.B_re[1] = 0.7557853228;\n  this.B_im[1] = 0;\n  this.B_re[2] = 0.249204646;\n  this.B_im[2] = 0.003371507;\n  this.B_re[3] = -0.001541739;\n  this.B_im[3] = 0.041058560;\n  this.B_re[4] = -0.10162907;\n  this.B_im[4] = 0.01727609;\n  this.B_re[5] = -0.26623489;\n  this.B_im[5] = -0.36249218;\n  this.B_re[6] = -0.6870983;\n  this.B_im[6] = -1.1651967;\n\n  this.C_re = [];\n  this.C_im = [];\n  this.C_re[1] = 1.3231270439;\n  this.C_im[1] = 0;\n  this.C_re[2] = -0.577245789;\n  this.C_im[2] = -0.007809598;\n  this.C_re[3] = 0.508307513;\n  this.C_im[3] = -0.112208952;\n  this.C_re[4] = -0.15094762;\n  this.C_im[4] = 0.18200602;\n  this.C_re[5] = 1.01418179;\n  this.C_im[5] = 1.64497696;\n  this.C_re[6] = 1.9660549;\n  this.C_im[6] = 2.5127645;\n\n  this.D = [];\n  this.D[1] = 1.5627014243;\n  this.D[2] = 0.5185406398;\n  this.D[3] = -0.03333098;\n  this.D[4] = -0.1052906;\n  this.D[5] = -0.0368594;\n  this.D[6] = 0.007317;\n  this.D[7] = 0.01220;\n  this.D[8] = 0.00394;\n  this.D[9] = -0.0013;\n}\n\n/**\n    New Zealand Map Grid Forward  - long/lat to x/y\n    long/lat in radians\n  */\nexport function forward(p) {\n  var n;\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lat = lat - this.lat0;\n  var delta_lon = lon - this.long0;\n\n  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda\n  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.\n  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;\n  var d_lambda = delta_lon;\n  var d_phi_n = 1; // d_phi^0\n\n  var d_psi = 0;\n  for (n = 1; n <= 10; n++) {\n    d_phi_n = d_phi_n * d_phi;\n    d_psi = d_psi + this.A[n] * d_phi_n;\n  }\n\n  // 2. Calculate theta\n  var th_re = d_psi;\n  var th_im = d_lambda;\n\n  // 3. Calculate z\n  var th_n_re = 1;\n  var th_n_im = 0; // theta^0\n  var th_n_re1;\n  var th_n_im1;\n\n  var z_re = 0;\n  var z_im = 0;\n  for (n = 1; n <= 6; n++) {\n    th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n    th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n    th_n_re = th_n_re1;\n    th_n_im = th_n_im1;\n    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;\n    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;\n  }\n\n  // 4. Calculate easting and northing\n  p.x = (z_im * this.a) + this.x0;\n  p.y = (z_re * this.a) + this.y0;\n\n  return p;\n}\n\n/**\n    New Zealand Map Grid Inverse  -  x/y to long/lat\n  */\nexport function inverse(p) {\n  var n;\n  var x = p.x;\n  var y = p.y;\n\n  var delta_x = x - this.x0;\n  var delta_y = y - this.y0;\n\n  // 1. Calculate z\n  var z_re = delta_y / this.a;\n  var z_im = delta_x / this.a;\n\n  // 2a. Calculate theta - first approximation gives km accuracy\n  var z_n_re = 1;\n  var z_n_im = 0; // z^0\n  var z_n_re1;\n  var z_n_im1;\n\n  var th_re = 0;\n  var th_im = 0;\n  for (n = 1; n <= 6; n++) {\n    z_n_re1 = z_n_re * z_re - z_n_im * z_im;\n    z_n_im1 = z_n_im * z_re + z_n_re * z_im;\n    z_n_re = z_n_re1;\n    z_n_im = z_n_im1;\n    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;\n    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;\n  }\n\n  // 2b. Iterate to refine the accuracy of the calculation\n  //        0 iterations gives km accuracy\n  //        1 iteration gives m accuracy -- good enough for most mapping applications\n  //        2 iterations bives mm accuracy\n  for (var i = 0; i < this.iterations; i++) {\n    var th_n_re = th_re;\n    var th_n_im = th_im;\n    var th_n_re1;\n    var th_n_im1;\n\n    var num_re = z_re;\n    var num_im = z_im;\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    th_n_re = 1;\n    th_n_im = 0;\n    var den_re = this.B_re[1];\n    var den_im = this.B_im[1];\n    for (n = 2; n <= 6; n++) {\n      th_n_re1 = th_n_re * th_re - th_n_im * th_im;\n      th_n_im1 = th_n_im * th_re + th_n_re * th_im;\n      th_n_re = th_n_re1;\n      th_n_im = th_n_im1;\n      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);\n      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);\n    }\n\n    // Complex division\n    var den2 = den_re * den_re + den_im * den_im;\n    th_re = (num_re * den_re + num_im * den_im) / den2;\n    th_im = (num_im * den_re - num_re * den_im) / den2;\n  }\n\n  // 3. Calculate d_phi              ...                                    // and d_lambda\n  var d_psi = th_re;\n  var d_lambda = th_im;\n  var d_psi_n = 1; // d_psi^0\n\n  var d_phi = 0;\n  for (n = 1; n <= 9; n++) {\n    d_psi_n = d_psi_n * d_psi;\n    d_phi = d_phi + this.D[n] * d_psi_n;\n  }\n\n  // 4. Calculate latitude and longitude\n  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.\n  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);\n  var lon = this.long0 + d_lambda;\n\n  p.x = lon;\n  p.y = lat;\n\n  return p;\n}\n\nexport var names = [\"New_Zealand_Map_Grid\", \"nzmg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\n/*\n  reference\n    \"New Equal-Area Map Projections for Noncircular Regions\", John P. Snyder,\n    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.\n  */\n\n\n/* Initialize the Miller Cylindrical projection\n  -------------------------------------------*/\nexport function init() {\n  //no-op\n}\n\n/* Miller Cylindrical forward equations--mapping lat,long to x,y\n    ------------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x = this.x0 + this.a * dlon;\n  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Miller Cylindrical inverse equations--mapping x,y to lat/long\n    ------------------------------------------------------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n\n  var lon = adjust_lon(this.long0 + p.x / this.a);\n  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Miller_Cylindrical\", \"mill\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport pj_enfn from '../common/pj_enfn';\nvar MAX_ITER = 20;\nimport pj_mlfn from '../common/pj_mlfn';\nimport pj_inv_mlfn from '../common/pj_inv_mlfn';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n\nexport function init() {\n  /* Place parameters in static storage for common use\n    -------------------------------------------------*/\n\n\n  if (!this.sphere) {\n    this.en = pj_enfn(this.es);\n  }\n  else {\n    this.n = 1;\n    this.m = 0;\n    this.es = 0;\n    this.C_y = Math.sqrt((this.m + 1) / this.n);\n    this.C_x = this.C_y / (this.m + 1);\n  }\n\n}\n\n/* Sinusoidal forward equations--mapping lat,long to x,y\n  -----------------------------------------------------*/\nexport function forward(p) {\n  var x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n    -----------------*/\n  lon = adjust_lon(lon - this.long0);\n\n  if (this.sphere) {\n    if (!this.m) {\n      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;\n    }\n    else {\n      var k = this.n * Math.sin(lat);\n      for (var i = MAX_ITER; i; --i) {\n        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));\n        lat -= V;\n        if (Math.abs(V) < EPSLN) {\n          break;\n        }\n      }\n    }\n    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));\n    y = this.a * this.C_y * lat;\n\n  }\n  else {\n\n    var s = Math.sin(lat);\n    var c = Math.cos(lat);\n    y = this.a * pj_mlfn(lat, s, c, this.en);\n    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);\n  }\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var lat, temp, lon, s;\n\n  p.x -= this.x0;\n  lon = p.x / this.a;\n  p.y -= this.y0;\n  lat = p.y / this.a;\n\n  if (this.sphere) {\n    lat /= this.C_y;\n    lon = lon / (this.C_x * (this.m + Math.cos(lat)));\n    if (this.m) {\n      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);\n    }\n    else if (this.n !== 1) {\n      lat = asinz(Math.sin(lat) / this.n);\n    }\n    lon = adjust_lon(lon + this.long0);\n    lat = adjust_lat(lat);\n  }\n  else {\n    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);\n    s = Math.abs(lat);\n    if (s < HALF_PI) {\n      s = Math.sin(lat);\n      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));\n      //temp = this.long0 + p.x / (this.a * Math.cos(lat));\n      lon = adjust_lon(temp);\n    }\n    else if ((s - EPSLN) < HALF_PI) {\n      lon = this.long0;\n    }\n  }\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Sinusoidal\", \"sinu\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nexport function init() {}\nimport {EPSLN} from '../constants/values';\n/* Mollweide forward equations--mapping lat,long to x,y\n    ----------------------------------------------------*/\nexport function forward(p) {\n\n  /* Forward equations\n      -----------------*/\n  var lon = p.x;\n  var lat = p.y;\n\n  var delta_lon = adjust_lon(lon - this.long0);\n  var theta = lat;\n  var con = Math.PI * Math.sin(lat);\n\n  /* Iterate using the Newton-Raphson method to find theta\n      -----------------------------------------------------*/\n  while (true) {\n    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));\n    theta += delta_theta;\n    if (Math.abs(delta_theta) < EPSLN) {\n      break;\n    }\n  }\n  theta /= 2;\n\n  /* If the latitude is 90 deg, force the x coordinate to be \"0 + false easting\"\n       this is done here because of precision problems with \"cos(theta)\"\n       --------------------------------------------------------------------------*/\n  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {\n    delta_lon = 0;\n  }\n  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;\n  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;\n\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var theta;\n  var arg;\n\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  arg = p.y / (1.4142135623731 * this.a);\n\n  /* Because of division by zero problems, 'arg' can not be 1.  Therefore\n       a number very close to one is used instead.\n       -------------------------------------------------------------------*/\n  if (Math.abs(arg) > 0.999999999999) {\n    arg = 0.999999999999;\n  }\n  theta = Math.asin(arg);\n  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));\n  if (lon < (-Math.PI)) {\n    lon = -Math.PI;\n  }\n  if (lon > Math.PI) {\n    lon = Math.PI;\n  }\n  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;\n  if (Math.abs(arg) > 1) {\n    arg = 1;\n  }\n  var lat = Math.asin(arg);\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Mollweide\", \"moll\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport msfnz from '../common/msfnz';\nimport mlfn from '../common/mlfn';\nimport adjust_lon from '../common/adjust_lon';\nimport adjust_lat from '../common/adjust_lat';\nimport imlfn from '../common/imlfn';\nimport {EPSLN} from '../constants/values';\n\nexport function init() {\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  // Standard Parallels cannot be equal and on opposite sides of the equator\n  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {\n    return;\n  }\n  this.lat2 = this.lat2 || this.lat1;\n  this.temp = this.b / this.a;\n  this.es = 1 - Math.pow(this.temp, 2);\n  this.e = Math.sqrt(this.es);\n  this.e0 = e0fn(this.es);\n  this.e1 = e1fn(this.es);\n  this.e2 = e2fn(this.es);\n  this.e3 = e3fn(this.es);\n\n  this.sinphi = Math.sin(this.lat1);\n  this.cosphi = Math.cos(this.lat1);\n\n  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);\n  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);\n\n  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {\n    this.ns = this.sinphi;\n  }\n  else {\n    this.sinphi = Math.sin(this.lat2);\n    this.cosphi = Math.cos(this.lat2);\n    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);\n    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);\n    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);\n  }\n  this.g = this.ml1 + this.ms1 / this.ns;\n  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);\n  this.rh = this.a * (this.g - this.ml0);\n}\n\n/* Equidistant Conic forward equations--mapping lat,long to x,y\n  -----------------------------------------------------------*/\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var rh1;\n\n  /* Forward equations\n      -----------------*/\n  if (this.sphere) {\n    rh1 = this.a * (this.g - lat);\n  }\n  else {\n    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);\n    rh1 = this.a * (this.g - ml);\n  }\n  var theta = this.ns * adjust_lon(lon - this.long0);\n  var x = this.x0 + rh1 * Math.sin(theta);\n  var y = this.y0 + this.rh - rh1 * Math.cos(theta);\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Inverse equations\n  -----------------*/\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y = this.rh - p.y + this.y0;\n  var con, rh1, lat, lon;\n  if (this.ns >= 0) {\n    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);\n    con = 1;\n  }\n  else {\n    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);\n    con = -1;\n  }\n  var theta = 0;\n  if (rh1 !== 0) {\n    theta = Math.atan2(con * p.x, con * p.y);\n  }\n\n  if (this.sphere) {\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    lat = adjust_lat(this.g - rh1 / this.a);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    var ml = this.g - rh1 / this.a;\n    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);\n    lon = adjust_lon(this.long0 + theta / this.ns);\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n\n}\n\nexport var names = [\"Equidistant_Conic\", \"eqdc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\n\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport asinz from '../common/asinz';\n\n/* Initialize the Van Der Grinten projection\n  ----------------------------------------*/\nexport function init() {\n  //this.R = 6370997; //Radius of earth\n  this.R = this.a;\n}\n\nexport function forward(p) {\n\n  var lon = p.x;\n  var lat = p.y;\n\n  /* Forward equations\n    -----------------*/\n  var dlon = adjust_lon(lon - this.long0);\n  var x, y;\n\n  if (Math.abs(lat) <= EPSLN) {\n    x = this.x0 + this.R * dlon;\n    y = this.y0;\n  }\n  var theta = asinz(2 * Math.abs(lat / Math.PI));\n  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {\n    x = this.x0;\n    if (lat >= 0) {\n      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);\n    }\n    else {\n      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);\n    }\n    //  return(OK);\n  }\n  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));\n  var asq = al * al;\n  var sinth = Math.sin(theta);\n  var costh = Math.cos(theta);\n\n  var g = costh / (sinth + costh - 1);\n  var gsq = g * g;\n  var m = g * (2 / sinth - 1);\n  var msq = m * m;\n  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);\n  if (dlon < 0) {\n    con = -con;\n  }\n  x = this.x0 + con;\n  //con = Math.abs(con / (Math.PI * this.R));\n  var q = asq + g;\n  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);\n  if (lat >= 0) {\n    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 + con;\n  }\n  else {\n    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);\n    y = this.y0 - con;\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\n/* Van Der Grinten inverse equations--mapping x,y to lat/long\n  ---------------------------------------------------------*/\nexport function inverse(p) {\n  var lon, lat;\n  var xx, yy, xys, c1, c2, c3;\n  var a1;\n  var m1;\n  var con;\n  var th1;\n  var d;\n\n  /* inverse equations\n    -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  con = Math.PI * this.R;\n  xx = p.x / con;\n  yy = p.y / con;\n  xys = xx * xx + yy * yy;\n  c1 = -Math.abs(yy) * (1 + xys);\n  c2 = c1 - 2 * yy * yy + xx * xx;\n  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;\n  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;\n  a1 = (c1 - c2 * c2 / 3 / c3) / c3;\n  m1 = 2 * Math.sqrt(-a1 / 3);\n  con = ((3 * d) / a1) / m1;\n  if (Math.abs(con) > 1) {\n    if (con >= 0) {\n      con = 1;\n    }\n    else {\n      con = -1;\n    }\n  }\n  th1 = Math.acos(con) / 3;\n  if (p.y >= 0) {\n    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n  else {\n    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;\n  }\n\n  if (Math.abs(xx) < EPSLN) {\n    lon = this.long0;\n  }\n  else {\n    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);\n  }\n\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"Van_der_Grinten_I\", \"VanDerGrinten\", \"vandg\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport {HALF_PI, EPSLN} from '../constants/values';\n\nimport mlfn from '../common/mlfn';\nimport e0fn from '../common/e0fn';\nimport e1fn from '../common/e1fn';\nimport e2fn from '../common/e2fn';\nimport e3fn from '../common/e3fn';\nimport gN from '../common/gN';\nimport asinz from '../common/asinz';\nimport imlfn from '../common/imlfn';\n\n\n\nexport function init() {\n  this.sin_p12 = Math.sin(this.lat0);\n  this.cos_p12 = Math.cos(this.lat0);\n}\n\nexport function forward(p) {\n  var lon = p.x;\n  var lat = p.y;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var dlon = adjust_lon(lon - this.long0);\n  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;\n  if (this.sphere) {\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);\n      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);\n      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //default case\n      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);\n      c = Math.acos(cos_c);\n      kp = c ? c / Math.sin(c) : 1;\n      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);\n      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));\n      return p;\n    }\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);\n      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South Pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      Ml = this.a * mlfn(e0, e1, e2, e3, lat);\n      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);\n      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);\n      return p;\n    }\n    else {\n      //Default case\n      tanphi = sinphi / cosphi;\n      Nl1 = gN(this.a, this.e, this.sin_p12);\n      Nl = gN(this.a, this.e, sinphi);\n      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));\n      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));\n      if (Az === 0) {\n        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {\n        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));\n      }\n      else {\n        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));\n      }\n      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);\n      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);\n      GH = G * H;\n      Hs = H * H;\n      s2 = s * s;\n      s3 = s2 * s;\n      s4 = s3 * s;\n      s5 = s4 * s;\n      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);\n      p.x = this.x0 + c * Math.sin(Az);\n      p.y = this.y0 + c * Math.cos(Az);\n      return p;\n    }\n  }\n\n\n}\n\nexport function inverse(p) {\n  p.x -= this.x0;\n  p.y -= this.y0;\n  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F, sinpsi;\n  if (this.sphere) {\n    rh = Math.sqrt(p.x * p.x + p.y * p.y);\n    if (rh > (2 * HALF_PI * this.a)) {\n      return;\n    }\n    z = rh / this.a;\n\n    sinz = Math.sin(z);\n    cosz = Math.cos(z);\n\n    lon = this.long0;\n    if (Math.abs(rh) <= EPSLN) {\n      lat = this.lat0;\n    }\n    else {\n      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);\n      con = Math.abs(this.lat0) - HALF_PI;\n      if (Math.abs(con) <= EPSLN) {\n        if (this.lat0 >= 0) {\n          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n        }\n        else {\n          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n        }\n      }\n      else {\n        /*con = cosz - this.sin_p12 * Math.sin(lat);\n        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {\n          //no-op, just keep the lon value as is\n        } else {\n          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));\n          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));\n        }*/\n        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));\n      }\n    }\n\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  else {\n    e0 = e0fn(this.es);\n    e1 = e1fn(this.es);\n    e2 = e2fn(this.es);\n    e3 = e3fn(this.es);\n    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {\n      //North pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = Mlp - rh;\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {\n      //South pole case\n      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      M = rh - Mlp;\n\n      lat = imlfn(M / this.a, e0, e1, e2, e3);\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n    else {\n      //default case\n      rh = Math.sqrt(p.x * p.x + p.y * p.y);\n      Az = Math.atan2(p.x, p.y);\n      N1 = gN(this.a, this.e, this.sin_p12);\n      cosAz = Math.cos(Az);\n      tmp = this.e * this.cos_p12 * cosAz;\n      A = -tmp * tmp / (1 - this.es);\n      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);\n      D = rh / N1;\n      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;\n      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;\n      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);\n      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));\n      sinpsi = Math.sin(psi);\n      lat = Math.atan2((sinpsi - this.es * F * this.sin_p12) * Math.tan(psi), sinpsi * (1 - this.es));\n      p.x = lon;\n      p.y = lat;\n      return p;\n    }\n  }\n\n}\n\nexport var names = [\"Azimuthal_Equidistant\", \"aeqd\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import adjust_lon from '../common/adjust_lon';\nimport asinz from '../common/asinz';\nimport {EPSLN, HALF_PI} from '../constants/values';\n\nexport function init() {\n  //double temp;      /* temporary variable    */\n\n  /* Place parameters in static storage for common use\n      -------------------------------------------------*/\n  this.sin_p14 = Math.sin(this.lat0);\n  this.cos_p14 = Math.cos(this.lat0);\n}\n\n/* Orthographic forward equations--mapping lat,long to x,y\n    ---------------------------------------------------*/\nexport function forward(p) {\n  var sinphi, cosphi; /* sin and cos value        */\n  var dlon; /* delta longitude value      */\n  var coslon; /* cos of longitude        */\n  var ksp; /* scale factor          */\n  var g, x, y;\n  var lon = p.x;\n  var lat = p.y;\n  /* Forward equations\n      -----------------*/\n  dlon = adjust_lon(lon - this.long0);\n\n  sinphi = Math.sin(lat);\n  cosphi = Math.cos(lat);\n\n  coslon = Math.cos(dlon);\n  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;\n  ksp = 1;\n  if ((g > 0) || (Math.abs(g) <= EPSLN)) {\n    x = this.a * ksp * cosphi * Math.sin(dlon);\n    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);\n  }\n  p.x = x;\n  p.y = y;\n  return p;\n}\n\nexport function inverse(p) {\n  var rh; /* height above ellipsoid      */\n  var z; /* angle          */\n  var sinz, cosz; /* sin of z and cos of z      */\n  var con;\n  var lon, lat;\n  /* Inverse equations\n      -----------------*/\n  p.x -= this.x0;\n  p.y -= this.y0;\n  rh = Math.sqrt(p.x * p.x + p.y * p.y);\n  z = asinz(rh / this.a);\n\n  sinz = Math.sin(z);\n  cosz = Math.cos(z);\n\n  lon = this.long0;\n  if (Math.abs(rh) <= EPSLN) {\n    lat = this.lat0;\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lat = asinz(cosz * this.sin_p14 + (p.y * sinz * this.cos_p14) / rh);\n  con = Math.abs(this.lat0) - HALF_PI;\n  if (Math.abs(con) <= EPSLN) {\n    if (this.lat0 >= 0) {\n      lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));\n    }\n    else {\n      lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));\n    }\n    p.x = lon;\n    p.y = lat;\n    return p;\n  }\n  lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz), rh * this.cos_p14 * cosz - p.y * this.sin_p14 * sinz));\n  p.x = lon;\n  p.y = lat;\n  return p;\n}\n\nexport var names = [\"ortho\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","// QSC projection rewritten from the original PROJ4\n// https://github.com/OSGeo/proj.4/blob/master/src/PJ_qsc.c\n\nimport {EPSLN, TWO_PI, SPI, HALF_PI, FORTPI} from '../constants/values';\n\n/* constants */\nvar FACE_ENUM = {\n    FRONT: 1,\n    RIGHT: 2,\n    BACK: 3,\n    LEFT: 4,\n    TOP: 5,\n    BOTTOM: 6\n};\n\nvar AREA_ENUM = {\n    AREA_0: 1,\n    AREA_1: 2,\n    AREA_2: 3,\n    AREA_3: 4\n};\n\nexport function init() {\n\n  this.x0 = this.x0 || 0;\n  this.y0 = this.y0 || 0;\n  this.lat0 = this.lat0 || 0;\n  this.long0 = this.long0 || 0;\n  this.lat_ts = this.lat_ts || 0;\n  this.title = this.title || \"Quadrilateralized Spherical Cube\";\n\n  /* Determine the cube face from the center of projection. */\n  if (this.lat0 >= HALF_PI - FORTPI / 2.0) {\n    this.face = FACE_ENUM.TOP;\n  } else if (this.lat0 <= -(HALF_PI - FORTPI / 2.0)) {\n    this.face = FACE_ENUM.BOTTOM;\n  } else if (Math.abs(this.long0) <= FORTPI) {\n    this.face = FACE_ENUM.FRONT;\n  } else if (Math.abs(this.long0) <= HALF_PI + FORTPI) {\n    this.face = this.long0 > 0.0 ? FACE_ENUM.RIGHT : FACE_ENUM.LEFT;\n  } else {\n    this.face = FACE_ENUM.BACK;\n  }\n\n  /* Fill in useful values for the ellipsoid <-> sphere shift\n   * described in [LK12]. */\n  if (this.es !== 0) {\n    this.one_minus_f = 1 - (this.a - this.b) / this.a;\n    this.one_minus_f_squared = this.one_minus_f * this.one_minus_f;\n  }\n}\n\n// QSC forward equations--mapping lat,long to x,y\n// -----------------------------------------------------------------\nexport function forward(p) {\n  var xy = {x: 0, y: 0};\n  var lat, lon;\n  var theta, phi;\n  var t, mu;\n  /* nu; */\n  var area = {value: 0};\n\n  // move lon according to projection's lon\n  p.x -= this.long0;\n\n  /* Convert the geodetic latitude to a geocentric latitude.\n   * This corresponds to the shift from the ellipsoid to the sphere\n   * described in [LK12]. */\n  if (this.es !== 0) {//if (P->es != 0) {\n    lat = Math.atan(this.one_minus_f_squared * Math.tan(p.y));\n  } else {\n    lat = p.y;\n  }\n\n  /* Convert the input lat, lon into theta, phi as used by QSC.\n   * This depends on the cube face and the area on it.\n   * For the top and bottom face, we can compute theta and phi\n   * directly from phi, lam. For the other faces, we must use\n   * unit sphere cartesian coordinates as an intermediate step. */\n  lon = p.x; //lon = lp.lam;\n  if (this.face === FACE_ENUM.TOP) {\n    phi = HALF_PI - lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = lon - HALF_PI;\n    } else if (lon > HALF_PI + FORTPI || lon <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = (lon > 0.0 ? lon - SPI : lon + SPI);\n    } else if (lon > -(HALF_PI + FORTPI) && lon <= -FORTPI) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = lon + HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = lon;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = HALF_PI + lat;\n    if (lon >= FORTPI && lon <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n      theta = -lon + HALF_PI;\n    } else if (lon < FORTPI && lon >= -FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta = -lon;\n    } else if (lon < -FORTPI && lon >= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = -lon - HALF_PI;\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta = (lon > 0.0 ? -lon + SPI : -lon - SPI);\n    }\n  } else {\n    var q, r, s;\n    var sinlat, coslat;\n    var sinlon, coslon;\n\n    if (this.face === FACE_ENUM.RIGHT) {\n      lon = qsc_shift_lon_origin(lon, +HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lon = qsc_shift_lon_origin(lon, +SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lon = qsc_shift_lon_origin(lon, -HALF_PI);\n    }\n    sinlat = Math.sin(lat);\n    coslat = Math.cos(lat);\n    sinlon = Math.sin(lon);\n    coslon = Math.cos(lon);\n    q = coslat * coslon;\n    r = coslat * sinlon;\n    s = sinlat;\n\n    if (this.face === FACE_ENUM.FRONT) {\n      phi = Math.acos(q);\n      theta = qsc_fwd_equat_face_theta(phi, s, r, area);\n    } else if (this.face === FACE_ENUM.RIGHT) {\n      phi = Math.acos(r);\n      theta = qsc_fwd_equat_face_theta(phi, s, -q, area);\n    } else if (this.face === FACE_ENUM.BACK) {\n      phi = Math.acos(-q);\n      theta = qsc_fwd_equat_face_theta(phi, s, -r, area);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      phi = Math.acos(-r);\n      theta = qsc_fwd_equat_face_theta(phi, s, q, area);\n    } else {\n      /* Impossible */\n      phi = theta = 0;\n      area.value = AREA_ENUM.AREA_0;\n    }\n  }\n\n  /* Compute mu and nu for the area of definition.\n   * For mu, see Eq. (3-21) in [OL76], but note the typos:\n   * compare with Eq. (3-14). For nu, see Eq. (3-38). */\n  mu = Math.atan((12 / SPI) * (theta + Math.acos(Math.sin(theta) * Math.cos(FORTPI)) - HALF_PI));\n  t = Math.sqrt((1 - Math.cos(phi)) / (Math.cos(mu) * Math.cos(mu)) / (1 - Math.cos(Math.atan(1 / Math.cos(theta)))));\n\n  /* Apply the result to the real area. */\n  if (area.value === AREA_ENUM.AREA_1) {\n    mu += HALF_PI;\n  } else if (area.value === AREA_ENUM.AREA_2) {\n    mu += SPI;\n  } else if (area.value === AREA_ENUM.AREA_3) {\n    mu += 1.5 * SPI;\n  }\n\n  /* Now compute x, y from mu and nu */\n  xy.x = t * Math.cos(mu);\n  xy.y = t * Math.sin(mu);\n  xy.x = xy.x * this.a + this.x0;\n  xy.y = xy.y * this.a + this.y0;\n\n  p.x = xy.x;\n  p.y = xy.y;\n  return p;\n}\n\n// QSC inverse equations--mapping x,y to lat/long\n// -----------------------------------------------------------------\nexport function inverse(p) {\n  var lp = {lam: 0, phi: 0};\n  var mu, nu, cosmu, tannu;\n  var tantheta, theta, cosphi, phi;\n  var t;\n  var area = {value: 0};\n\n  /* de-offset */\n  p.x = (p.x - this.x0) / this.a;\n  p.y = (p.y - this.y0) / this.a;\n\n  /* Convert the input x, y to the mu and nu angles as used by QSC.\n   * This depends on the area of the cube face. */\n  nu = Math.atan(Math.sqrt(p.x * p.x + p.y * p.y));\n  mu = Math.atan2(p.y, p.x);\n  if (p.x >= 0.0 && p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_0;\n  } else if (p.y >= 0.0 && p.y >= Math.abs(p.x)) {\n    area.value = AREA_ENUM.AREA_1;\n    mu -= HALF_PI;\n  } else if (p.x < 0.0 && -p.x >= Math.abs(p.y)) {\n    area.value = AREA_ENUM.AREA_2;\n    mu = (mu < 0.0 ? mu + SPI : mu - SPI);\n  } else {\n    area.value = AREA_ENUM.AREA_3;\n    mu += HALF_PI;\n  }\n\n  /* Compute phi and theta for the area of definition.\n   * The inverse projection is not described in the original paper, but some\n   * good hints can be found here (as of 2011-12-14):\n   * http://fits.gsfc.nasa.gov/fitsbits/saf.93/saf.9302\n   * (search for \"Message-Id: <9302181759.AA25477 at fits.cv.nrao.edu>\") */\n  t = (SPI / 12) * Math.tan(mu);\n  tantheta = Math.sin(t) / (Math.cos(t) - (1 / Math.sqrt(2)));\n  theta = Math.atan(tantheta);\n  cosmu = Math.cos(mu);\n  tannu = Math.tan(nu);\n  cosphi = 1 - cosmu * cosmu * tannu * tannu * (1 - Math.cos(Math.atan(1 / Math.cos(theta))));\n  if (cosphi < -1) {\n    cosphi = -1;\n  } else if (cosphi > +1) {\n    cosphi = +1;\n  }\n\n  /* Apply the result to the real area on the cube face.\n   * For the top and bottom face, we can compute phi and lam directly.\n   * For the other faces, we must use unit sphere cartesian coordinates\n   * as an intermediate step. */\n  if (this.face === FACE_ENUM.TOP) {\n    phi = Math.acos(cosphi);\n    lp.phi = HALF_PI - phi;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = (theta < 0.0 ? theta + SPI : theta - SPI);\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = theta;\n    }\n  } else if (this.face === FACE_ENUM.BOTTOM) {\n    phi = Math.acos(cosphi);\n    lp.phi = phi - HALF_PI;\n    if (area.value === AREA_ENUM.AREA_0) {\n      lp.lam = -theta + HALF_PI;\n    } else if (area.value === AREA_ENUM.AREA_1) {\n      lp.lam = -theta;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      lp.lam = -theta - HALF_PI;\n    } else /* area.value == AREA_ENUM.AREA_3 */ {\n      lp.lam = (theta < 0.0 ? -theta - SPI : -theta + SPI);\n    }\n  } else {\n    /* Compute phi and lam via cartesian unit sphere coordinates. */\n    var q, r, s;\n    q = cosphi;\n    t = q * q;\n    if (t >= 1) {\n      s = 0;\n    } else {\n      s = Math.sqrt(1 - t) * Math.sin(theta);\n    }\n    t += s * s;\n    if (t >= 1) {\n      r = 0;\n    } else {\n      r = Math.sqrt(1 - t);\n    }\n    /* Rotate q,r,s into the correct area. */\n    if (area.value === AREA_ENUM.AREA_1) {\n      t = r;\n      r = -s;\n      s = t;\n    } else if (area.value === AREA_ENUM.AREA_2) {\n      r = -r;\n      s = -s;\n    } else if (area.value === AREA_ENUM.AREA_3) {\n      t = r;\n      r = s;\n      s = -t;\n    }\n    /* Rotate q,r,s into the correct cube face. */\n    if (this.face === FACE_ENUM.RIGHT) {\n      t = q;\n      q = -r;\n      r = t;\n    } else if (this.face === FACE_ENUM.BACK) {\n      q = -q;\n      r = -r;\n    } else if (this.face === FACE_ENUM.LEFT) {\n      t = q;\n      q = r;\n      r = -t;\n    }\n    /* Now compute phi and lam from the unit sphere coordinates. */\n    lp.phi = Math.acos(-s) - HALF_PI;\n    lp.lam = Math.atan2(r, q);\n    if (this.face === FACE_ENUM.RIGHT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -HALF_PI);\n    } else if (this.face === FACE_ENUM.BACK) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, -SPI);\n    } else if (this.face === FACE_ENUM.LEFT) {\n      lp.lam = qsc_shift_lon_origin(lp.lam, +HALF_PI);\n    }\n  }\n\n  /* Apply the shift from the sphere to the ellipsoid as described\n   * in [LK12]. */\n  if (this.es !== 0) {\n    var invert_sign;\n    var tanphi, xa;\n    invert_sign = (lp.phi < 0 ? 1 : 0);\n    tanphi = Math.tan(lp.phi);\n    xa = this.b / Math.sqrt(tanphi * tanphi + this.one_minus_f_squared);\n    lp.phi = Math.atan(Math.sqrt(this.a * this.a - xa * xa) / (this.one_minus_f * xa));\n    if (invert_sign) {\n      lp.phi = -lp.phi;\n    }\n  }\n\n  lp.lam += this.long0;\n  p.x = lp.lam;\n  p.y = lp.phi;\n  return p;\n}\n\n/* Helper function for forward projection: compute the theta angle\n * and determine the area number. */\nfunction qsc_fwd_equat_face_theta(phi, y, x, area) {\n  var theta;\n  if (phi < EPSLN) {\n    area.value = AREA_ENUM.AREA_0;\n    theta = 0.0;\n  } else {\n    theta = Math.atan2(y, x);\n    if (Math.abs(theta) <= FORTPI) {\n      area.value = AREA_ENUM.AREA_0;\n    } else if (theta > FORTPI && theta <= HALF_PI + FORTPI) {\n      area.value = AREA_ENUM.AREA_1;\n      theta -= HALF_PI;\n    } else if (theta > HALF_PI + FORTPI || theta <= -(HALF_PI + FORTPI)) {\n      area.value = AREA_ENUM.AREA_2;\n      theta = (theta >= 0.0 ? theta - SPI : theta + SPI);\n    } else {\n      area.value = AREA_ENUM.AREA_3;\n      theta += HALF_PI;\n    }\n  }\n  return theta;\n}\n\n/* Helper function: shift the longitude. */\nfunction qsc_shift_lon_origin(lon, offset) {\n  var slon = lon + offset;\n  if (slon < -SPI) {\n    slon += TWO_PI;\n  } else if (slon > +SPI) {\n    slon -= TWO_PI;\n  }\n  return slon;\n}\n\nexport var names = [\"Quadrilateralized Spherical Cube\", \"Quadrilateralized_Spherical_Cube\", \"qsc\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n\n","// Robinson projection\n// Based on https://github.com/OSGeo/proj.4/blob/master/src/PJ_robin.c\n// Polynomial coeficients from http://article.gmane.org/gmane.comp.gis.proj-4.devel/6039\n\nimport {HALF_PI, D2R, R2D, EPSLN} from '../constants/values';\nimport adjust_lon from '../common/adjust_lon';\n\nvar COEFS_X = [\n    [1.0000, 2.2199e-17, -7.15515e-05, 3.1103e-06],\n    [0.9986, -0.000482243, -2.4897e-05, -1.3309e-06],\n    [0.9954, -0.00083103, -4.48605e-05, -9.86701e-07],\n    [0.9900, -0.00135364, -5.9661e-05, 3.6777e-06],\n    [0.9822, -0.00167442, -4.49547e-06, -5.72411e-06],\n    [0.9730, -0.00214868, -9.03571e-05, 1.8736e-08],\n    [0.9600, -0.00305085, -9.00761e-05, 1.64917e-06],\n    [0.9427, -0.00382792, -6.53386e-05, -2.6154e-06],\n    [0.9216, -0.00467746, -0.00010457, 4.81243e-06],\n    [0.8962, -0.00536223, -3.23831e-05, -5.43432e-06],\n    [0.8679, -0.00609363, -0.000113898, 3.32484e-06],\n    [0.8350, -0.00698325, -6.40253e-05, 9.34959e-07],\n    [0.7986, -0.00755338, -5.00009e-05, 9.35324e-07],\n    [0.7597, -0.00798324, -3.5971e-05, -2.27626e-06],\n    [0.7186, -0.00851367, -7.01149e-05, -8.6303e-06],\n    [0.6732, -0.00986209, -0.000199569, 1.91974e-05],\n    [0.6213, -0.010418, 8.83923e-05, 6.24051e-06],\n    [0.5722, -0.00906601, 0.000182, 6.24051e-06],\n    [0.5322, -0.00677797, 0.000275608, 6.24051e-06]\n];\n\nvar COEFS_Y = [\n    [-5.20417e-18, 0.0124, 1.21431e-18, -8.45284e-11],\n    [0.0620, 0.0124, -1.26793e-09, 4.22642e-10],\n    [0.1240, 0.0124, 5.07171e-09, -1.60604e-09],\n    [0.1860, 0.0123999, -1.90189e-08, 6.00152e-09],\n    [0.2480, 0.0124002, 7.10039e-08, -2.24e-08],\n    [0.3100, 0.0123992, -2.64997e-07, 8.35986e-08],\n    [0.3720, 0.0124029, 9.88983e-07, -3.11994e-07],\n    [0.4340, 0.0123893, -3.69093e-06, -4.35621e-07],\n    [0.4958, 0.0123198, -1.02252e-05, -3.45523e-07],\n    [0.5571, 0.0121916, -1.54081e-05, -5.82288e-07],\n    [0.6176, 0.0119938, -2.41424e-05, -5.25327e-07],\n    [0.6769, 0.011713, -3.20223e-05, -5.16405e-07],\n    [0.7346, 0.0113541, -3.97684e-05, -6.09052e-07],\n    [0.7903, 0.0109107, -4.89042e-05, -1.04739e-06],\n    [0.8435, 0.0103431, -6.4615e-05, -1.40374e-09],\n    [0.8936, 0.00969686, -6.4636e-05, -8.547e-06],\n    [0.9394, 0.00840947, -0.000192841, -4.2106e-06],\n    [0.9761, 0.00616527, -0.000256, -4.2106e-06],\n    [1.0000, 0.00328947, -0.000319159, -4.2106e-06]\n];\n\nvar FXC = 0.8487;\nvar FYC = 1.3523;\nvar C1 = R2D/5; // rad to 5-degree interval\nvar RC1 = 1/C1;\nvar NODES = 18;\n\nvar poly3_val = function(coefs, x) {\n    return coefs[0] + x * (coefs[1] + x * (coefs[2] + x * coefs[3]));\n};\n\nvar poly3_der = function(coefs, x) {\n    return coefs[1] + x * (2 * coefs[2] + x * 3 * coefs[3]);\n};\n\nfunction newton_rapshon(f_df, start, max_err, iters) {\n    var x = start;\n    for (; iters; --iters) {\n        var upd = f_df(x);\n        x -= upd;\n        if (Math.abs(upd) < max_err) {\n            break;\n        }\n    }\n    return x;\n}\n\nexport function init() {\n    this.x0 = this.x0 || 0;\n    this.y0 = this.y0 || 0;\n    this.long0 = this.long0 || 0;\n    this.es = 0;\n    this.title = this.title || \"Robinson\";\n}\n\nexport function forward(ll) {\n    var lon = adjust_lon(ll.x - this.long0);\n\n    var dphi = Math.abs(ll.y);\n    var i = Math.floor(dphi * C1);\n    if (i < 0) {\n        i = 0;\n    } else if (i >= NODES) {\n        i = NODES - 1;\n    }\n    dphi = R2D * (dphi - RC1 * i);\n    var xy = {\n        x: poly3_val(COEFS_X[i], dphi) * lon,\n        y: poly3_val(COEFS_Y[i], dphi)\n    };\n    if (ll.y < 0) {\n        xy.y = -xy.y;\n    }\n\n    xy.x = xy.x * this.a * FXC + this.x0;\n    xy.y = xy.y * this.a * FYC + this.y0;\n    return xy;\n}\n\nexport function inverse(xy) {\n    var ll = {\n        x: (xy.x - this.x0) / (this.a * FXC),\n        y: Math.abs(xy.y - this.y0) / (this.a * FYC)\n    };\n\n    if (ll.y >= 1) { // pathologic case\n        ll.x /= COEFS_X[NODES][0];\n        ll.y = xy.y < 0 ? -HALF_PI : HALF_PI;\n    } else {\n        // find table interval\n        var i = Math.floor(ll.y * NODES);\n        if (i < 0) {\n            i = 0;\n        } else if (i >= NODES) {\n            i = NODES - 1;\n        }\n        for (;;) {\n            if (COEFS_Y[i][0] > ll.y) {\n                --i;\n            } else if (COEFS_Y[i+1][0] <= ll.y) {\n                ++i;\n            } else {\n                break;\n            }\n        }\n        // linear interpolation in 5 degree interval\n        var coefs = COEFS_Y[i];\n        var t = 5 * (ll.y - coefs[0]) / (COEFS_Y[i+1][0] - coefs[0]);\n        // find t so that poly3_val(coefs, t) = ll.y\n        t = newton_rapshon(function(x) {\n            return (poly3_val(coefs, x) - ll.y) / poly3_der(coefs, x);\n        }, t, EPSLN, 100);\n\n        ll.x /= poly3_val(COEFS_X[i], t);\n        ll.y = (5 * i + t) * D2R;\n        if (xy.y < 0) {\n            ll.y = -ll.y;\n        }\n    }\n\n    ll.x = adjust_lon(ll.x + this.long0);\n    return ll;\n}\n\nexport var names = [\"Robinson\", \"robin\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import {\n    geodeticToGeocentric,\n    geocentricToGeodetic\n} from '../datumUtils';\n\nexport function init() {\n    this.name = 'geocent';\n\n}\n\nexport function forward(p) {\n    var point = geodeticToGeocentric(p, this.es, this.a);\n    return point;\n}\n\nexport function inverse(p) {\n    var point = geocentricToGeodetic(p, this.es, this.a, this.b);\n    return point;\n}\n\nexport var names = [\"Geocentric\", 'geocentric', \"geocent\", \"Geocent\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names\n};","\nvar mode = {\n  N_POLE: 0,\n  S_POLE: 1,\n  EQUIT: 2,\n  OBLIQ: 3\n};\n\nimport { D2R, HALF_PI, EPSLN } from \"../constants/values\";\nimport hypot from \"../common/hypot\";\n\nvar params = {\n  h:     { def: 100000, num: true },           // default is Karman line, no default in PROJ.7\n  azi:   { def: 0, num: true, degrees: true }, // default is North\n  tilt:  { def: 0, num: true, degrees: true }, // default is Nadir\n  long0: { def: 0, num: true },                // default is Greenwich, conversion to rad is automatic\n  lat0:  { def: 0, num: true }                 // default is Equator, conversion to rad is automatic\n};\n\nexport function init() {\n  Object.keys(params).forEach(function (p) {\n    if (typeof this[p] === \"undefined\") {\n      this[p] = params[p].def;\n    } else if (params[p].num && isNaN(this[p])) {\n      throw new Error(\"Invalid parameter value, must be numeric \" + p + \" = \" + this[p]);\n    } else if (params[p].num) {\n      this[p] = parseFloat(this[p]);\n    }\n    if (params[p].degrees) {\n      this[p] = this[p] * D2R;\n    }\n  }.bind(this));\n\n  if (Math.abs((Math.abs(this.lat0) - HALF_PI)) < EPSLN) {\n    this.mode = this.lat0 < 0 ? mode.S_POLE : mode.N_POLE;\n  } else if (Math.abs(this.lat0) < EPSLN) {\n    this.mode = mode.EQUIT;\n  } else {\n    this.mode = mode.OBLIQ;\n    this.sinph0 = Math.sin(this.lat0);\n    this.cosph0 = Math.cos(this.lat0);\n  }\n\n  this.pn1 = this.h / this.a;  // Normalize relative to the Earth's radius\n\n  if (this.pn1 <= 0 || this.pn1 > 1e10) {\n    throw new Error(\"Invalid height\");\n  }\n  \n  this.p = 1 + this.pn1;\n  this.rp = 1 / this.p;\n  this.h1 = 1 / this.pn1;\n  this.pfact = (this.p + 1) * this.h1;\n  this.es = 0;\n\n  var omega = this.tilt;\n  var gamma = this.azi;\n  this.cg = Math.cos(gamma);\n  this.sg = Math.sin(gamma);\n  this.cw = Math.cos(omega);\n  this.sw = Math.sin(omega);\n}\n\nexport function forward(p) {\n  p.x -= this.long0;\n  var sinphi = Math.sin(p.y);\n  var cosphi = Math.cos(p.y);\n  var coslam = Math.cos(p.x);\n  var x, y;\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y = this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y = cosphi * coslam;\n      break;\n    case mode.S_POLE:\n      y = -sinphi;\n      break;\n    case mode.N_POLE:\n      y = sinphi;\n      break;\n  }\n  y = this.pn1 / (this.p - y);\n  x = y * cosphi * Math.sin(p.x);\n\n  switch (this.mode) {\n    case mode.OBLIQ:\n      y *= this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;\n      break;\n    case mode.EQUIT:\n      y *= sinphi;\n      break;\n    case mode.N_POLE:\n      y *= -(cosphi * coslam);\n      break;\n    case mode.S_POLE:\n      y *= cosphi * coslam;\n      break;\n  }\n\n  // Tilt \n  var yt, ba;\n  yt = y * this.cg + x * this.sg;\n  ba = 1 / (yt * this.sw * this.h1 + this.cw);\n  x = (x * this.cg - y * this.sg) * this.cw * ba;\n  y = yt * ba;\n\n  p.x = x * this.a;\n  p.y = y * this.a;\n  return p;\n}\n\nexport function inverse(p) {\n  p.x /= this.a;\n  p.y /= this.a;\n  var r = { x: p.x, y: p.y };\n\n  // Un-Tilt\n  var bm, bq, yt;\n  yt = 1 / (this.pn1 - p.y * this.sw);\n  bm = this.pn1 * p.x * yt;\n  bq = this.pn1 * p.y * this.cw * yt;\n  p.x = bm * this.cg + bq * this.sg;\n  p.y = bq * this.cg - bm * this.sg;\n\n  var rh = hypot(p.x, p.y);\n  if (Math.abs(rh) < EPSLN) {\n    r.x = 0;\n    r.y = p.y;\n  } else {\n    var cosz, sinz;\n    sinz = 1 - rh * rh * this.pfact;\n    sinz = (this.p - Math.sqrt(sinz)) / (this.pn1 / rh + rh / this.pn1);\n    cosz = Math.sqrt(1 - sinz * sinz);\n    switch (this.mode) {\n      case mode.OBLIQ:\n        r.y = Math.asin(cosz * this.sinph0 + p.y * sinz * this.cosph0 / rh);\n        p.y = (cosz - this.sinph0 * Math.sin(r.y)) * rh;\n        p.x *= sinz * this.cosph0;\n        break;\n      case mode.EQUIT:\n        r.y = Math.asin(p.y * sinz / rh);\n        p.y = cosz * rh;\n        p.x *= sinz;\n        break;\n      case mode.N_POLE:\n        r.y = Math.asin(cosz);\n        p.y = -p.y;\n        break;\n      case mode.S_POLE:\n        r.y = -Math.asin(cosz);\n        break;\n    }\n    r.x = Math.atan2(p.x, p.y);\n  }\n\n  p.x = r.x + this.long0;\n  p.y = r.y;\n  return p;\n}\n\nexport var names = [\"Tilted_Perspective\", \"tpers\"];\nexport default {\n  init: init,\n  forward: forward,\n  inverse: inverse,\n  names: names\n};\n","import hypot from '../common/hypot';\n\nexport function init() {\n    this.flip_axis = (this.sweep === 'x' ? 1 : 0);\n    this.h = Number(this.h);\n    this.radius_g_1 = this.h / this.a;\n\n    if (this.radius_g_1 <= 0 || this.radius_g_1 > 1e10) {\n        throw new Error();\n    }\n\n    this.radius_g = 1.0 + this.radius_g_1;\n    this.C = this.radius_g * this.radius_g - 1.0;\n\n    if (this.es !== 0.0) {\n        var one_es = 1.0 - this.es;\n        var rone_es = 1 / one_es;\n\n        this.radius_p = Math.sqrt(one_es);\n        this.radius_p2 = one_es;\n        this.radius_p_inv2 = rone_es;\n\n        this.shape = 'ellipse'; // Use as a condition in the forward and inverse functions.\n    } else {\n        this.radius_p = 1.0;\n        this.radius_p2 = 1.0;\n        this.radius_p_inv2 = 1.0;\n\n        this.shape = 'sphere';  // Use as a condition in the forward and inverse functions.\n    }\n\n    if (!this.title) {\n        this.title = \"Geostationary Satellite View\";\n    }\n}\n\nfunction forward(p) {\n    var lon = p.x;\n    var lat = p.y;\n    var tmp, v_x, v_y, v_z;\n    lon = lon - this.long0;\n\n    if (this.shape === 'ellipse') {\n        lat = Math.atan(this.radius_p2 * Math.tan(lat));\n        var r = this.radius_p / hypot(this.radius_p * Math.cos(lat), Math.sin(lat));\n\n        v_x = r * Math.cos(lon) * Math.cos(lat);\n        v_y = r * Math.sin(lon) * Math.cos(lat);\n        v_z = r * Math.sin(lat);\n\n        if (((this.radius_g - v_x) * v_x - v_y * v_y - v_z * v_z * this.radius_p_inv2) < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        tmp = this.radius_g - v_x;\n        if (this.flip_axis) {\n            p.x = this.radius_g_1 * Math.atan(v_y / hypot(v_z, tmp));\n            p.y = this.radius_g_1 * Math.atan(v_z / tmp);\n        } else {\n            p.x = this.radius_g_1 * Math.atan(v_y / tmp);\n            p.y = this.radius_g_1 * Math.atan(v_z / hypot(v_y, tmp));\n        }\n    } else if (this.shape === 'sphere') {\n        tmp = Math.cos(lat);\n        v_x = Math.cos(lon) * tmp;\n        v_y = Math.sin(lon) * tmp;\n        v_z = Math.sin(lat);\n        tmp = this.radius_g - v_x;\n\n        if (this.flip_axis) {\n            p.x = this.radius_g_1 * Math.atan(v_y / hypot(v_z, tmp));\n            p.y = this.radius_g_1 * Math.atan(v_z / tmp);\n        } else {\n            p.x = this.radius_g_1 * Math.atan(v_y / tmp);\n            p.y = this.radius_g_1 * Math.atan(v_z / hypot(v_y, tmp));\n        }\n    }\n    p.x = p.x * this.a;\n    p.y = p.y * this.a;\n    return p;\n}\n\nfunction inverse(p) {\n    var v_x = -1.0;\n    var v_y = 0.0;\n    var v_z = 0.0;\n    var a, b, det, k;\n\n    p.x = p.x / this.a;\n    p.y = p.y / this.a;\n\n    if (this.shape === 'ellipse') {\n        if (this.flip_axis) {\n            v_z = Math.tan(p.y / this.radius_g_1);\n            v_y = Math.tan(p.x / this.radius_g_1) * hypot(1.0, v_z);\n        } else {\n            v_y = Math.tan(p.x / this.radius_g_1);\n            v_z = Math.tan(p.y / this.radius_g_1) * hypot(1.0, v_y);\n        }\n\n        var v_zp = v_z / this.radius_p;\n        a = v_y * v_y + v_zp * v_zp + v_x * v_x;\n        b = 2 * this.radius_g * v_x;\n        det = (b * b) - 4 * a * this.C;\n\n        if (det < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        k = (-b - Math.sqrt(det)) / (2.0 * a);\n        v_x = this.radius_g + k * v_x;\n        v_y *= k;\n        v_z *= k;\n\n        p.x = Math.atan2(v_y, v_x);\n        p.y = Math.atan(v_z * Math.cos(p.x) / v_x);\n        p.y = Math.atan(this.radius_p_inv2 * Math.tan(p.y));\n    } else if (this.shape === 'sphere') {\n        if (this.flip_axis) {\n            v_z = Math.tan(p.y / this.radius_g_1);\n            v_y = Math.tan(p.x / this.radius_g_1) * Math.sqrt(1.0 + v_z * v_z);\n        } else {\n            v_y = Math.tan(p.x / this.radius_g_1);\n            v_z = Math.tan(p.y / this.radius_g_1) * Math.sqrt(1.0 + v_y * v_y);\n        }\n\n        a = v_y * v_y + v_z * v_z + v_x * v_x;\n        b = 2 * this.radius_g * v_x;\n        det = (b * b) - 4 * a * this.C;\n        if (det < 0.0) {\n            p.x = Number.NaN;\n            p.y = Number.NaN;\n            return p;\n        }\n\n        k = (-b - Math.sqrt(det)) / (2.0 * a);\n        v_x = this.radius_g + k * v_x;\n        v_y *= k;\n        v_z *= k;\n\n        p.x = Math.atan2(v_y, v_x);\n        p.y = Math.atan(v_z * Math.cos(p.x) / v_x);\n    }\n    p.x = p.x + this.long0;\n    return p;\n}\n\nexport var names = [\"Geostationary Satellite View\", \"Geostationary_Satellite\", \"geos\"];\nexport default {\n    init: init,\n    forward: forward,\n    inverse: inverse,\n    names: names,\n};\n\n","import proj4 from './core';\nimport Proj from \"./Proj\";\nimport Point from \"./Point\";\nimport common from \"./common/toPoint\";\nimport defs from \"./defs\";\nimport nadgrid from \"./nadgrid\";\nimport transform from \"./transform\";\nimport mgrs from \"mgrs\";\nimport includedProjections from \"../projs\";\n\nproj4.defaultDatum = 'WGS84'; //default datum\nproj4.Proj = Proj;\nproj4.WGS84 = new proj4.Proj('WGS84');\nproj4.Point = Point;\nproj4.toPoint = common;\nproj4.defs = defs;\nproj4.nadgrid = nadgrid;\nproj4.transform = transform;\nproj4.mgrs = mgrs;\nproj4.version = '__VERSION__';\nincludedProjections(proj4);\nexport default proj4;\n","import tmerc from './lib/projections/tmerc';\nimport etmerc from './lib/projections/etmerc';\nimport utm from './lib/projections/utm';\nimport sterea from './lib/projections/sterea';\nimport stere from './lib/projections/stere';\nimport somerc from './lib/projections/somerc';\nimport omerc from './lib/projections/omerc';\nimport lcc from './lib/projections/lcc';\nimport krovak from './lib/projections/krovak';\nimport cass from './lib/projections/cass';\nimport laea from './lib/projections/laea';\nimport aea from './lib/projections/aea';\nimport gnom from './lib/projections/gnom';\nimport cea from './lib/projections/cea';\nimport eqc from './lib/projections/eqc';\nimport poly from './lib/projections/poly';\nimport nzmg from './lib/projections/nzmg';\nimport mill from './lib/projections/mill';\nimport sinu from './lib/projections/sinu';\nimport moll from './lib/projections/moll';\nimport eqdc from './lib/projections/eqdc';\nimport vandg from './lib/projections/vandg';\nimport aeqd from './lib/projections/aeqd';\nimport ortho from './lib/projections/ortho';\nimport qsc from './lib/projections/qsc';\nimport robin from './lib/projections/robin';\nimport geocent from './lib/projections/geocent';\nimport tpers from './lib/projections/tpers';\nimport geos from './lib/projections/geos';\nexport default function(proj4){\n  proj4.Proj.projections.add(tmerc);\n  proj4.Proj.projections.add(etmerc);\n  proj4.Proj.projections.add(utm);\n  proj4.Proj.projections.add(sterea);\n  proj4.Proj.projections.add(stere);\n  proj4.Proj.projections.add(somerc);\n  proj4.Proj.projections.add(omerc);\n  proj4.Proj.projections.add(lcc);\n  proj4.Proj.projections.add(krovak);\n  proj4.Proj.projections.add(cass);\n  proj4.Proj.projections.add(laea);\n  proj4.Proj.projections.add(aea);\n  proj4.Proj.projections.add(gnom);\n  proj4.Proj.projections.add(cea);\n  proj4.Proj.projections.add(eqc);\n  proj4.Proj.projections.add(poly);\n  proj4.Proj.projections.add(nzmg);\n  proj4.Proj.projections.add(mill);\n  proj4.Proj.projections.add(sinu);\n  proj4.Proj.projections.add(moll);\n  proj4.Proj.projections.add(eqdc);\n  proj4.Proj.projections.add(vandg);\n  proj4.Proj.projections.add(aeqd);\n  proj4.Proj.projections.add(ortho);\n  proj4.Proj.projections.add(qsc);\n  proj4.Proj.projections.add(robin);\n  proj4.Proj.projections.add(geocent);\n  proj4.Proj.projections.add(tpers);\n  proj4.Proj.projections.add(geos);\n}","export class ShpRow {\r\n    id: number;\r\n    len: number;\r\n    data: Uint8Array;\r\n    type: number;\r\n\r\n    constructor(id: number, len: number, type?: number, data?: Uint8Array) {\r\n        this.id = id;\r\n        this.len = len;\r\n        this.type = type;\r\n        this.data = data;\r\n    }\r\n}","export class ShpHeader {\r\n    length: number;\r\n    version: number;\r\n    shpCode: number;\r\n    bbox: number[];\r\n    constructor(length: number, version: number, shpCode: number,bbox: number[]) {\r\n        this.length = length;\r\n        this.version = version;\r\n        this.shpCode = shpCode;\r\n        this.bbox = bbox;\r\n    }\r\n}","import proj4 from \"proj4\";\r\n\r\nexport class ShpBase {\r\n    trans: string | boolean | proj4.Converter;\r\n\r\n    constructor(trans: string | boolean | proj4.Converter) {\r\n        this.trans = trans;\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    public parse(data: Uint8Array){\r\n        console.error(\"no instantiation\");\r\n    }\r\n    parseCoordinate(data: Uint8Array, offset: number) {\r\n        const dataView = new DataView(data.buffer);\r\n        if (this.trans) {\r\n            const args = [dataView.getFloat64(offset, true), dataView.getFloat64(offset + 8, true)];\r\n            return (this.trans as proj4.Converter).inverse(args);\r\n        } else {\r\n            return [dataView.getFloat64(offset, true), dataView.getFloat64(offset + 8, true)];\r\n        }\r\n    }\r\n\r\n    parseCoordinateArray = (data: Uint8Array, offset: number, num: number) => {\r\n        const out: any[] = [];\r\n        let done = 0;\r\n        while (done < num) {\r\n            out.push(this.parseCoordinate(data, offset));\r\n            offset += 16;\r\n            done++;\r\n        }\r\n        return out;\r\n    };\r\n\r\n\r\n    parseArrayGroup = (data: Uint8Array, offset: number, partOffset: number, num: number, tot: number) => {\r\n        const dataView = new DataView(data.buffer);\r\n        const out: any[] = [];\r\n        let done = 0;\r\n        let curNum: number;\r\n        let nextNum = 0;\r\n        let pointNumber: number;\r\n        while (done < num) {\r\n            done++;\r\n            partOffset += 4;\r\n            curNum = nextNum;\r\n            if (done === num) {\r\n                nextNum = tot;\r\n            } else {\r\n                nextNum = dataView.getInt32(partOffset, true);\r\n            }\r\n            pointNumber = nextNum - curNum;\r\n            if (!pointNumber) {\r\n                continue;\r\n            }\r\n            out.push(this.parseCoordinateArray(data, offset, pointNumber));\r\n            offset += (pointNumber << 4);\r\n        }\r\n        return out;\r\n    };\r\n\r\n    polyFuncs = (out: { [x: string]: any; type?: any; coordinates?: any; }) => {\r\n        if (!out) {\r\n            return out;\r\n        }\r\n        if (out.type === 'LineString') {\r\n            out.type = 'Polygon';\r\n            out.coordinates = [out.coordinates];\r\n            return out;\r\n        } else {\r\n            out.coordinates = out.coordinates.reduce(this.polyReduce, []);\r\n            if (out.coordinates.length === 1) {\r\n                out.type = 'Polygon';\r\n                out.coordinates = out.coordinates[0];\r\n                return out;\r\n            } else {\r\n                out.type = 'MultiPolygon';\r\n                return out;\r\n            }\r\n        }\r\n    };\r\n\r\n    parseZPointArray = (data: Uint8Array, zOffset: number, num: number, coordinates: string | any[]) => {\r\n        const dataView = new DataView(data.buffer);\r\n        let i = 0;\r\n        while (i < num) {\r\n            coordinates[i].push(dataView.getFloat64(zOffset, true));\r\n            i++;\r\n            zOffset += 8;\r\n        }\r\n        return coordinates;\r\n    };\r\n\r\n    parseZArrayGroup = (data: Uint8Array, zOffset: number, num: number, coordinates: (string | any[])[]) => {\r\n        let i = 0;\r\n        while (i < num) {\r\n            coordinates[i] = this.parseZPointArray(data, zOffset, coordinates[i].length, coordinates[i]);\r\n            zOffset += (coordinates[i].length << 3);\r\n            i++;\r\n        }\r\n        return coordinates;\r\n    };\r\n\r\n    isClockWise = (array: string | any[]) => {\r\n        let sum = 0;\r\n        let i = 1;\r\n        const len = array.length;\r\n        let prev: any[], cur: any[];\r\n        while (i < len) {\r\n            prev = cur || array[0];\r\n            cur = array[i];\r\n            sum += ((cur[0] - prev[0]) * (cur[1] + prev[1]));\r\n            i++;\r\n        }\r\n        return sum > 0;\r\n    }\r\n\r\n    polyReduce = (a: any[][], b: any) => {\r\n        if (this.isClockWise(b) || !a.length) {\r\n            a.push([b]);\r\n        } else {\r\n            a[a.length - 1].push(b);\r\n        }\r\n        return a;\r\n    }\r\n}","import {ShpBase} from \"./shp-base\";\r\n\r\nexport class ShpPoint extends ShpBase{\r\n    parse(data: Uint8Array){\r\n        return {\r\n            type: 'Point',\r\n            coordinates: this.parseCoordinate(data, 0)\r\n        };\r\n    }\r\n}","import {ShpBase} from \"./shp-base\";\r\n\r\nexport class ShpPolyline extends ShpBase{\r\n\r\n   public  override parse(data: Uint8Array){\r\n        const dataView = new DataView(data.buffer);\r\n        const out: { [key: string]: any } = {};\r\n        const numParts = dataView.getInt32(32, true);\r\n        if (!numParts) {\r\n            return null;\r\n        }\r\n        const mins = this.parseCoordinate(data, 0);\r\n        const maxs = this.parseCoordinate(data, 16);\r\n        out.bbox = [\r\n            mins[0],\r\n            mins[1],\r\n            maxs[0],\r\n            maxs[1]\r\n        ];\r\n        const num = dataView.getInt32(36, true);\r\n        let offset: number, partOffset: number;\r\n        if (numParts === 1) {\r\n            out.type = 'LineString';\r\n            offset = 44;\r\n            out.coordinates = this.parseCoordinateArray(data, offset, num);\r\n        } else {\r\n            out.type = 'MultiLineString';\r\n            offset = 40 + (numParts << 2);\r\n            partOffset = 40;\r\n            out.coordinates = this.parseArrayGroup(data, offset, partOffset, numParts, num);\r\n        }\r\n        return out;\r\n    }\r\n}","import {ShpPolyline} from \"./shp-polyline\";\r\n\r\nexport class ShpPolygon extends ShpPolyline{\r\n\r\n    parse = (data: Uint8Array) => {\r\n        return this.polyFuncs(super.parse(data));\r\n    };\r\n}","import {ShpBase} from \"./shp-base\";\r\n\r\nexport class ShpMultiPoint extends ShpBase{\r\n\r\n    public override parse  (data: Uint8Array) {\r\n        console.log(\"ShpMultiPoint\");\r\n        const dataView = new DataView(data.buffer);\r\n        const out: { [key: string]: any } = {};\r\n        let num = null;\r\n        try {\r\n            num = dataView.getInt32(32, true);\r\n        } catch (RangeError) {\r\n            return null;\r\n        }\r\n\r\n        const mins = this.parseCoordinate(data, 0);\r\n        const maxs = this.parseCoordinate(data, 16);\r\n        out.bbox = [\r\n            mins[0],\r\n            mins[1],\r\n            maxs[0],\r\n            maxs[1]\r\n        ];\r\n        const offset = 36;\r\n        if (num === 1) {\r\n            out.type = 'Point';\r\n            out.coordinates = this.parseCoordinate(data, offset);\r\n        } else {\r\n            out.type = 'MultiPoint';\r\n            out.coordinates = this.parseCoordinateArray(data, offset, num);\r\n        }\r\n        return out;\r\n    };\r\n\r\n}","import {ShpPoint} from \"./shp-point\";\r\n\r\nexport class ShpZPoint extends ShpPoint {\r\n\r\n    override parse = (data: Uint8Array) => {\r\n        const dataView = new DataView(data.buffer);\r\n        const pointXY = super.parse(data);\r\n        pointXY.coordinates.push(dataView.getFloat64(16, true));\r\n        return pointXY;\r\n    };\r\n}","import {ShpPolyline} from \"./shp-polyline\";\r\n\r\nexport class ShpZPolyline extends ShpPolyline {\r\n\r\n\r\n    override parse (data: Uint8Array) {\r\n        const geoJson = super.parse(data);\r\n        if (!geoJson) {\r\n            return null;\r\n        }\r\n        const num = geoJson.coordinates.length;\r\n        let zOffset: number;\r\n        if (geoJson.type === 'LineString') {\r\n            zOffset = 60 + (num << 4);\r\n            geoJson.coordinates = this.parseZPointArray(data, zOffset, num, geoJson.coordinates);\r\n            return geoJson;\r\n        } else {\r\n            const totalPoints = geoJson.coordinates.reduce(function (a: any, v: string | any[]) {\r\n                return a + v.length;\r\n            }, 0);\r\n            zOffset = 56 + (totalPoints << 4) + (num << 2);\r\n            geoJson.coordinates = this.parseZArrayGroup(data, zOffset, num, geoJson.coordinates);\r\n            return geoJson;\r\n        }\r\n    };\r\n\r\n}","import {ShpZPolyline} from \"./shp-z-polyline\";\r\n\r\nexport class ShpZPolygon extends ShpZPolyline{\r\n\r\n\r\n   override parse (data: Uint8Array)  {\r\n        return this.polyFuncs(super.parse(data));\r\n    };\r\n\r\n}","import {ShpMultiPoint} from \"./shp-multi-point\";\r\n\r\nexport class ShpZMultiPoint extends ShpMultiPoint{\r\n\r\n   public override parse (data: Uint8Array)  {\r\n       console.log(\"ShpZMultiPoint\")\r\n       const dataView = new DataView(data.buffer);\r\n        const geoJson = super.parse(data);\r\n        if (!geoJson) {\r\n            return null;\r\n        }\r\n        let num: number;\r\n        if (geoJson.type === 'Point') {\r\n            geoJson.coordinates.push(dataView.getFloat64(72, true));\r\n            return geoJson;\r\n        } else {\r\n            num = geoJson.coordinates.length;\r\n        }\r\n        const zOffset = 52 + (num << 4);\r\n        geoJson.coordinates = this.parseZPointArray(data, zOffset, num, geoJson.coordinates);\r\n        return geoJson;\r\n    };\r\n\r\n}","import proj4 from \"proj4\";\nimport {ShpRow} from \"@/entity/shp-row\";\nimport {ShpHeader} from \"@/entity/shp-header\";\nimport {ShpBase} from \"@/entity/convert/shp-base\";\nimport {ShpPoint} from \"@/entity/convert/shp-point\";\nimport {ShpPolyline} from \"@/entity/convert/shp-polyline\";\nimport {ShpPolygon} from \"@/entity/convert/shp-polygon\";\nimport {ShpMultiPoint} from \"@/entity/convert/shp-multi-point\";\nimport {ShpZPoint} from \"@/entity/convert/shp-z-point\";\nimport {ShpZPolyline} from \"@/entity/convert/shp-z-polyline\";\nimport {ShpZPolygon} from \"@/entity/convert/shp-z-polygon\";\nimport {ShpZMultiPoint} from \"@/entity/convert/shp-z-multi_point\";\n\nexport class ParseShp {\n    //parseFunc: Function;\n    shpGeoObject: ShpBase;\n    buffer: Uint8Array;\n    rows: any[] = [];\n    trans: string | boolean | proj4.Converter;\n\n    constructor(buffer: Uint8Array|ArrayBuffer, trans: string | boolean | proj4.Converter) {\n        if (buffer instanceof ArrayBuffer) {\n            buffer = new Uint8Array(buffer);\n        }\n        this.buffer = <Uint8Array>buffer;\n        this.headers = this.parseHeader();\n        if (this.headers.length < this.buffer.byteLength) {\n            this.buffer = this.buffer.slice(0, this.headers.length);\n        }\n        this.trans = trans;\n        this.setShpObjType();\n        this.rows = this.getRows();\n    }\n\n    headers: any;\n\n    // shpFuncObj = {\n    //     1: this.parsePoint,\n    //     3: this.parsePolyline,\n    //     5: this.parsePolygon,\n    //     8: this.parseMultiPoint,\n    //     11: this.parseZPoint,\n    //     13: this.parseZPolyline,\n    //     15: this.parseZPolygon,\n    //     18: this.parseZMultiPoint\n    // };\n    shpObjArray = {\n        1: ShpPoint,\n        3: ShpPolyline,\n        5: ShpPolygon,\n        8: ShpMultiPoint,\n        11: ShpZPoint,\n        13: ShpZPolyline,\n        15: ShpZPolygon,\n        18: ShpZMultiPoint\n    };\n\n\n    setShpObjType() {\n        let num = this.headers.shpCode;\n        if (num > 20) {\n            num -= 20;\n        }\n        if (!(num in this.shpObjArray)) {\n            throw new Error('I don\\'t know that shp type');\n        }\n        // this.parseFunc = this.shpFuncObj[num];\n        this.shpGeoObject = new this.shpObjArray[num]();\n    };\n\n    // noinspection JSUnusedGlobalSymbols\n    getShpCode = () => {\n        return this.parseHeader().shpCode;\n    };\n    parseHeader = () => {\n        const view: Uint8Array = this.buffer.slice(0, 100);\n        const dataView = new DataView(view.buffer);\n        return new ShpHeader(\n            dataView.getInt32(6 << 2) << 1,\n            dataView.getInt32(7 << 2, true),\n            dataView.getInt32(8 << 2, true),\n            [\n                dataView.getFloat64(9 << 2, true),\n                dataView.getFloat64(11 << 2, true),\n                dataView.getFloat64(13 << 2, true),\n                dataView.getFloat64(13 << 2, true)\n            ]\n        )\n    };\n    getRows = () => {\n        let offset = 100;\n        const len = this.buffer.byteLength;\n        const rows: any[] = [];\n        let current: ShpRow;\n        while (offset < len) {\n            current = this.getRow(offset);\n            if (!current) {\n                break;\n            }\n            offset += 8;\n            offset += current.len;\n            if (current.type) {\n                rows.push(this.shpGeoObject.parse(current.data));\n            } else {\n                rows.push(null);\n            }\n        }\n        return rows;\n    };\n    getRow = (offset: number): ShpRow => {\n        const view: Uint8Array = this.buffer.slice(offset, offset + 12);\n        const dataView = new DataView(view.buffer);\n        const len = dataView.getInt32(4) << 1;\n        const id = dataView.getInt32(0);\n        if (len === 0) {\n            return new ShpRow(id, len, 0);\n        }\n        return new ShpRow(id, len, dataView.getInt32(8, true), this.buffer.slice(offset + 12, offset + len + 8));\n    };\n\n\n}\n\nconst ParseShpFile = (buffer: Uint8Array, trans: string | boolean | proj4.Converter): any[] => {\n    return new ParseShp(buffer, trans).rows;\n};\nexport default ParseShpFile;","async function binaryAjax(_url: string, type?: string) {\n    const url = combine(_url, type);\n    const isOptionalTxt = type === 'prj' || type === 'cpg';\n    try {\n        const resp = await fetch(url, {mode: 'cors'});\n        if (resp.status > 399) {\n            if (!isOptionalTxt) {\n                console.error(url + \"--\" + resp.statusText);\n            }\n            return false;\n        }\n        if (isOptionalTxt) {\n            return resp.text();\n        }\n        return new Uint8Array(await resp.arrayBuffer());\n    } catch (e) {\n        console.log('ERROR', e, type);\n        if (isOptionalTxt || type === 'dbf') {\n            return false;\n        }\n        throw e;\n    }\n}\nconst combine = function (base: string, type: any) {\n    if (!type) {\n        return base;\n    }\n    let resUrl = base.startsWith(\"http\") ? new URL(base) : new URL(base, location.href);\n    const shpExt = [\"shp\", \"dbf\", \"shx\", \"prj\", \"sbn\"];\n    shpExt.map((ext) => {\n        if (resUrl.pathname.endsWith(\".\" + ext)) {\n            resUrl.pathname = resUrl.pathname.substring(0, resUrl.pathname.length - (ext.length + 1));\n        }\n    })\n\n    resUrl.pathname = resUrl.pathname + \".\" + type;\n    return resUrl.href;\n};\nexport default binaryAjax;","import {ShpFeature} from \"./shp-feature\";\r\n\r\nexport class ShpEntity{\r\n    [key: string]: any;\r\n    type:string;\r\n    features:ShpFeature[];\r\n\r\n}","\nfunction defaultDecoder(data: AllowSharedBufferSource) {\n  const decoder = new TextDecoder();\n  const out = decoder.decode(data);\n  return out.replace(/\\0/g, '').trim();\n}\n\nconst regex = /^(?:ANSI\\s)?(\\d+)$/m;\n\nfunction createDecoder(encoding: string, second?: boolean) {\n  if (!encoding) {\n    return defaultDecoder;\n  }\n  try {\n    new TextDecoder(encoding.trim());\n  } catch (e) {\n    const match = regex.exec(encoding);\n    if (match && !second) {\n      return createDecoder('windows-' + match[1], true);\n    } else {\n      return defaultDecoder;\n    }\n  }\n  return browserDecoder;\n  function browserDecoder(buffer: AllowSharedBufferSource) {\n    const decoder = new TextDecoder(encoding);\n    const out = decoder.decode(buffer, {\n      stream: true\n    }) + decoder.decode();\n    return out.replace(/\\0/g, '').trim();\n  }\n}\n\nexport { createDecoder }","export class DbfHeader {\r\n    lastUpdated:Date;\r\n    records:number;\r\n    headerLen:number;\r\n    recLen:number;\r\n}","import {createDecoder} from \"./decoder-browser\"\nimport {DbfHeader} from \"@/entity/dbf-header\";\nimport {DbfRowHeader} from \"@/entity/dbf-row-header\";\n\nexport class ParseDbf {\n    static readDbfHeader(data: Uint8Array): DbfHeader {\n        const dataView = new DataView(data.buffer);\n        let dbfHeader: DbfHeader = new DbfHeader();\n        dbfHeader.lastUpdated = new Date(dataView.getInt8(1) + 1900, dataView.getInt8(2), dataView.getInt8(3));\n        dbfHeader.records = dataView.getInt32(4, true);\n        dbfHeader.headerLen = dataView.getInt16(8, true);\n        dbfHeader.recLen = dataView.getInt16(10, true);\n        return dbfHeader;\n    }\n\n\n    static readDbfRowHeaders(data: Uint8Array, headerLen: number, decoder: Function): DbfRowHeader[] {\n        const dataView = new DataView(data.buffer);\n        const dbfRowHeaders: DbfRowHeader[] = [];\n        let offset = 32;\n        while (offset < headerLen) {\n            dbfRowHeaders.push({\n                name: decoder(data.slice(offset, offset + 11)),\n                dataType: String.fromCharCode(dataView.getUint8(offset + 11)),\n                len: dataView.getUint8(offset + 16),\n                decimal: dataView.getUint8(offset + 17)\n            });\n            if (dataView.getUint8(offset + 32) === 13) {\n                break;\n            } else {\n                offset += 32;\n            }\n        }\n        return dbfRowHeaders;\n    }\n\n    static rowFunc(buffer: Uint8Array, offset: number, len: number, type: string, decoder: Function): string | Date | boolean | number {\n        const data = buffer.slice(offset, offset + len);\n        const textData: string = decoder(data);\n        switch (type) {\n            case 'N':\n            case 'F':\n            case 'O':\n                return parseFloat(textData);\n            case 'D':\n                return new Date(parseInt(textData.slice(0, 4)), parseInt(textData.slice(4, 6), 10) - 1, parseInt(textData.slice(6, 8)));\n            case 'L':\n                return textData.toLowerCase() === 'y' || textData.toLowerCase() === 't';\n            default:\n                return textData;\n        }\n    }\n\n    static parseRow(buffer: Uint8Array, offset: number, rowHeaders: DbfRowHeader[], decoder: Function) {\n        const out = {};\n        let i = 0;\n        const len = rowHeaders.length;\n        let field: string | number | boolean | Date;\n        let header: DbfRowHeader;\n        while (i < len) {\n            header = rowHeaders[i];\n            field = this.rowFunc(buffer, offset, header.len, header.dataType, decoder);\n            offset += header.len;\n            if (typeof field !== 'undefined') {\n                out[header.name] = field;\n            }\n            i++;\n        }\n        return out;\n    }\n\n    static parseDbf =  (buffer: Uint8Array | ArrayBuffer, encoding: string)=> {\n        if (buffer instanceof ArrayBuffer) {\n            buffer = new Uint8Array(buffer);\n        }\n\n        const decoder: any = createDecoder(encoding);\n        const header: DbfHeader = this.readDbfHeader(<Uint8Array>buffer);\n        const rowHeaders: DbfRowHeader[] = this.readDbfRowHeaders(<Uint8Array>buffer, header.headerLen - 1, decoder);\n\n        let offset = ((rowHeaders.length + 1) << 5) + 2;\n        const recLen = header.recLen;\n        let records = header.records;\n        const out = [];\n        while (records) {\n            out.push(this.parseRow(<Uint8Array>buffer, offset, rowHeaders, decoder));\n            offset += recLen;\n            records--;\n        }\n        return out;\n    };\n\n}\n\n//export {parseDbf, readDbfHeader}","import {unzip} from \"@/unzip\";\r\nimport proj4 from \"proj4\";\r\nimport ParseShpFile from \"@/parse-shp\";\r\nimport binaryAjax from \"@/binaryajax-fetch\";\r\nimport {ShpEntity} from \"@/entity/shp-entity\";\r\nimport {ParseDbf} from \"@/parse-dbf\";\r\n\r\nexport class ShpHelper {\r\n\r\n    /**\r\n     * shp dbf\r\n     * @param geometryArray\r\n     * @param propertiesArray\r\n     */\r\n    combine = (geometryArray:any[], propertiesArray:any[]) => {\r\n        const shpEntity: ShpEntity = new ShpEntity();\r\n        shpEntity.type = 'FeatureCollection';\r\n        shpEntity.features = [];\r\n        let i = 0;\r\n        const len = geometryArray.length;\r\n        if (!propertiesArray) {\r\n            propertiesArray = [];\r\n        }\r\n        while (i < len) {\r\n            shpEntity.features.push({\r\n                type: 'Feature',\r\n                geometry: geometryArray[i],\r\n                properties: propertiesArray[i] || {}\r\n            });\r\n            i++;\r\n        }\r\n        return shpEntity;\r\n    };\r\n\r\n    /**\r\n     * zip\r\n     * @param buffer\r\n     * @param whiteList\r\n     * @param encoding\r\n     */\r\n    parseZip = async (buffer: Uint8Array , whiteList?: Array<string>, encoding?: string) => {\r\n        let key: string;\r\n        const zip = await unzip(buffer, encoding);\r\n        const names: string[] = [];\r\n        whiteList = whiteList || [];\r\n        for (key in zip) {\r\n            if (key.indexOf('__MACOSX') !== -1) {\r\n                continue;\r\n            }\r\n            if (key.slice(-4).toLowerCase() === '.shp') {\r\n                names.push(key.slice(0, -4));\r\n                zip[key.slice(0, -3) + key.slice(-3).toLowerCase()] = zip[key];\r\n            } else if (key.slice(-4).toLowerCase() === '.prj') {\r\n                zip[key.slice(0, -3) + key.slice(-3).toLowerCase()] = proj4(zip[key]);\r\n            } else if (key.slice(-5).toLowerCase() === '.json' || whiteList.indexOf(key.split('.').pop()) > -1) {\r\n                names.push(key.slice(0, -3) + key.slice(-3).toLowerCase());\r\n            } else if (key.slice(-4).toLowerCase() === '.dbf' || key.slice(-4).toLowerCase() === '.cpg') {\r\n                zip[key.slice(0, -3) + key.slice(-3).toLowerCase()] = zip[key];\r\n            }\r\n        }\r\n        if (!names.length) {\r\n            throw new Error('no layers founds');\r\n        }\r\n        const geojson = names.map((name: string) => {\r\n            let parsed: { [x: string]: any; fileName?: any; }, dbf: any[];\r\n            const lastDotIdx = name.lastIndexOf('.');\r\n            if (lastDotIdx > -1 && name.slice(lastDotIdx).indexOf('json') > -1) {\r\n                parsed = JSON.parse(zip[name]);\r\n                parsed.fileName = name.slice(0, lastDotIdx);\r\n            } else if (whiteList.indexOf(name.slice(lastDotIdx + 1)) > -1) {\r\n                parsed = zip[name];\r\n                parsed.fileName = name;\r\n            } else {\r\n                if (zip[name + '.dbf']) {\r\n                    dbf = ParseDbf.parseDbf(zip[name + '.dbf'], zip[name + '.cpg']);\r\n                }\r\n                parsed = this.combine(ParseShpFile(zip[name + '.shp'], zip[name + '.prj']), dbf);\r\n                parsed.fileName = name;\r\n            }\r\n            return parsed;\r\n        });\r\n        if (geojson.length === 1) {\r\n            return geojson[0];\r\n        } else {\r\n            return geojson;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * zip\r\n     * @param base\r\n     * @param whiteList\r\n     * @param encoding\r\n     */\r\n    getZip = async (base: string, whiteList: Array<string>, encoding?: string) => {\r\n        const a:Uint8Array = await binaryAjax(base) as Uint8Array;\r\n        return this.parseZip(a, whiteList, encoding);\r\n    }\r\n    /**\r\n     * shp prj\r\n     * @param base\r\n     */\r\n    handleShp = async (base: string) => {\r\n        const args = await Promise.all([\r\n            binaryAjax(base, 'shp'),\r\n            binaryAjax(base, 'prj')\r\n        ]);\r\n        let prj: boolean | proj4.Converter = false;\r\n        try {\r\n            if (args[1]) {\r\n                prj = proj4(args[1] as string);\r\n            }\r\n        } catch (e) {\r\n            prj = false;\r\n        }\r\n        return ParseShpFile(args[0] as Uint8Array, prj);\r\n    };\r\n\r\n\r\n    /**\r\n     *  dbf \r\n     * @param base\r\n     */\r\n    handleDbf = async (base: string) => {\r\n        const [dbf, cpg] = await Promise.all([\r\n            binaryAjax(base, 'dbf'),\r\n            binaryAjax(base, 'cpg')\r\n        ]);\r\n        if (!dbf) {\r\n            return;\r\n        }\r\n        return ParseDbf.parseDbf(dbf as Uint8Array, cpg as string);\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param base\r\n     * @param suffix\r\n     */\r\n    checkSuffix = (base: string, suffix: string) => {\r\n        const url = new URL(location.href + base);\r\n        return url.pathname.slice(-4).toLowerCase() === suffix;\r\n    };\r\n\r\n\r\n    /**\r\n     * shp \r\n     * @param base\r\n     * @param whiteList\r\n     * @param encoding\r\n     */\r\n    getShapefile = async (base: string | Uint8Array, whiteList: Array<string>, encoding?: string) => {\r\n        if (typeof base !== 'string') {\r\n            return this.parseZip(base, whiteList, encoding);\r\n        }\r\n        if (this.checkSuffix(base, '.zip')) {\r\n            return this.getZip(base, whiteList, encoding);\r\n        }\r\n        console.log(\"handleShp\")\r\n        const results = await Promise.all([\r\n            this.handleShp(base),\r\n            this.handleDbf(base)\r\n        ]);\r\n        return this.combine(results[0],results[1]);\r\n    };\r\n\r\n    /**\r\n     * prj shp\r\n     * @param shp\r\n     * @param prj\r\n     */\r\n    parseShp =  (shp: Uint8Array, prj: string | boolean | proj4.Converter)=>{\r\n        //shp = toBuffer(shp);\r\n        //if (Buffer.isBuffer(prj)) {\r\n        prj = prj.toString();\r\n        // }\r\n        if (typeof prj === 'string') {\r\n            try {\r\n                prj = proj4(prj);\r\n            } catch (e) {\r\n                prj = false;\r\n            }\r\n        }\r\n        return ParseShpFile(shp, prj);\r\n    };\r\n    /**\r\n     * dbf\r\n     * @param dbf\r\n     * @param cpg\r\n     */\r\n    parseDbf =  (dbf: Uint8Array, cpg: string)=> {\r\n        return ParseDbf.parseDbf(dbf, cpg);\r\n    };\r\n\r\n}","import {ShpHelper} from \"@/shp-helper\";\n\n\nconst shp = async function (base: string | Uint8Array, whiteList?: Array<string>, encoding?: string) {\n    const sp = new ShpHelper();\n    return await sp.getShapefile(base, whiteList, encoding);\n}\nshp.ShpHelper=ShpHelper;\n\nexport default shp;\nexport {ShpHelper}\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","SuppressedError","u8","Uint8Array","u16","Uint16Array","i32","Int32Array","fleb","fdeb","clim","freb","eb","start","b","i","r","j","_a","fl","revfl","fd","rev","x","hMap","cd","mb","s","length","l","co","le","rvb","sv","r_1","v","m","flt","fdt","flrm","fdrm","max","a","bits","d","p","o","bits16","slc","subarray","ec","err","ind","msg","nt","Error","code","captureStackTrace","inflt","dat","st","buf","dict","sl","dl","f","noBuf","resize","noSt","cbuf","bl","nbuf","Math","set","final","pos","bt","lm","dm","lbt","dbt","n","tbts","type","t","hLit","hcLen","tl","ldt","clt","clb","clbmsk","clm","c","lt","dt","lms","dms","lpos","sym","add","dsym","end","shift","dend","min","et","b2","b4","b8","inflateSync","data","opts","out","dictionary","td","TextDecoder","decode","stream","strFromU8","latin1","String","fromCharCode","dutf8","slzh","zh","z","fnl","fn","es","bs","z64e","sc","su","off","unzip","buffer","encoding","zipBuffer","ArrayBuffer","decompressed","files","ze","c_2","no","fflate.unzipSync","key","fileName","decoder","stringToUint8Array","slice","toLowerCase","fflate.strFromU8","ex","str","arr","push","charCodeAt","PJD_3PARAM","PJD_7PARAM","PJD_GRIDSHIFT","PJD_WGS84","PJD_NODATUM","SRS_WGS84_SEMIMAJOR","SRS_WGS84_SEMIMINOR","SRS_WGS84_ESQUARED","SEC_TO_RAD","HALF_PI","PI","SIXTH","RA4","RA6","EPSLN","D2R","R2D","FORTPI","TWO_PI","SPI","exports","units","ft","to_meter","ignoredChar","match","obj","testkey","keys","Object","lkey","replace","projStr","defData","paramName","paramVal","paramOutname","self","paramObj","split","map","trim","filter","reduce","params","proj","datum","rf","parseFloat","lat_0","lat0","lat_1","lat1","lat_2","lat2","lat_ts","lon_0","long0","lon_1","long1","lon_2","long2","alpha","gamma","rectified_grid_angle","lonc","longc","x_0","x0","y_0","y0","k_0","k0","k","r_a","R_A","zone","parseInt","south","utmSouth","towgs84","datum_params","unit","from_greenwich","pm","PrimeMeridian","nadgrids","datumCode","axis","legalAxis","indexOf","substr","approx","NEUTRAL","whitespace","latin","keyword","endThings","digets","Parser","text","this","level","place","root","stack","currentObject","state","mapit","Array","isArray","unshift","newObj","item","sExpr","name","convert","prototype","readCharicter","char","test","neutral","quoted","afterquote","number","word","afterItem","pop","newObjects","output","d2r","input","wkt","lisp","projName","local","PROJECTION","AXIS","axisOrder","ii","UNIT","DATUM","SPHEROID","geogcs","GEOGCS","toMeter","sphere","ellps","TOWGS84","isFinite","forEach","outName","inName","rename","cleanWKT","defs","that","arguments","def","charAt","parseProj","EPSG","ESRI","IAU2000","console","log","WGS84","GOOGLE","globals","codeWords","codes","parse","testObj","testDef","some","testWKT","auth","checkMercator","maybeProjStr","ext","checkProjStr","testProj","extend","destination","source","property","undefined","msfnz","eccent","sinphi","cosphi","con","sqrt","sign","adjust_lon","abs","tsfnz","phi","pow","tan","phi2z","ts","dphi","eccnth","atan","sin","merc","init","cos","forward","y","lon","lat","inverse","exp","names","identity","pt","projs","projStore","len","projections","get","exports$2","ellipseName","exports$1","wgs84","ellipse","datumName","ch1903","ggrs87","nad83","nad27","potsdam","carthage","hermannskogel","militargeographische_institut","osni52","ire65","rassadiran","nzgd49","osgb36","s_jtsk","beduaram","gunung_segara","rnb72","loadedNadgrids","parseNadgridString","optional","mandatory","grid","isNull","secondsToRadians","seconds","decodeString","view","mapNodes","nodes","longitudeShift","latitudeShift","readGridHeader","offset","isLittleEndian","parent","lowerLatitude","getFloat64","upperLatitude","lowerLongitude","upperLongitude","latitudeInterval","longitudeInterval","gridNodeCount","getInt32","readGridNodes","gridHeader","nodesOffset","gridShiftRecords","record","getFloat32","latitudeAccuracy","longitudeAccuracy","Projection","srsCode","callback","error","json","parseCode","ourProj","datumDef","Datum","sphere_","Ellipsoid","dc_sphere","ecc","a2","ep2","dc_eccentricity","getNadgrids","datumObj","datum_type","grids","geodeticToGeocentric","Rn","Sin_Lat","Cos_Lat","Longitude","Latitude","Height","Infinity","geocentricToGeodetic","RR","CT","ST","RX","RK","RN","CPHI0","SPHI0","CPHI","SPHI","SDPHI","iter","genau","X","Y","Z","atan2","checkParams","datum_transform","dest","point","compareDatums","source_a","source_es","applyGridShift","dest_a","dest_b","dest_es","Rx_BF","Ry_BF","Rz_BF","M_BF","geocentricToWgs84","x_tmp","y_tmp","z_tmp","geocentricFromWgs84","Number","attemptedGrids","outer","subgrids","jj","subgrid","epsilon","del","ll","lim","applySubgridShift","isNaN","pin","ct","val","tb","nadInterpolate","dif","inx","indx","floor","frct","f00","cvs","f10","f11","f01","m11","m10","m00","m01","adjust_axis","crs","denorm","xin","yin","zin","common","array","checkCoord","num","TypeError","transform","enforceAxis","hasZ","toPoint","checkSanity","checkNotWGS","transformer","from","to","coords","transformedArray","NaN","concat","splice","checkProj","oProj","proj4","fromProj","toProj","coord","single","NUM_100K_SETS","SET_ORIGIN_COLUMN_LETTERS","SET_ORIGIN_ROW_LETTERS","A","I","O","V","mgrs","bbox","UTMtoLL","toUpperCase","left","bottom","right","top","accuracy","utm","seasting","easting","snorthing","northing","zoneNumber","zoneLetter","setParm","get100kSetForZone","column","row","parm","index","colOrigin","rowOrigin","colInt","rowInt","rollover","encode","eccPrimeSquared","N","T","C","LongOriginRad","ZoneNumber","Lat","Long","eccSquared","LatRad","degToRad","LongRad","UTMEasting","UTMNorthing","round","getLetterDesignator","LLtoUTM","deg","radToDeg","rad","N1","T1","C1","R1","D","LongOrigin","mu","phi1Rad","e1","topRight","LetterDesignator","mgrsString","testChar","hunK","sb","substring","east100k","curCol","eastingValue","rewindMarker","getEastingFromChar","north100k","curRow","northingValue","getNorthingFromChar","getMinNorthing","remainder","accuracyBonus","sepEastingString","sepNorthingString","sep","sepEasting","sepNorthing","Point","warn","fromMGRS","mgrsStr","toMGRS","C00","C02","C04","C06","C08","C22","C44","C46","C48","C66","C68","C88","pj_enfn","en","pj_mlfn","sphi","cphi","MAX_ITER","pj_inv_mlfn","arg","tmerc","ml0","delta_lon","sin_phi","cos_phi","al","als","cs","ml","acos","tan_phi","ds","g","h","asin","sinh","hypot","asinhy","log1py","gatg","pp","B","cos_2B","h1","h2","clens_cmplx","arg_r","arg_i","hr2","hi2","sin_arg_r","cos_arg_r","sinh_arg_i","cosh_arg_i","cosh","hr","hi1","hr1","hi","etmerc","cgb","cbg","utg","gtu","np","Qn","Zb","clens","Ce","Cn","sin_Cn","cos_Cn","sin_Ce","cos_Ce","tmp","adjust_zone","dependsOn","srat","esinp","gauss","rc","phic0","ratexp","K","sterea","sinc0","cosc0","R2","title","sinc","cosc","cosl","rho","stere","coslat0","sinlat0","cons","ms1","X0","ssfn_","cosX0","sinX0","sinX","cosX","rh","sinlat","coslat","dlon","ce","Chi","phit","eccen","somerc","phy0","lambda0","sinPhy0","semiMajorAxis","flattening","e2","R","b0","rotI","rotB","lambda","phy","prevPhy","iteration","TOL","omerc","com","cosph0","F","H","L","sinph0","J","gamma0","lamc","lam1","lam2","phi1","phi2","alpha_c","no_off","no_rot","alp","gam","one_es","E","lam0","pi","singam","cosgam","sinrot","cosrot","rB","ArB","BrA","u_0","v_pole_n","v_pole_s","S","U","W","temp","u","Qp","Sp","Tp","Vp","Up","lcc","sin1","ts1","sin2","ms2","ts2","ts0","ns","f0","rh1","theta","krovak","s45","s90","fi0","alfa","uq","u0","k1","n0","s0","ro0","ad","gfi","deltav","eps","ro","czech","fi1","ok","mlfn","e0","e3","e0fn","e1fn","e2fn","e3fn","gN","adjust_lat","imlfn","cass","lam","nl","asq","cl","dd","nl1","rl1","tl1","dsq","qsfnz","P00","P01","P02","P10","P11","P20","laea","mode","S_POLE","N_POLE","EQUIT","OBLIQ","qp","mmf","apa","APA","authset","rq","xmf","ymf","sinb1","cosb1","coslam","sinlam","q","sinb","cosb","cCe","sCe","ab","beta","cosz","sinz","asinz","aea","sin_po","cos_po","t1","qs1","t2","qs2","t3","qs0","ns0","qs","phi1z","eccnts","gnom","sin_p14","cos_p14","infinity_dist","coslon","cea","iqsfnz","eqc","dlat","poly","el","tanphi","mln","mlnp","ma","nzmg","B_re","B_im","C_re","C_im","d_phi","d_lambda","d_phi_n","d_psi","th_n_im1","th_re","th_im","th_n_re","th_n_im","z_re","z_im","z_n_im1","z_n_re","z_n_im","iterations","num_re","num_im","den_re","den_im","den2","d_psi_n","mill","sinu","C_y","C_x","moll","delta_theta","eqdc","ml1","ml2","vandg","sinth","costh","msq","xx","yy","xys","c1","c2","c3","a1","m1","th1","aeqd","sin_p12","cos_p12","Mlp","Ml","Nl1","Nl","psi","Az","G","GH","Hs","kp","s2","s3","s4","cosAz","Ee","sinpsi","ortho","FACE_ENUM","AREA_ENUM","AREA_0","AREA_1","AREA_2","AREA_3","qsc_fwd_equat_face_theta","area","qsc_shift_lon_origin","slon","qsc","face","one_minus_f","one_minus_f_squared","xy","sinlon","nu","cosmu","tannu","invert_sign","xa","lp","COEFS_X","COEFS_Y","FXC","FYC","RC1","NODES","poly3_val","coefs","robin","f_df","max_err","iters","upd","newton_rapshon","poly3_der","geocent","azi","degrees","tilt","tpers","bind","pn1","rp","pfact","omega","cg","sg","cw","sw","yt","ba","bm","bq","geos","flip_axis","sweep","radius_g_1","radius_g","rone_es","radius_p","radius_p2","radius_p_inv2","shape","v_x","v_y","v_z","det","v_zp","defaultDatum","Proj","nadgrid","DataView","nFields","detectLittleEndian","header","nSubgridFields","nSubgrids","shiftType","fromSemiMajorAxis","fromSemiMinorAxis","toSemiMajorAxis","toSemiMinorAxis","readHeader","gridOffset","subHeader","lngColumnCount","latColumnCount","count","readSubgrids","version","includedProjections","ShpRow","constructor","id","ShpHeader","shpCode","ShpBase","trans","parseCoordinateArray","parseCoordinate","parseArrayGroup","partOffset","tot","dataView","curNum","pointNumber","nextNum","polyFuncs","coordinates","polyReduce","parseZPointArray","zOffset","parseZArrayGroup","isClockWise","sum","prev","cur","args","ShpPoint","ShpPolyline","numParts","mins","maxs","ShpPolygon","super","ShpMultiPoint","RangeError","ShpZPoint","pointXY","ShpZPolyline","geoJson","ShpZPolygon","ShpZMultiPoint","ParseShp","rows","shpObjArray","getShpCode","parseHeader","getRows","byteLength","current","getRow","shpGeoObject","headers","setShpObjType","ParseShpFile","binaryAjax","_url","url","combine","isOptionalTxt","resp","fetch","status","statusText","arrayBuffer","base","resUrl","startsWith","URL","location","href","pathname","endsWith","ShpEntity","defaultDecoder","regex","createDecoder","second","exec","DbfHeader","ParseDbf","readDbfHeader","dbfHeader","lastUpdated","Date","getInt8","records","headerLen","getInt16","recLen","readDbfRowHeaders","dbfRowHeaders","dataType","getUint8","decimal","rowFunc","textData","parseRow","rowHeaders","field","parseDbf","ShpHelper","geometryArray","propertiesArray","shpEntity","features","geometry","properties","parseZip","whiteList","zip","geojson","parsed","dbf","lastDotIdx","lastIndexOf","JSON","getZip","handleShp","all","prj","handleDbf","cpg","checkSuffix","suffix","getShapefile","results","parseShp","shp","sp"],"mappings":"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","x_google_ignoreList":[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93]}